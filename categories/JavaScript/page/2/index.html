<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>分类: JavaScript - 关于代码的碎碎念</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="LeiTech"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="LeiTech"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ODQ4NjUwMTI5QHFxLmNvbQ&amp;#x3D;&amp;#x3D;"><meta property="og:type" content="blog"><meta property="og:title" content="关于代码的碎碎念"><meta property="og:url" content="https://cocoalei.github.io/blogs"><meta property="og:site_name" content="关于代码的碎碎念"><meta property="og:description" content="ODQ4NjUwMTI5QHFxLmNvbQ&amp;#x3D;&amp;#x3D;"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cocoalei.github.io/img/og_image.png"><meta property="article:author" content="Y2hlbmdsZWk="><meta property="article:tag" content="iOS,HTML,CSS,JavaScript,Vue.js"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://cocoalei.github.io/blogs"},"headline":"关于代码的碎碎念","image":["https://cocoalei.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Y2hlbmdsZWk="},"publisher":{"@type":"Organization","name":"关于代码的碎碎念","logo":{"@type":"ImageObject","url":"https://cocoalei.github.io/img/logo.svg"}},"description":"ODQ4NjUwMTI5QHFxLmNvbQ&#x3D;&#x3D;"}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-dark.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="关于代码的碎碎念" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-content"><nav class="breadcrumb" aria-label="breadcrumbs"><ul><li><a href="/categories">分类</a></li><li class="is-active"><a href="#" aria-current="page">JavaScript</a></li></ul></nav></div></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2019-03-08T16:00:00.000Z" title="2019/3/9 00:00:00">2019-03-09</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">1 分钟读完 (大约224个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2019/03/09/JavaScript%20%E8%A3%85%E9%A5%B0%E5%99%A8%E5%92%8C%E8%BD%AC%E5%8F%91/">JavaScript 装饰器和转发</a></h1><div class="content"><p>装饰器模式</p>
<p>装饰器是一个特殊的函数，它接受一个函数作为参数，并改变它的行为。</p>
<p>它非常重要和普遍的一种应用就是缓存函数返回结果，节省重复计算的时间。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">cacheDecorator</span>(<span class="params">fun</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> cache = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// 如果命中缓存，则直接返回缓存中的计算好的值</span></span><br><span class="line">    <span class="keyword">if</span> (cache.has(x)) <span class="keyword">return</span> cache.get(x);</span><br><span class="line">    <span class="comment">// 如果没有命中缓存，则使用传入的函数重新计算结果</span></span><br><span class="line">    <span class="keyword">const</span> result = fun(x);</span><br><span class="line">    <span class="comment">// 将新的结果进行缓存</span></span><br><span class="line">    cache.set(x, result);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><code>call</code> 和 <code>apply</code> 都允许显式地设置调用函数执行时的上下文（即 <code>this</code> 值），在作用上它们几乎相同。</p>
<p>不同的是 <code>call</code> 以参数列表的形式接收参数，而 <code>apply</code> 以类数组的形式接收参数。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-09-01T16:00:00.000Z" title="2018/9/2 00:00:00">2018-09-02</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">10 分钟读完 (大约1569个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/09/02/JavaScript%20%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/">JavaScript 正则表达式</a></h1><div class="content"><h1 id="JavaScript-正则表达式"><a href="#JavaScript-正则表达式" class="headerlink" title="JavaScript 正则表达式"></a>JavaScript 正则表达式</h1><p><img src="https://raw.githubusercontent.com/CocoaLei/images/master/img/20201119163912.png" alt="JavaScript 正则表达式"></p>
<h2 id="什么是正则表达式？"><a href="#什么是正则表达式？" class="headerlink" title="什么是正则表达式？"></a>什么是正则表达式？</h2><p>正则表达式是一些用来匹配和处理文本的字符串。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p>可以使用字面量、构造器和工厂标记来创建正则表达式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">/partern/flags</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">RegExp</span>(pattern[, flags])</span><br><span class="line"><span class="built_in">RegExp</span>(pattern[, flags])</span><br></pre></td></tr></table></figure>

<p>其中 <code>flags</code> </p>
<ul>
<li><code>g</code> 全局匹配</li>
<li><code>i</code> 不区分大小写</li>
<li><code>m</code> 多行匹配</li>
<li><code>u</code> Unicode 字符匹配</li>
</ul>
<h2 id="正则表达式中的特殊字符"><a href="#正则表达式中的特殊字符" class="headerlink" title="正则表达式中的特殊字符"></a>正则表达式中的特殊字符</h2><h3 id="字符类"><a href="#字符类" class="headerlink" title="字符类"></a>字符类</h3><ul>
<li><code>.</code> 匹配除行终止符(<code>\n,\r,\u2028 or \u2029</code>)之外的任何单个字符，若在字符集中则仅仅只匹配<code>.</code></li>
<li><code>\d</code> 匹配任何一个数字字符，相当于 <code>[0-9]</code></li>
<li><code>\D</code> 匹配任何一个非数字字符，相当于 <code>[^0-9]</code></li>
<li><code>\w</code> 匹配任何一个字母数字字符，包括下划线，相当于 <code>[A-Za-z0-9_]</code></li>
<li><code>\W</code> 匹配任何一个非字母数字字符或非下划线字符，相当于  <code>[^A-Za-z0-9_]</code></li>
<li><code>\s</code> 匹配任何单个空格字符，相当于 <code>[\f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]</code></li>
<li><code>\S</code> 匹配除了空格外的单个字符，相当于 <code>[^ \f\n\r\t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]</code></li>
<li><code>\t</code> 匹配一个横向制表符</li>
<li><code>\r</code> 匹配一个回车</li>
<li><code>\n</code> 匹配一个换行符</li>
<li><code>\v</code> 匹配一个垂直制表符</li>
<li><code>\f</code> 匹配一个换页符</li>
<li><code>[\b]</code> 匹配一个删除符</li>
<li><code>\0</code> 匹配 NUL 字符</li>
<li><code>\cX</code> 匹配控制字符</li>
</ul>
<h3 id="字符集"><a href="#字符集" class="headerlink" title="字符集"></a>字符集</h3><ul>
<li><code>[-a-z-]</code> 匹配方括号中字符中的任何一个，可以使用连字符 <code>-</code> 来指定字符范围，但如果连字符是方括号中的第一个或最后一个字符，则作为普通字符包含在字符集中。也可以在字符集中包含字符类。</li>
<li><code>[^-A-Z-]</code> 匹配除括号中包含的内容外的任何内容</li>
</ul>
<h3 id="可选字符"><a href="#可选字符" class="headerlink" title="可选字符"></a>可选字符</h3><ul>
<li><code>x|y</code> 匹配 x 或 y 中的一个</li>
</ul>
<h3 id="边界"><a href="#边界" class="headerlink" title="边界"></a>边界</h3><ul>
<li><code>^</code> 匹配开头，如果设置了多行匹配标记，则在换行符后立即匹配</li>
<li><code>$</code> 匹配结尾</li>
<li><code>\b</code> 匹配单词边界，实际上它匹配的是一个能够构成单词的字符(\w)和一个不能构成单词的字符(\W)之间的位置</li>
<li><code>\B</code> 匹配非单词边界</li>
</ul>
<h3 id="分组和反向引用"><a href="#分组和反向引用" class="headerlink" title="分组和反向引用"></a>分组和反向引用</h3><ul>
<li><code>(x)</code> 匹配 x 并记录匹配结果，称为捕获分组</li>
<li><code>\n</code> 引用之前的第 n 个 表达式</li>
<li><code>(?:x)</code> 匹配 x 但不记录匹配结果，称为非捕获分组</li>
</ul>
<h3 id="量词"><a href="#量词" class="headerlink" title="量词"></a>量词</h3><ul>
<li><code>x*</code>  匹配 x 0次或更多次</li>
<li><code>x+</code> 匹配 x 1次或更多次</li>
<li><code>x?</code> 匹配 x 0次或1次</li>
<li><code>x&#123;n&#125;</code> 匹配 x n次</li>
<li><code>x&#123;n,&#125;</code> 匹配 x 至少n次</li>
<li><code>x&#123;n,m&#125;</code> 匹配 x 至少n次至多m次</li>
<li><code>?</code> 非贪婪匹配，在量词后加上 <code>?</code> 表示量词的非贪婪模式，匹配尽可能少的字符</li>
</ul>
<h3 id="回溯引用"><a href="#回溯引用" class="headerlink" title="回溯引用"></a>回溯引用</h3><ul>
<li><p><code>x(?=y)</code> 前向查找，仅当 <code>x</code> 后跟 <code>y</code> 时，才匹配 <code>x</code></p>
<img src="https://raw.githubusercontent.com/CocoaLei/images/master/img/20211110161955.png" alt="image-20211110161954405" style="zoom:50%;" />
</li>
<li><p><code>(?&lt;=y)x</code> 后向查找，仅当 <code>x</code> 前面有 <code>y</code> 时，才匹配 <code>x</code></p>
<img src="https://raw.githubusercontent.com/CocoaLei/images/master/img/20211110162116.png" alt="image-20211110162115215" style="zoom:50%;" />





</li>
</ul>
<h2 id="常用的方法"><a href="#常用的方法" class="headerlink" title="常用的方法"></a>常用的方法</h2><ul>
<li><p><code>exec()</code></p>
<p>在指定的字符串上执行匹配搜索，返回结果数组或 <code>null</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;My ip address is 255.198.99.101 and your ip address 199.123.44.88&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/\d&#123;1,3&#125;\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Found 255.198.99.101, from index 17, last match from index 31</span></span><br><span class="line"><span class="comment">// Found 199.123.44.88, from index 52, last match from index 65</span></span><br><span class="line"><span class="keyword">while</span>((res = reg.exec(str)) !== <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Found <span class="subst">$&#123;res[<span class="number">0</span>]&#125;</span>, from index <span class="subst">$&#123;res[<span class="string">&#x27;index&#x27;</span>]&#125;</span>, last match from index <span class="subst">$&#123;reg.lastIndex&#125;</span>`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>test()</code></p>
<p>在指定的字符串和一个正则表达式之间执行匹配搜索，返回 <code>true</code> 或 <code>false</code></p>
</li>
<li><p><code>match()</code></p>
<p>对给定的字符串进行匹配并返回匹配结果</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> str = <span class="string">&quot;My ip address is 255.198.99.101 and your ip address 199.123.44.88&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> reg = <span class="regexp">/\d&#123;1,3&#125;\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;\.\d&#123;1,3&#125;/g</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [ &#x27;255.198.99.101&#x27;, &#x27;199.123.44.88&#x27; ]</span></span><br><span class="line"><span class="built_in">console</span>.log(str.match(reg));</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>replace()</code></p>
<p>使用给定的字符串替换匹配到的结果</p>
</li>
<li><p><code>search()</code></p>
<p>在给定的字符串中搜索匹配，并返回首次匹配结果的索引</p>
</li>
<li><p><code>split()</code></p>
<p>通过将字符串分隔为子字符串，将字符串拆分为数组。</p>
</li>
</ul>
<h2 id="常用正则表达式"><a href="#常用正则表达式" class="headerlink" title="常用正则表达式"></a>常用正则表达式</h2><ul>
<li><p>匹配中文字符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^[\u4e00-\u9fa5]&#123;<span class="number">0</span>,&#125;$/</span><br></pre></td></tr></table></figure>
</li>
<li><p>匹配双字节字符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/[^\x00-\xff]/</span><br></pre></td></tr></table></figure>
</li>
<li><p>匹配千分位</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\B(?=(\b&#123;<span class="number">3</span>&#125;)+(?!\d))/</span><br></pre></td></tr></table></figure>
</li>
<li><p>匹配两位小数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^([<span class="number">1</span>-<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]*)(\.[<span class="number">0</span>-<span class="number">9</span>]&#123;<span class="number">2</span>&#125;)?$/</span><br></pre></td></tr></table></figure>
</li>
<li><p>匹配中国固定电话号码</p>
<p>最开始的一位一定是 0，接着是 2，3，4位数字组成的区号，然后是7位或8位的电话号码，其中首位不为1</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\(?<span class="number">0</span>[<span class="number">1</span>-<span class="number">9</span>]\d&#123;<span class="number">1</span>,<span class="number">3</span>&#125;\)?[ -]?[<span class="number">2</span>-<span class="number">9</span>]\d&#123;<span class="number">2</span>,<span class="number">3</span>&#125;[ -]?\d&#123;<span class="number">4</span>&#125;/</span><br></pre></td></tr></table></figure>
</li>
<li><p>匹配统一社会信用代码</p>
<p>统一社会信用代码由18位数字或者大写字母组成，但是字母不包括 <strong>I、O、Z、S、V</strong></p>
<p>一共由五部分组成：</p>
<p>第一部分：登记管理部门代码1位 (数字或大写英文字母)</p>
<p>第二部分：机构类别代码1位 (数字或大写英文字母)</p>
<p>第三部分：登记管理机关行政区划码6位 (数字)</p>
<p>第四部分：主体标识码（组织机构代码）9位 (数字或大写英文字母)</p>
<p>第五部分：校验码1位 (数字或大写英文字母)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/[<span class="number">0</span>-9A-HJ-NPQRTUWXY]&#123;<span class="number">2</span>&#125;\d&#123;<span class="number">6</span>&#125;[<span class="number">0</span>-9A-HJ-NPQRTUWXY]&#123;<span class="number">10</span>&#125;/</span><br></pre></td></tr></table></figure>

<p>目前还有老的工商注册代码，也就是15位的社会信用代码，正则表达式如下：（弱校验）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/[<span class="number">1</span>-<span class="number">9</span>]\d&#123;<span class="number">15</span>&#125;/</span><br></pre></td></tr></table></figure>

<p>同时支持18位和15位社会信用代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/^([<span class="number">0</span>-9A-HJ-NPQRTUWXY]&#123;<span class="number">2</span>&#125;\d&#123;<span class="number">6</span>&#125;[<span class="number">0</span>-9A-HJ-NPQRTUWXY]&#123;<span class="number">10</span>&#125;|[<span class="number">1</span>-<span class="number">9</span>]\d&#123;<span class="number">14</span>&#125;)$/</span><br></pre></td></tr></table></figure>
</li>
<li><p>中国邮政编码</p>
<p>前两位代表省、市、自治区，第三位代表邮区，第四位代表县、市，最后两位代表投递邮局，其中第二位不为 8。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/\d[<span class="number">0</span>-<span class="number">7</span>|<span class="number">9</span>][<span class="number">0</span>-<span class="number">9</span>]&#123;<span class="number">4</span>&#125;/</span><br></pre></td></tr></table></figure>
</li>
<li><p>中国身份证号码</p>
<p>前六位是户口所在地编码，其中第一位是 1~8，此后是出生年月日，出生年份只能是 18、19、20，而且是可选的，最后一位校验位是数字或 x</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/[<span class="number">1</span>-<span class="number">8</span>]\d&#123;<span class="number">5</span>&#125;((<span class="number">18</span>)|(<span class="number">19</span>)|(<span class="number">20</span>))?\d&#123;<span class="number">2</span>&#125;(<span class="number">0</span>[<span class="number">1</span>-<span class="number">9</span>]|<span class="number">1</span>[<span class="number">0</span>-<span class="number">2</span>])((<span class="number">0</span>|<span class="number">1</span>|<span class="number">2</span>)[<span class="number">1</span>-<span class="number">9</span>]|<span class="number">3</span>[<span class="number">0</span>-<span class="number">1</span>])\d&#123;<span class="number">3</span>&#125;[\dx]?/</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="JavaScript-中的特殊字符"><a href="#JavaScript-中的特殊字符" class="headerlink" title="JavaScript 中的特殊字符"></a>JavaScript 中的特殊字符</h2><table>
<thead>
<tr>
<th>Unicode</th>
<th>转义序列</th>
<th>含义</th>
<th align="center">类别</th>
</tr>
</thead>
<tbody><tr>
<td>\u0008</td>
<td>\b</td>
<td>Backspace</td>
<td align="center"></td>
</tr>
<tr>
<td>\u0009</td>
<td>\t</td>
<td>Tab</td>
<td align="center">空白</td>
</tr>
<tr>
<td>\u000A</td>
<td>\n</td>
<td>换行符</td>
<td align="center">行终止符</td>
</tr>
<tr>
<td>\u000B</td>
<td>\v</td>
<td>垂直制表符</td>
<td align="center">空白</td>
</tr>
<tr>
<td>\u000C</td>
<td>\f</td>
<td>换页</td>
<td align="center">空白</td>
</tr>
<tr>
<td>\u000D</td>
<td>\r</td>
<td>回车</td>
<td align="center">行终止符</td>
</tr>
<tr>
<td>\u0022</td>
<td>&quot;</td>
<td>双引号</td>
<td align="center"></td>
</tr>
<tr>
<td>\u0027</td>
<td>&#39;</td>
<td>单引号</td>
<td align="center"></td>
</tr>
<tr>
<td>\u005C</td>
<td>\ \</td>
<td>反斜杠</td>
<td align="center"></td>
</tr>
<tr>
<td>\u00A0</td>
<td></td>
<td>不间断空格</td>
<td align="center">空白</td>
</tr>
<tr>
<td>\u0028</td>
<td></td>
<td>行分隔符</td>
<td align="center">行终止符</td>
</tr>
<tr>
<td>\u0029</td>
<td></td>
<td>段落分割符</td>
<td align="center">行终止符</td>
</tr>
<tr>
<td>\uFEFF</td>
<td></td>
<td>字节顺序标记</td>
<td align="center">空白</td>
</tr>
</tbody></table>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-06-15T16:00:00.000Z" title="2018/6/16 00:00:00">2018-06-16</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">4 分钟读完 (大约562个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/06/16/JavaScript%20%E6%96%87%E4%BB%B6%E6%93%8D%E4%BD%9C/">JavaScript 文件操作</a></h1><div class="content"><p>在大部分浏览器上，你不能直接存储你创建的文件，因为这会导致大量的安全问题。不过你可以将你的文件通过下载链接的方式提供给用户。</p>
<h2 id="在客户端生成文件"><a href="#在客户端生成文件" class="headerlink" title="在客户端生成文件"></a>在客户端生成文件</h2><p>静态方法 <code>window.URL.createObjectURL(object)</code> 会创建一个表示参数中给出的对象 <code>object</code> 的 <code>URL</code> 的  <code>DOMString</code> ，其生命周期和创建它的 <code>document</code> 生命周期绑定。</p>
<p><code>object</code> 可以是 <code>File</code> 、<code>Blob</code> 和 <code>MediaSource</code>。</p>
<p>每次调用 <code>createObjectURL()</code> 都会为指定的对象创建一个新的 <code>URL</code> 对象，而不管是否已经用这个指定对象创建过 <code>URL</code> 对象。因此在创建的 <code>URL</code> 对象不再使用时，应该在安全的时机调用 <code>revokeObjectURL()</code> 方法来释放掉它。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> objArrInJson = <span class="built_in">JSON</span>.stringify([</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;一般职业&quot;</span>,</span><br><span class="line">    <span class="string">&quot;value&quot;</span>: <span class="string">&quot;0&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>: <span class="string">&quot;农牧业&quot;</span>,</span><br><span class="line">    <span class="string">&quot;value&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;childs&quot;</span>: [</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;机关、团体、公司&quot;</span>,</span><br><span class="line">        <span class="string">&quot;value&quot;</span>: <span class="string">&quot;1&quot;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,]);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateF</span>(<span class="params">raw</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> datasInBlob = <span class="keyword">new</span> Blob([raw], &#123; <span class="attr">type</span>: <span class="string">&#x27;application/json&#x27;</span> &#125;);</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">window</span>.URL.createObjectURL(datasInBlob);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="关于-FileReader"><a href="#关于-FileReader" class="headerlink" title="关于 FileReader"></a>关于 <code>FileReader</code></h2><p>在网页应用程序中，使用 <code>FileReader</code> 可以通过使用 <code>Blob</code> 或 <code>File</code>  指定要异步的读取的文件内容（或数据缓冲区内容）。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">multiple</span> <span class="attr">accept</span>=<span class="string">&quot;*&quot;</span> <span class="attr">id</span>=<span class="string">&quot;fileInput&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> fileInput = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;fileInput&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="comment">// change 事件当用户选择了文件时被触发</span></span></span><br><span class="line"><span class="javascript">    fileInput.addEventListener(<span class="string">&#x27;change&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> fileI = event.target;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(fileI.files);</span></span><br><span class="line"><span class="javascript">    &#125;)</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>文件加载完成后返回的 <code>files</code> 是一个 <code>FileList</code>，其中的 <code>File</code> 的就是选择的文件的相关信息。</p>
<p><code>File</code> 对象包含提供文件有关的信息，使得网页中的代码能够访问文件内容。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">lastModified</span>: <span class="number">00000000000</span>, <span class="comment">// 只读属性，以毫秒表示的的文件上次修改时间</span></span><br><span class="line">  <span class="attr">lastModifiedDate</span>: <span class="string">&#x27;&#x27;</span>, <span class="comment">// 只读属性，文件上次修改时间</span></span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;file.text&#x27;</span>, <span class="comment">// 只读属性， File 对象的关联的文件的名称</span></span><br><span class="line">  <span class="attr">size</span>: <span class="number">1024</span>, <span class="comment">// 只读属性，以字节表示的文件大小</span></span><br><span class="line">  <span class="attr">type</span>: <span class="string">&#x27;text/plain&#x27;</span>, <span class="comment">// 只读属性，文件的 MIME 类型，类型不确定是返回 &quot;&quot;</span></span><br><span class="line">  <span class="attr">webkitRelativePath</span>: <span class="string">&#x27;&#x27;</span> <span class="comment">// 文件相关的 `Path` 或 `URL`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="拖拽文件"><a href="#拖拽文件" class="headerlink" title="拖拽文件"></a>拖拽文件</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width,initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dropbox&quot;</span> <span class="attr">id</span>=<span class="string">&quot;dropbox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">    <span class="keyword">const</span> dropbox = <span class="built_in">document</span>.getElementById(<span class="string">&#x27;dropbox&#x27;</span>);</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">    dropbox.addEventListener(<span class="string">&#x27;dragenter&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      e.stopPropagation();</span></span><br><span class="line"><span class="javascript">      e.preventDefault();</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">    dropbox.addEventListener(<span class="string">&#x27;dragover&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      e.stopPropagation();</span></span><br><span class="line"><span class="javascript">      e.preventDefault();</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(e);</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">    dropbox.addEventListener(<span class="string">&#x27;drop&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span></span><br><span class="line"><span class="javascript">      e.stopPropagation();</span></span><br><span class="line"><span class="javascript">      e.preventDefault();</span></span><br><span class="line"><span class="javascript"></span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> dt = e.dataTransfer;</span></span><br><span class="line"><span class="javascript">      <span class="built_in">console</span>.log(dt);</span></span><br><span class="line"><span class="javascript">      <span class="keyword">const</span> files = dt.files;</span></span><br><span class="line"><span class="javascript">    &#125;, <span class="literal">false</span>);</span></span><br><span class="line"><span class="javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="css"></span></span><br><span class="line"><span class="css">    <span class="selector-class">.dropbox</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="attribute">width</span>: <span class="number">100vw</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="css">      <span class="attribute">background-color</span>: aliceblue;</span></span><br><span class="line"><span class="css">    &#125;</span></span><br><span class="line"><span class="css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-05-18T16:00:00.000Z" title="2018/5/19 00:00:00">2018-05-19</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">7 分钟读完 (大约1093个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/19/JavaScript%20%E6%B7%B1%E6%8B%B7%E8%B4%9D/">JavaScript 中的深拷贝和浅拷贝</a></h1><div class="content"><p>关于深拷贝和浅拷贝的定义：</p>
<ul>
<li>浅拷贝 - 创建一个新对象，这个对象有着原始对象属性值的一份精确拷贝。如果属性是基本类型，拷贝的就是基本类型的值，如果属性是引用类型，拷贝的就是内存地址 ，所以如果其中一个对象改变了这个地址，就会影响到另一个对象。</li>
<li>深拷贝 - 将一个对象从内存中完整的拷贝一份出来,从堆内存中开辟一个新的区域存放新对象,且修改新对象不会影响原对象。</li>
</ul>
<h2 id="使用-JSON-parse-JSON-stringify-来实现深拷贝"><a href="#使用-JSON-parse-JSON-stringify-来实现深拷贝" class="headerlink" title="使用 JSON.parse(JSON.stringify()) 来实现深拷贝"></a>使用 <code>JSON.parse(JSON.stringify())</code> 来实现深拷贝</h2><p>可以使用 <code>JSON.parse(JSON.stringify(obj))</code> 来实现对目标对象的深拷贝，但是这种方法有很多缺陷：</p>
<ul>
<li><p>如果 <code>undefined</code>、<code>Symbol</code> 和 函数是对象的属性值或以<code>Symbo</code>值为键的属性值，拷贝的对象会丢失这些属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> originObj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Trump&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">94</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="literal">undefined</span>,</span><br><span class="line">  <span class="attr">idNo</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;1900&#x27;</span>),</span><br><span class="line">  <span class="attr">speak</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;I am Trump&#x27;</span>),</span><br><span class="line">  [<span class="built_in">Symbol</span>.for(<span class="string">&#x27;weight&#x27;</span>)]: <span class="number">120</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copyObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(originObj));</span><br><span class="line"><span class="built_in">console</span>.log(copyObj); <span class="comment">// &#123; name: &#x27;Trump&#x27;, age: 94 &#125;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>无法处理循环引用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> team = &#123;</span><br><span class="line">  <span class="attr">teamName</span>: <span class="string">&#x27;MAGA&#x27;</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> originObj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Trump&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">94</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="literal">undefined</span>,</span><br><span class="line">  <span class="attr">idNo</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;1900&#x27;</span>),</span><br><span class="line">  <span class="attr">speak</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;I am Trump&#x27;</span>),</span><br><span class="line">  [<span class="built_in">Symbol</span>.for(<span class="string">&#x27;weight&#x27;</span>)]: <span class="number">120</span>,</span><br><span class="line">  team,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">team.leader = originObj;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copyObj = <span class="built_in">JSON</span>.parse(<span class="built_in">JSON</span>.stringify(originObj));</span><br><span class="line"><span class="built_in">console</span>.log(copyObj); <span class="comment">// TypeError: Converting circular structure to JSON</span></span><br></pre></td></tr></table></figure>





</li>
</ul>
<h2 id="一个比较全面的深拷贝实现"><a href="#一个比较全面的深拷贝实现" class="headerlink" title="一个比较全面的深拷贝实现"></a>一个比较全面的深拷贝实现</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> TYPE_OBJECT = <span class="string">&#x27;[object Object]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_MAP = <span class="string">&#x27;[object Map]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_SET = <span class="string">&#x27;[object Set]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_ARRAY = <span class="string">&#x27;[object Array]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_ARGUMENTS = <span class="string">&#x27;[object Arguments]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_BOOLEAN = <span class="string">&#x27;[object Boolean]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_DATE = <span class="string">&#x27;[object Date]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_NUMBER = <span class="string">&#x27;[object Number]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_STRING = <span class="string">&#x27;[object String]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_SYMBOL = <span class="string">&#x27;[object Symbol]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_ERROR = <span class="string">&#x27;[object Error]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_REGEXP = <span class="string">&#x27;[object RegExp]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_FUNCTION = <span class="string">&#x27;[object Function]&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> TYPE_UNDEFINED = <span class="string">&#x27;[object Undefined]&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> forEach = <span class="function">(<span class="params">array, iterator</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">let</span> index = -<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">let</span> length = array.length;</span><br><span class="line">  <span class="keyword">while</span>(++index &lt; length) &#123;</span><br><span class="line">    iterator(array[index], index);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> array;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> isObj = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> type = <span class="keyword">typeof</span> value;</span><br><span class="line">  <span class="keyword">return</span> value !== <span class="literal">null</span> &amp;&amp; (type === <span class="string">&#x27;object&#x27;</span> || type === <span class="string">&#x27;function&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getType = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> canCopyTags = [TYPE_OBJECT, TYPE_ARRAY, TYPE_MAP, TYPE_SET, TYPE_ARGUMENTS];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getInit = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> ctor = value.constructor;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> ctor();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copyReg = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> regFlags = <span class="regexp">/\w*$/</span>;</span><br><span class="line">  <span class="keyword">const</span> newReg = <span class="keyword">new</span> value.constructor(value.source, regFlags.exec(value));</span><br><span class="line">  newReg.lastIndex = value.lastIndex;</span><br><span class="line">  <span class="keyword">return</span> newReg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copySymbol = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>(<span class="built_in">Symbol</span>.prototype.valueOf.call(value));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copyFunction = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> bodyReg = <span class="regexp">/(?&lt;=&#123;)(.|\n)+(?=&#125;)/m</span>;</span><br><span class="line">  <span class="keyword">const</span> paramReg = <span class="regexp">/(?&lt;=\().+(?=\)\s+&#123;)/</span>;</span><br><span class="line">  <span class="keyword">if</span> (value.prototype) &#123;</span><br><span class="line">    <span class="keyword">const</span> body = bodyReg.exec(value.toString());</span><br><span class="line">    <span class="keyword">const</span> param = paramReg.exec(value.toString());</span><br><span class="line">    <span class="keyword">if</span> (body) &#123;</span><br><span class="line">      <span class="keyword">if</span> (param) &#123;</span><br><span class="line">        <span class="keyword">const</span> paramArr = param[<span class="number">0</span>].split(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span>(...paramArr, body[<span class="number">0</span>]);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Function</span>(body[<span class="number">0</span>]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">eval</span>(value.toString());</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copyOther = <span class="function">(<span class="params">value, type</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> ctor = value.constructor;</span><br><span class="line">  <span class="keyword">switch</span>(type) &#123;</span><br><span class="line">    <span class="keyword">case</span> TYPE_BOOLEAN:</span><br><span class="line">    <span class="keyword">case</span> TYPE_NUMBER:</span><br><span class="line">    <span class="keyword">case</span> TYPE_STRING:</span><br><span class="line">    <span class="keyword">case</span> TYPE_ERROR:</span><br><span class="line">    <span class="keyword">case</span> TYPE_DATE:</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> ctor(value);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> TYPE_REGEXP:</span><br><span class="line">      <span class="keyword">return</span> copyReg(value);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> TYPE_SYMBOL:</span><br><span class="line">      <span class="keyword">return</span> copySymbol(value);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> TYPE_FUNCTION:</span><br><span class="line">      <span class="keyword">return</span> copyFunction(value);</span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copy = <span class="function">(<span class="params">origin, relationMap = <span class="keyword">new</span> <span class="built_in">WeakMap</span>()</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!isObj(origin)) <span class="keyword">return</span> origin;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> type = getType(origin);</span><br><span class="line">  <span class="keyword">let</span> target;</span><br><span class="line">  <span class="keyword">if</span> (canCopyTags.includes(type)) &#123;</span><br><span class="line">    target = getInit(origin);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> copyOther(origin, type);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (relationMap.get(origin)) <span class="keyword">return</span> relationMap.get(origin);</span><br><span class="line">  relationMap.set(origin, target);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (type === TYPE_SET) &#123;</span><br><span class="line">    origin.forEach(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">      target.add(copy(value));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (type === TYPE_MAP) &#123;</span><br><span class="line">    origin.forEach(<span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</span><br><span class="line">      target.set(key, copy(value));</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> keys = type === TYPE_ARRAY ? <span class="literal">undefined</span> : <span class="built_in">Object</span>.keys(origin);</span><br><span class="line">  forEach(keys || origin, <span class="function">(<span class="params">value, key</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (keys) &#123;</span><br><span class="line">      key = value;</span><br><span class="line">    &#125;</span><br><span class="line">    target[key] = copy(origin[key], relationMap);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> originObj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Trump&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">94</span>,</span><br><span class="line">  <span class="attr">phone</span>: <span class="literal">undefined</span>,</span><br><span class="line">  <span class="attr">idNo</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;1900&#x27;</span>),</span><br><span class="line">  <span class="attr">speak</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="string">&#x27;I am Trump&#x27;</span>),</span><br><span class="line">  [<span class="built_in">Symbol</span>.for(<span class="string">&#x27;weight&#x27;</span>)]: <span class="number">120</span>,</span><br><span class="line">  <span class="attr">team</span>: &#123;</span><br><span class="line">    <span class="attr">leader</span>: <span class="string">&#x27;Ywank&#x27;</span>,</span><br><span class="line">    <span class="attr">office</span>: &#123;</span><br><span class="line">      <span class="attr">address</span>: <span class="string">&#x27;white house&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">employee</span>: [</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;pense&#x27;</span>, &#125;,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&#x27;fox&#x27;</span>, &#125;,</span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">originObj.president = originObj;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(copy(<span class="number">1</span>)); <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(copy(<span class="literal">undefined</span>)); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(copy(<span class="regexp">/\d/</span>)); <span class="comment">// /\d/</span></span><br><span class="line"><span class="built_in">console</span>.log(copy(<span class="keyword">new</span> <span class="built_in">Date</span>())); <span class="comment">// 2018-05-16T08:06:45.361Z</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> someFun = <span class="function"><span class="keyword">function</span>(<span class="params">num1, num2</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(num1 + num2);</span><br><span class="line">  <span class="keyword">return</span> num1 + num2;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copyFun = copy(someFun);</span><br><span class="line"><span class="built_in">console</span>.log(copyFun(<span class="number">1</span>, <span class="number">3</span>)); <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> someSet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">someSet.add(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(copy(someSet)); <span class="comment">// Set(1) &#123; 1 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> copyObj = copy(originObj);</span><br><span class="line"><span class="built_in">console</span>.log(originObj);</span><br><span class="line"><span class="built_in">console</span>.log(copyObj);</span><br><span class="line">copyObj.speak(); <span class="comment">// I am Trump</span></span><br></pre></td></tr></table></figure>



<h3 id="为什么使用-while-实现遍历"><a href="#为什么使用-while-实现遍历" class="headerlink" title="为什么使用 while 实现遍历"></a>为什么使用 <code>while</code> 实现遍历</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ARRAY_SIZE = <span class="number">10000000</span>;</span><br><span class="line"><span class="keyword">const</span> LARGE_ARRY = <span class="keyword">new</span> <span class="built_in">Array</span>(ARRAY_SIZE).fill(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// for...in</span></span><br><span class="line"><span class="keyword">let</span> forInCopy = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;FOR_IN&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> key <span class="keyword">in</span> LARGE_ARRY) &#123;</span><br><span class="line">  forInCopy += LARGE_ARRY[key];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;FOR_IN&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// for</span></span><br><span class="line"><span class="keyword">let</span> forCopy = <span class="number">0</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;FOR&#x27;</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> index = <span class="number">0</span>; index &lt; LARGE_ARRY.length; index += <span class="number">1</span>) &#123;</span><br><span class="line">  forCopy += LARGE_ARRY[index];</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;FOR&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// while</span></span><br><span class="line"><span class="keyword">let</span> whileCopy = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;WHILE&#x27;</span>);</span><br><span class="line"><span class="keyword">while</span>(index &lt; ARRAY_SIZE) &#123;</span><br><span class="line">  whileCopy += LARGE_ARRY[index];</span><br><span class="line">  index += <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;WHILE&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// forEach</span></span><br><span class="line"><span class="keyword">let</span> forEachCopy = <span class="number">0</span></span><br><span class="line"><span class="built_in">console</span>.time(<span class="string">&#x27;FOR_EACH&#x27;</span>);</span><br><span class="line">LARGE_ARRY.forEach(<span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  forEachCopy += value;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.timeEnd(<span class="string">&#x27;FOR_EACH&#x27;</span>);</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>遍历方式</th>
<th><code>for...in</code></th>
<th><code>for</code></th>
<th><code>forEach</code></th>
<th><code>while</code></th>
</tr>
</thead>
<tbody><tr>
<td>100</td>
<td>0.103ms</td>
<td>0.012ms</td>
<td>0.027ms</td>
<td>0.007ms</td>
</tr>
<tr>
<td>10</td>
<td>0.088ms</td>
<td>0.005ms</td>
<td>0.022ms</td>
<td>0.003ms</td>
</tr>
<tr>
<td>1000</td>
<td>0.313ms</td>
<td>0.036ms</td>
<td>0.052ms</td>
<td>0.028ms</td>
</tr>
<tr>
<td>10000</td>
<td>1.332ms</td>
<td>0.299ms</td>
<td>0.316ms</td>
<td>0.252ms</td>
</tr>
<tr>
<td>100000</td>
<td>14.167ms</td>
<td>1.691ms</td>
<td>1.977ms</td>
<td>1.428ms</td>
</tr>
<tr>
<td>1000000</td>
<td>140.967ms</td>
<td>2.928ms</td>
<td>14.94ms</td>
<td>3.012ms</td>
</tr>
<tr>
<td>10000000</td>
<td>2.748s</td>
<td>13.197ms</td>
<td>141.273ms</td>
<td>15.944ms</td>
</tr>
<tr>
<td>20000000</td>
<td>7.824s</td>
<td>22.389ms</td>
<td>254.557ms</td>
<td>28.07ms</td>
</tr>
<tr>
<td>30000000</td>
<td>17.107s</td>
<td>33.414ms</td>
<td>375.766ms</td>
<td>44.301ms</td>
</tr>
</tbody></table>
<p>综合来看，在百万量级的数据下，使用 <code>while</code> 进行遍历所耗费的时间最少。</p>
<h3 id="判断引用类型"><a href="#判断引用类型" class="headerlink" title="判断引用类型"></a>判断引用类型</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isObj = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> type = <span class="keyword">typeof</span> value;</span><br><span class="line">  <span class="keyword">return</span> value !== <span class="literal">null</span> &amp;&amp; (type === <span class="string">&#x27;object&#x27;</span> || type === <span class="string">&#x27;function&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="获取数据类型"><a href="#获取数据类型" class="headerlink" title="获取数据类型"></a>获取数据类型</h3><p>每一个引用类型都有<code>toString</code>方法，默认情况下，<code>toString()</code>方法被每个<code>Object</code>对象继承。如果此方法在自定义对象中未被覆盖，t<code>oString()</code> 返回 <code>&quot;[object type]&quot;</code>，其中type是对象的类型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getType = <span class="function">(<span class="params">value</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2018-05-11T16:00:00.000Z" title="2018/5/12 00:00:00">2018-05-12</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">8 分钟读完 (大约1195个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2018/05/12/json-stringify/">JSON.stringify 的解析</a></h1><div class="content"><p><code>JSON.stringify(value[, replacer [, space]])</code> 方法将一个 <code>JavaScript</code> 对象或值转换为 JSON 字符串，如果指定了一个 replacer 函数，则可以选择性地替换值，或者指定的 replacer 是数组，则可选择性地仅包含数组指定的属性。</p>
<h2 id="Note-1"><a href="#Note-1" class="headerlink" title="Note 1"></a>Note 1</h2><p>在 <code>JSON.stringify</code> 方法对对象进行序列化时，如果对象的属性是 <code>undefined</code>/<code>Symbol</code> 值或任意函数时，不会对其进行处理。</p>
<p>这会导致被序列化的对象中的属性并不会按照原定的顺序被输出。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someObj = &#123;</span><br><span class="line">  <span class="attr">_id</span>: <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">  <span class="attr">productCode</span>: <span class="string">&#x27;P28120068&#x27;</span>,</span><br><span class="line">  <span class="attr">productDetail</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Star Insure&#x27;</span>,</span><br><span class="line">    <span class="attr">price</span>: <span class="number">1200</span>,</span><br><span class="line">    <span class="attr">amount</span>: <span class="number">1000000</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">created_at</span>: <span class="string">&#x27;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&#x27;</span>,</span><br><span class="line">  <span class="attr">updated_at</span>: <span class="string">&#x27;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&#x27;</span>,</span><br><span class="line">  <span class="attr">nullValue</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">undefinedValue</span>: <span class="literal">undefined</span>, <span class="comment">// JSON.stringify 不会序列化 undefined</span></span><br><span class="line">  <span class="attr">symbolValue</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;TypeScript&#x27;</span>), <span class="comment">// JSON.stringify 不会序列化 Symbol</span></span><br><span class="line">  <span class="attr">arrowLog</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="built_in">this</span>), <span class="comment">// JSON.stringify 不会序列化 箭头函数</span></span><br><span class="line">  <span class="attr">funLog</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="built_in">this</span>) &#125;, <span class="comment">// JSON.stringify 不会序列化 函数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Note 1 : undefined、Symbol、任何函数作为对象的属性值时，JSON.stringify 不对其(忽略)进行序列化</span></span><br><span class="line"><span class="comment"> * &#123;  </span></span><br><span class="line"><span class="comment"> *  &quot;_id&quot;:&quot;id&quot;,</span></span><br><span class="line"><span class="comment"> *  &quot;productCode&quot;:&quot;P28120068&quot;,</span></span><br><span class="line"><span class="comment"> *  &quot;productDetail&quot;:&#123;&quot;</span></span><br><span class="line"><span class="comment"> *    name&quot;:&quot;Star Insure&quot;,</span></span><br><span class="line"><span class="comment"> *    &quot;price&quot;:1200,</span></span><br><span class="line"><span class="comment"> *    &quot;amount&quot;:1000000</span></span><br><span class="line"><span class="comment"> *   &#125;,</span></span><br><span class="line"><span class="comment"> *  &quot;created_at&quot;:&quot;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&quot;,</span></span><br><span class="line"><span class="comment"> *  &quot;updated_at&quot;:&quot;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&quot;,</span></span><br><span class="line"><span class="comment"> *  &quot;nullValue&quot;:null</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(someObj));</span><br></pre></td></tr></table></figure>



<h2 id="Note-2"><a href="#Note-2" class="headerlink" title="Note 2"></a>Note 2</h2><p>在 <code>JSON.stringify</code> 方法对数组进行序列化时，如果数组元素的值是 <code>undefined</code>、<code>Symbol</code> 值或任意函数时，会被序列化为 <code>null</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someArr = [</span><br><span class="line">  <span class="literal">null</span>, </span><br><span class="line">  <span class="literal">undefined</span>, <span class="comment">// JSON.stringify 将数组中的 undefined 序列化为 null</span></span><br><span class="line">  <span class="built_in">Symbol</span>(<span class="string">&#x27;TypeScript&#x27;</span>), <span class="comment">// JSON.stringify 将数组中的 Symbol 序列化为 null</span></span><br><span class="line">  <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="built_in">this</span>),  <span class="comment">// JSON.stringify 将数组中的 箭头函数 序列化为 null</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="built_in">this</span>) &#125; <span class="comment">// JSON.stringify 将数组中的 函数 序列化为 null</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Note 2 : undefined, Symbol, 任意函数作为数组的元素时，JSON.stringify 将其序列化为 null</span></span><br><span class="line"><span class="comment"> * [null,null,null,null,null]</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.table(<span class="built_in">JSON</span>.stringify(someArr));</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h2 id="Note-3"><a href="#Note-3" class="headerlink" title="Note 3"></a>Note 3</h2><p>如果  <code>undefined</code>、<code>Symbol</code> 值或任意函数作为单独的值被 <code>JSON.stringify</code> 序列化为 <code>undefined</code>。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Note 3 : undefined, Symbol, 任意函数作为单独的值时，JSON.stringify 序列化会返回 undefined</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="literal">undefined</span>)); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="built_in">Symbol</span>(<span class="string">&#x27;TypeScript&#x27;</span>))); <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="built_in">this</span>))); <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>



<h2 id="Note-4"><a href="#Note-4" class="headerlink" title="Note 4"></a>Note 4</h2><p>如果目标值有 <code>toJSON</code> 方法，则 <code>toJSON</code> 来决定 <code>JSON.stringify</code> 返回的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(&#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Jimmy&#x27;</span>,</span><br><span class="line">  <span class="attr">age</span>: <span class="number">20</span>,</span><br><span class="line">  <span class="attr">toJSON</span>: <span class="function">() =&gt;</span> <span class="string">&#x27;this is a toJSON function&#x27;</span>,</span><br><span class="line">&#125;)); <span class="comment">// this is a toJSON function</span></span><br></pre></td></tr></table></figure>



<h2 id="Note-5"><a href="#Note-5" class="headerlink" title="Note 5"></a>Note 5</h2><p><code>NaN</code>, <code>InInfinity</code> 及 <code>null</code> 会被<code>JSON.stringify</code> 序列化为 <code>null</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * NaN, InInfinity 及 null 会被 JSON.stringify 序列化为 null</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span>); <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="literal">NaN</span>)); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>); <span class="comment">// Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="literal">Infinity</span>)); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span>); <span class="comment">// null</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(<span class="literal">null</span>)); <span class="comment">// null</span></span><br></pre></td></tr></table></figure>



<h2 id="Note-6"><a href="#Note-6" class="headerlink" title="Note 6"></a>Note 6</h2><p>数字、字符串和布尔值的包装值在被 <code>JSON.stringify</code> 序列化时会解包成对应的基础值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> packArr = [ <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">1</span>), <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&#x27;TypeScript&#x27;</span>), <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>)];</span><br><span class="line"><span class="built_in">console</span>.log(packArr); <span class="comment">// [ [Number: 1], [String: &#x27;TypeScript&#x27;], [Boolean: false] ]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(packArr)); <span class="comment">// [1,&quot;TypeScript&quot;,false]</span></span><br></pre></td></tr></table></figure>



<h2 id="Note-7"><a href="#Note-7" class="headerlink" title="Note 7"></a>Note 7</h2><p><code>JSON.stringify</code> 在序列化对象时，仅会序列化可枚举的属。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> enumerableObj = <span class="built_in">Object</span>.create(<span class="literal">null</span>, &#123;</span><br><span class="line">  <span class="attr">name</span>: &#123; <span class="attr">value</span>: <span class="string">&#x27;jack&#x27;</span>, <span class="attr">enumerable</span>: <span class="literal">true</span> &#125;,</span><br><span class="line">  <span class="attr">age</span>: &#123; <span class="attr">value</span>: <span class="number">20</span>, <span class="attr">enumerable</span>: <span class="literal">false</span> &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(enumerableObj)); <span class="comment">// &#123; name: &#x27;jack&#x27; &#125;</span></span><br></pre></td></tr></table></figure>



<h2 id="Note-8"><a href="#Note-8" class="headerlink" title="Note 8"></a>Note 8</h2><p>如果 <code>JSON.stringify</code> 的目标对象发生循环引用时，会报错。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 对于相互引用的对象，会报错</span></span><br><span class="line"><span class="comment"> * TypeError: Converting circular structure to JSON</span></span><br><span class="line"><span class="comment">    --&gt; starting at object with constructor &#x27;Object&#x27;</span></span><br><span class="line"><span class="comment">    |     property &#x27;refA&#x27; -&gt; object with constructor &#x27;Object&#x27;</span></span><br><span class="line"><span class="comment">    --- property &#x27;refB&#x27; closes the circle</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> objA = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Object A&#x27;</span>,</span><br><span class="line">  <span class="attr">refB</span>: <span class="literal">null</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> objB = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Object B&#x27;</span>,</span><br><span class="line">  <span class="attr">refA</span>: objA,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">objA.refB = objB;</span><br></pre></td></tr></table></figure>



<h2 id="Note-9"><a href="#Note-9" class="headerlink" title="Note 9"></a>Note 9</h2><p>以 <code>Symbol</code> 值为键的属性值，在被 <code>JSON.stringify</code> 序列化时会被忽略。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 以 Symbol 值为键的属性值，在被 JSON.stringify 序列化时会被忽略</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> symbolObj = &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&#x27;Symbol&#x27;</span>,</span><br><span class="line">  [<span class="built_in">Symbol</span>.for(<span class="string">&#x27;Age&#x27;</span>)]: <span class="number">20</span>,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(symbolObj); <span class="comment">// &#123; name: &#x27;Symbol&#x27;, [Symbol(Age)]: 20 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(symbolObj)); <span class="comment">// &#123;&quot;name&quot;:&quot;Symbol&quot;&#125;</span></span><br></pre></td></tr></table></figure>



<h2 id="Note-10"><a href="#Note-10" class="headerlink" title="Note 10"></a>Note 10</h2><p>当 <code>JSON.stringify</code> 的第二个参数是函数时, 可单独对某个值进行处理。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someObj = &#123;</span><br><span class="line">  <span class="attr">_id</span>: <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">  <span class="attr">productCode</span>: <span class="string">&#x27;P28120068&#x27;</span>,</span><br><span class="line">  <span class="attr">productDetail</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Star Insure&#x27;</span>,</span><br><span class="line">    <span class="attr">price</span>: <span class="number">1200</span>,</span><br><span class="line">    <span class="attr">amount</span>: <span class="number">1000000</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">created_at</span>: <span class="string">&#x27;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&#x27;</span>,</span><br><span class="line">  <span class="attr">updated_at</span>: <span class="string">&#x27;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&#x27;</span>,</span><br><span class="line">  <span class="attr">nullValue</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">undefinedValue</span>: <span class="literal">undefined</span>, <span class="comment">// JSON.stringify 不会序列化 undefined</span></span><br><span class="line">  <span class="attr">symbolValue</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;TypeScript&#x27;</span>), <span class="comment">// JSON.stringify 不会序列化 Symbol</span></span><br><span class="line">  <span class="attr">arrowLog</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="built_in">this</span>), <span class="comment">// JSON.stringify 不会序列化 箭头函数</span></span><br><span class="line">  <span class="attr">funLog</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="built_in">this</span>) &#125;, <span class="comment">// JSON.stringify 不会序列化 函数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 当 JSON.stringify 的第二个参数是函数时, 可单独对某个值进行处理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(someObj, <span class="function">(<span class="params">k, v</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(v)</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> v === <span class="string">&#x27;undefined&#x27;</span>) <span class="keyword">return</span> <span class="string">&#x27;undefined&#x27;</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">JSON</span>.stringify(v);</span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>

<p>当 <code>JSON.stringify</code> 的第二个参数是数组时，可在数组中加入属性名，来规定返回哪些属性的序列化值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someObj = &#123;</span><br><span class="line">  <span class="attr">_id</span>: <span class="string">&#x27;id&#x27;</span>,</span><br><span class="line">  <span class="attr">productCode</span>: <span class="string">&#x27;P28120068&#x27;</span>,</span><br><span class="line">  <span class="attr">productDetail</span>: &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Star Insure&#x27;</span>,</span><br><span class="line">    <span class="attr">price</span>: <span class="number">1200</span>,</span><br><span class="line">    <span class="attr">amount</span>: <span class="number">1000000</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">created_at</span>: <span class="string">&#x27;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&#x27;</span>,</span><br><span class="line">  <span class="attr">updated_at</span>: <span class="string">&#x27;Fri Nov 13 2020 09:25:31 GMT+0800 (China Standard Time)&#x27;</span>,</span><br><span class="line">  <span class="attr">nullValue</span>: <span class="literal">null</span>,</span><br><span class="line">  <span class="attr">undefinedValue</span>: <span class="literal">undefined</span>, <span class="comment">// JSON.stringify 不会序列化 undefined</span></span><br><span class="line">  <span class="attr">symbolValue</span>: <span class="built_in">Symbol</span>(<span class="string">&#x27;TypeScript&#x27;</span>), <span class="comment">// JSON.stringify 不会序列化 Symbol</span></span><br><span class="line">  <span class="attr">arrowLog</span>: <span class="function">() =&gt;</span> <span class="built_in">console</span>.log(<span class="built_in">this</span>), <span class="comment">// JSON.stringify 不会序列化 箭头函数</span></span><br><span class="line">  <span class="attr">funLog</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="built_in">this</span>) &#125;, <span class="comment">// JSON.stringify 不会序列化 函数</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 当 JSON.stringify 的第二个参数是数组时，可在数组中加入属性名，来规定返回哪些属性的序列化值</span></span><br><span class="line"><span class="comment"> * 但当值是 undefined、Symbol、任何函数时无效</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">JSON</span>.stringify(someObj, [<span class="string">&#x27;productCode&#x27;</span>, <span class="string">&#x27;arrowLog&#x27;</span>])); <span class="comment">// &#123; productCode: &#x27;P28120068&#x27; &#125;</span></span><br></pre></td></tr></table></figure>

</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-05-23T16:00:00.000Z" title="2017/5/24 00:00:00">2017-05-24</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">33 分钟读完 (大约4915个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/05/24/JavaScript-%E9%AB%98%E7%BA%A7%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1---%E5%BC%95%E7%94%A8%E7%B1%BB%E5%9E%8B/">JavaScript 高级程序设计 - 引用类型</a></h1><div class="content"><p>应用类型的值是应用类型的一个实例。在 ECMAScript 中，引用类型是一种数据结构，用于将数据和功能组织在一起，它也常被称为<strong>类</strong> ，但这种称呼并不妥当。尽管 ECMAScript 从技术上讲是一门面向对象的语言，但它不具备传统的面向对象语言所支持的类和接口等基本结构。引用类型有时候也被称为对象定义，因为它们描述的是一类对象所具有的属性和方法。</p>
<h2 id="Object-类型"><a href="#Object-类型" class="headerlink" title="Object 类型"></a>Object 类型</h2><p><code>Object</code> 是 ECMAScript 中使用最多的一个类型。虽然 <code>Object</code> 的实例不具备多少功能，但对于在应用程序中存储和传输数据而言，它们确实是非常理想的选择。</p>
<p>创建 <code>Object</code> 实例的两种方式 ：</p>
<ul>
<li><p>使用 <code>new</code> 操作符</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">person.name = <span class="string">&quot;CocoaLei&quot;</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用对象字面量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name = <span class="string">&quot;CocoaLei&quot;</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>对象字面量是对象定义的一种简写形式 ，目的在于简化创建包含大量属性的对象的过程。</p>
<p>对象字面量也是向函数传递大量可选参数的首选方式。</p>
</li>
</ul>
<p>一般来说，访问对象属性时使用的都是点语法，这也是很多面向对象语言中通用的语法。不过，在 JavaScript 中也可以使用方括号表示法来访问对象的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> person = &#123;</span><br><span class="line">    name = <span class="string">&quot;CocoaLei&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(person.name);		<span class="comment">// CocoaLei</span></span><br><span class="line"><span class="built_in">console</span>.log(person[<span class="string">&quot;name&quot;</span>]);	<span class="comment">// CocoaLei</span></span><br><span class="line"><span class="keyword">var</span> propertyName = <span class="string">&quot;name&quot;</span>;</span><br><span class="line"><span class="built_in">console</span>.log(person[propertyName]);	<span class="comment">// CocoaLei</span></span><br></pre></td></tr></table></figure>

<p>通常，除非必须使用变量来访问属性，否则建议使用点语法。</p>
<h2 id="Array-类型"><a href="#Array-类型" class="headerlink" title="Array 类型"></a>Array 类型</h2><p>Array 类型是出了 <code>Object</code> 之外 ECMAScript 中最常用的类型了。而且，ECMAScript 中的数组与其它语言中的数组有着相当大的区别。虽然 ECMAScript 数组与其它语言中的数组都是数据的有序列表，但与其它语言不通的是， ECMAScript 中的数组的每一项可以保存任何类型的数据。并且，ECMAScript 数组的大小是可以动态调整的，即可以随着数据的添加自动增长以容纳新增数据。</p>
<p>创建数组的两种方式 ：</p>
<ul>
<li><p><code>Array</code> 构造函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br></pre></td></tr></table></figure>

<p>如果预先知道数组要保存的项目数量，也可以给构造函数传递该数量，而改数量会自动编程 <code>length</code> 的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="number">255</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用数组字面量</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> colors = [<span class="string">&quot;red&quot;</span>, <span class="string">&quot;yellow&quot;</span>, <span class="string">&quot;blue&quot;</span>];</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p>在读取和设置数组的值时，要使用方括号并提供相应值的基于 0 的数字索引。</p>
<blockquote>
<p>数组最多可以包含 4294967295 个项，这几乎已经能够满足任何编程需求了。如果想添加的项数超过这个上限值，就会发生异常。而创建一个初始大小与这个上限值接近的数组，则可能会导致运行时间超长的脚本错误。</p>
</blockquote>
<h3 id="检测数组"><a href="#检测数组" class="headerlink" title="检测数组"></a>检测数组</h3><p>如果假定只有一个全局执行环境，使用 <code>instanceof</code> 操作符就能检测值是不是数组。但是，实际上存在的全局环境不止一个，那么 <code>Array</code> 构造函数也不止一个。</p>
<p>为了解决这个问题，ECMAScript 5 新增了 <code>Array.isArray()</code> 方法。这个方法的母的是最终确定某个值到底是不是数组，而不管它在哪个全局执行环境中创建的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray(value);</span><br></pre></td></tr></table></figure>



<h3 id="转换方法"><a href="#转换方法" class="headerlink" title="转换方法"></a>转换方法</h3><p>所有对象都具有 <code>toLocalString()</code> 、<code>toString()</code> 、 <code>valueOf()</code> 方法。调用数组的 <code>toString()</code> 方法会返回数组中每个值得字符串形式拼接而成的一个以逗号分隔的字符串。调用 <code>valueOf()</code> 方法返回的还是数组。</p>
<p>数组继承的 <code>toLocalString()</code> 、<code>toString()</code> 、<code>valueOf()</code> 方法，在默认情况下都会以逗号分隔的字符串的形式返回数组项。而如果使用 <code>join()</code> 方法，则可以使用不同的分隔符来构建这个字符串。<code>join()</code> 方法只接受一个参数，即用作分隔符的字符串，然后返回包含所有数组项的字符串。</p>
<blockquote>
<p>如果数组中的某一项的值是 <code>null</code> 或 <code>undefined</code> , 那么该值在 <code>toLocalString()</code> 、<code>toString()</code> 、<code>valueOf()</code> 方法返回的结果中以空字符串表示。</p>
</blockquote>
<h3 id="栈方法"><a href="#栈方法" class="headerlink" title="栈方法"></a>栈方法</h3><p>ECMAScript 数组也提供了一种让数组的行为类似于其它数组结构的方法。具体来说，数组可以表现的像栈一样。</p>
<p>ECMAScript 专门为数组提供了<code>push()</code> 和 <code>pop()</code> 方法，以便实现类似栈的行为。</p>
<p><code>push()</code> 方法可以接收任意数量的参数，把它们逐个添加到数组末尾，并返回修改后数组的长度。而 <code>pop()</code> 方法则从数组末尾移除最后一项，减少数组的 <code>length</code> 值，然后返回移除的项。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line"><span class="keyword">var</span> arrLength = sampleArr.push(<span class="string">&quot;A&quot;</span>,<span class="string">&quot;B&quot;</span>); <span class="comment">// arrLength is 2 and sampleArr is [&quot;A&quot;, &quot;B&quot;]</span></span><br><span class="line"><span class="keyword">var</span> removedItem = sampleArr.pop();	<span class="comment">// removedItem is &quot;B&quot;</span></span><br></pre></td></tr></table></figure>



<h3 id="队列方法"><a href="#队列方法" class="headerlink" title="队列方法"></a>队列方法</h3><p>栈数据结构的访问规则是后进先出，而队列数据结构的访问规则是先进先出。队列在列表的末端添加项，从列表的前端移除项。由于 <code>push()</code> 是向数组末端添加项的方法，因此要模拟队列只需一个从数组前端取得项的方法。实现这一操作的数组方法就是 <code>shift()</code> ，它能够移除数组中的第一个项并返回该项，同时将数组长度减 1 。结合使用 <code>shift()</code> 、<code>push()</code> 方法，就可以像使用队列一样使用数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">sampleArr.push(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> firstItem = sampleArr.shift();	<span class="comment">// firstItem is &quot;A&quot;</span></span><br></pre></td></tr></table></figure>

<p>ECMAScript 还未数组提供了一个 <code>unshift()</code> 方法，它能在数组前端添加任意个项并返回新数组的长度。</p>
<h4 id="重排序方法"><a href="#重排序方法" class="headerlink" title="重排序方法"></a>重排序方法</h4><p>数组中已经存在两个可以直接用来重排序的方法 ：<code>reverse()</code> 和  <code>sort()</code> 。</p>
<p>数组的 <code>reverse()</code> 方法会反转数组的顺序 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> originalArr = [<span class="number">3</span>, <span class="number">7</span>, <span class="number">1</span>, -<span class="number">1</span>, <span class="number">22</span>];</span><br><span class="line">originalArr.reverse();	<span class="comment">// 22, -1, 1, 7, 3</span></span><br></pre></td></tr></table></figure>

<p>在默认情况下，<code>sort()</code> 方法按升序排列数组。为了实现排序，<code>sort()</code> 方法会调用数组中每项的 <code>toString()</code> 方法，然后比较得到的字符串，以确定如何排序。这种排序方式在很多情况下都不是最佳方案。不过，<code>sort()</code> 方法可以接收一个比较函数作为参数，以便我们指定哪个值位于哪个值的前面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 升序</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span> (<span class="params">value_1, value_2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (value_1 &lt; value_2) &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (value_1 &gt; value_2) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>reverse()</code> 和 <code>sort()</code> 方法的返回值是经过排序后的数组。</p>
</blockquote>
<p>对于数值类型或者其 <code>valueOf()</code> 方法会返回数值类型的对象类型，可以使用一个更简单的比较函数。这个函数只要用第二个值减第一个值即可。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">compare</span> (<span class="params">value_1, value_2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value_2 - value_1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>由于比较函数通过返回一个小于零、等于零或大于零的结果来影响排序，因此减法操作就可以适当地处理所有这些情况。</p>
<h4 id="操作方法"><a href="#操作方法" class="headerlink" title="操作方法"></a>操作方法</h4><p>ECMAScript 为操作已经包含在数组中的项提供了很多方法。</p>
<h5 id="contact"><a href="#contact" class="headerlink" title="contact()"></a><code>contact()</code></h5><p><code>contact()</code> 方法可以基于当前数组的所有项创建一个新数组。具体来说，这个方法会先创建当前数组的一个副本，然后将接收到的参数添加到这个副本的末尾，最后返回新构建的数组。在没有给 <code>contact()</code> 方法传递参数的情况下，它只是复制当前数组并返回副本。如果传递给 <code>contact()</code> 方法的是一或多个数组，则该方法会将这些数组中的每一项都添加到结果数组中。如果传递的不是数组，这些值就会被简单地添加到结果数组的末尾。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = nes <span class="built_in">Array</span>();</span><br><span class="line">sampleArr.push(<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> copyArr = sampleArr.contact(<span class="string">&quot;C&quot;</span>); <span class="comment">// now sampleArr is [&quot;A&quot;, &quot;B&quot;, &quot;C&quot;]</span></span><br></pre></td></tr></table></figure>

<h5 id="slice"><a href="#slice" class="headerlink" title="slice()"></a><code>slice()</code></h5><p><code>slice()</code> 方法能够基于当前数组中的一个或多个项创建一个新数组。<code>slice()</code> 方法可以接受一个或两个参数，即要返回项的起始和结束位置。在只有一个参数的情况下，<code>slice()</code> 方法返回从该参数指定位置开始到当前数组末尾的所有项。如果有两个参数，该方法返回起始和结束位置之间的项（不包括结束位置）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line"><span class="keyword">var</span> resultArr = sampleArr.slice(<span class="number">3</span>); <span class="comment">// resultArr is [4, 5, 6, 7]</span></span><br><span class="line">resultArr = sampleArr.slice(<span class="number">3</span>,<span class="number">5</span>); 	<span class="comment">// resultArr is [4, 5]</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果 <code>slice()</code> 方法中有一个负数，则用数组长度加上该数来确定相应的位置。如果结束位置小于起始位置，则返回空数组。</p>
</blockquote>
<h5 id="splice"><a href="#splice" class="headerlink" title="splice()"></a><code>splice()</code></h5><p><code>splice()</code> 方法主要用途是向数组的中部插入项，但使用这种方法的方式则有如下三种 ：</p>
<ul>
<li><p>删除 ：可以删除任意数量的项，只需指定要删除的第一项的位置和要删除的项数两个参数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>];</span><br><span class="line">sampleArr.splice(<span class="number">5</span>, <span class="number">1</span>);	<span class="comment">// sampleArr is [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>插入 ：可以向指定位置插入任意数量的项，只需提供起始位置、要删除的项数 (设为0) 和要插入的项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">sampleArr.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="number">2.1</span>, <span class="number">2.2</span>); 	<span class="comment">// sampleArr is [1, 2, 2.1, 2.2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>替换 ：可以向指定位置插入任意数量的项，同时删除任意数量的项</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">sampleArr.splice(<span class="number">2</span>, <span class="number">1</span>, <span class="number">4</span>);	<span class="comment">// sampleArr is [1, 2, 4]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><code>splice()</code> 方法始终都会返回一个数组，该数组包含从原始数组中删除的项 (如果没有删除任何项，则返回一个空数组) 。</p>
<h4 id="位置方法"><a href="#位置方法" class="headerlink" title="位置方法"></a>位置方法</h4><p>ECMAScript 5 为数组实例添加了两个位置方法 ：<code>indexOf()</code> 和 <code>lastIndexOf()</code> 。这两个方法都接收两个参数 ：要查找的项和表示查找七点位置的索引。其中，<code>indexOf()</code> 从数组的开头开始向后查找，<code>lastIndexOf()</code> 则是从数组的末尾开始向前查找。</p>
<p>这两个方法都返回要查找的项在数组中的位置，或者在没有找到的情况下返回 -1 。在比较第一个参数与数组中的每一项时，会使用全等操作符。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>];</span><br><span class="line">sampleArr.indexOf(<span class="number">4</span>);		<span class="comment">// 3</span></span><br><span class="line">sampleArr.lastIndexOf(<span class="number">4</span>); 	<span class="comment">//	7</span></span><br></pre></td></tr></table></figure>



<h4 id="迭代方法"><a href="#迭代方法" class="headerlink" title="迭代方法"></a>迭代方法</h4><p>ECMAScript 5 为数组定义了 5 个迭代方法，每个方法都接收两个参数 ：要在每一项上运行的函数和运行该函数的作用域对象。传入这些方法中的函数会接收三个参数 ：数组项的值，该项在数组中的位置和数组对象的本身。</p>
<ul>
<li><code>every()</code> : 对数组中的每一项运行给定函数，如果该函数对每一项都返回 <code>true</code> ，则返回 <code>true</code></li>
<li><code>filter()</code>  ：对数组中的每一项运行给定函数，返回该函数会返回 <code>true</code> 的项组成的数组</li>
<li><code>forEach()</code> ：对数组中的每一项运行给定函数，这个方法没有返回值</li>
<li><code>map()</code> ：对数组中的每一项运行给定函数，返回每次函数调用的结果组成的数组</li>
<li><code>some()</code> ：对数组中的每一项运行给定函数，如果该函数对任一项返回 <code>true</code> ，则返回 <code>true</code></li>
</ul>
<p>以上这些方法都不会修改数组中包含的值。</p>
<h4 id="归并方法"><a href="#归并方法" class="headerlink" title="归并方法"></a>归并方法</h4><p>ECMAScript 5 增加了两个归并数组的方法 ：<code>reduce()</code> 和 <code>reduceRight()</code> 。这两个方法都会迭代数组所有的项，然后构建一个最终返回的值。其中，<code>reduce()</code> 方法从数组的第一项开始，逐个遍历到最后。而 <code>reduceRight()</code> 则从数组的最后一项开始，向前遍历到第一项。</p>
<p>这两个方法都接收两个参数 ：一个在每一项上调用的函数和作为归并基础的初始值。传给 <code>reduce()</code> 和 <code>reduceRight()</code> 的函数接收 4 个参数 ：前一个值、当前值、项的索引和数组对象。这个函数返回的任何值都会作为第一个参数自动传给下一项。第一次迭代发生在数组的第二项上，因此第一个参数是数组的第一项，第二个参数是数组的第二项。</p>
<p>求数组中所有值之和 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sampleArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">var</span> sum = sampleArr.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">prev, cur, index, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> prev + cur;</span><br><span class="line">&#125;);	<span class="comment">// sum is 15</span></span><br></pre></td></tr></table></figure>



<h2 id="Date-类型"><a href="#Date-类型" class="headerlink" title="Date 类型"></a>Date 类型</h2><p>ECMAScript 中的 Date 类型是在早期 Java 中的 <code>java.util.Date</code> 类基础上构建的。为此，Date 类型使用 UTC 1970 年 1 月 1 日午夜开始经过的毫秒数来保存日期。这使用这种数据存储格式的条件下，Date 类型保存的日期能够精确到 1970 年 1 月 1 日之前或之后的 285616 年。</p>
<p>在调用 Date 构造函数而不传递参数的情况下，新创建的对象自动获得当前的日期和时间。如果想根据特定的日期和时间创建日期对象，必须传入表示该日期的毫秒数。为了简化这一计算过程，ECMAScript 提供了两个方法 ： <code>Date.parse()</code> 和 <code>Date.UTC()</code> 。</p>
<p>其中，<code>Date.parse()</code> 方法接收一个表示日期的字符串参数，然后尝试根据这个字符串返回相应日期的毫秒数。ECMA 没有定义 <code>Date.parse()</code> 应该支持哪种日期格式，因此这个方法的行为因实现而异。</p>
<p><code>Date.UTC()</code> 方法同样也返回表示日期的毫秒数，但它与 <code>Date.parse()</code> 在构建值时使用不同的信息。<code>Date.UTC()</code> 的参数分别是年份、基于 0 的月份、月中的哪一天、小时数、分钟、秒以及毫秒数。在这些参数中，只有前两个参数是必需的。</p>
<p><code>Date.now()</code> 方法会返回表示调用这个方法时的日期和时间的毫秒数。</p>
<h4 id="继承的方法"><a href="#继承的方法" class="headerlink" title="继承的方法"></a>继承的方法</h4><p>与其它引用类型一样，<code>Date</code> 类型也重写了 <code>toLocalString()</code> 、<code>toString()</code> 和 <code>valueOf()</code> 方法 。<code>Date</code> 类型的 <code>toLocalString()</code> 方法会按照与浏览器设置的地区相适应的格式返回日期和时间。而 <code>toString()</code> 方法则通常返回带有时区信息的日期和时间。<code>Date</code> 类型的 <code>valueOf()</code> 方法，则根本不返回字符串，而是返回日期的毫秒表示，常用来比较日期值的大小。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> date_pre = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2017</span>, <span class="number">0</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> date_next = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2017</span>, <span class="number">1</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">if</span> (date_pre &lt; date_next) &#123;</span><br><span class="line">    consolo.log(<span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="日期格式化方法"><a href="#日期格式化方法" class="headerlink" title="日期格式化方法"></a>日期格式化方法</h4><p><code>Date</code> 类型用于将日期格式化为字符串的方法 ：</p>
<ul>
<li><code>toDateString()</code> ：以特定于实现的格式显示星期几、月、日和年</li>
<li><code>toTimeString()</code> ：以特定于实现的格式显示时、分、秒和时区</li>
<li><code>toLocalDateString()</code> ：以特定于地区的格式显示星期几、月、日和年</li>
<li><code>toLocalTimeString()</code> ：以特定于实现的格式显示时、分、秒</li>
<li><code>toUTCString()</code> ：以特定于实现的格式显示完整的 UTC 日期</li>
</ul>
<h3 id="RegExp-类型"><a href="#RegExp-类型" class="headerlink" title="RegExp 类型"></a>RegExp 类型</h3><p>ECMAScript 通过 <code>RegExp</code> 类型来支持正则表达式 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> expression = <span class="regexp">/pattern/</span>flags;</span><br></pre></td></tr></table></figure>

<p>其中的模式部分可以是任何简单或复杂的正则表达式，可以包含字符类、限定符、分组、向前查找以及反向引用。每个正则表达式都可以带有一或多个标志，用以表明正则表达式的行为。</p>
<p>正则表达式的匹配模式下支持下列 3 个标志 ：</p>
<ul>
<li><code>g</code> ：全局模式，即模式将被应用于所有字符串，而非在发现第一个匹配项时立即停止</li>
<li><code>i</code> ：不区分大小写模式，即在确定匹配项时忽略模式与字符串的大小写</li>
<li><code>m</code> ：多行模式，即在到达一行文本末尾时还会继续查找下一行中是否在与模式匹配的项</li>
</ul>
<p>模式中使用的所有元字符都必须转义。正则表达式中的元字符包括 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">( [ &#123; \ ^ $ | ) ? * + . ] &#125;</span><br></pre></td></tr></table></figure>

<p>这些元字符在正则表达式中都有一或多种特殊用途，因此如果想要匹配字符串中包含的这些字符，就必须对它们进行转义。</p>
<p>使用 <code>RegExp</code> 构造函数构造正则表达式时，需要注意 ：传递的两个参数都是字符串。由于 <code>RegExp</code> 的构造函数的模式参数是字符串，所以在某些情况下要对字符进行双重转义。所有元字符都必须双重转义，那些已经转义过的字符也是如此。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">字面量模式			等价的字符串</span><br><span class="line">/\[bc\]at/			“\\[bc\\]at”</span><br><span class="line">/\w\\hello\\<span class="number">123</span>/	<span class="string">&quot;\\w\\\\heollo\\\\123&quot;</span></span><br></pre></td></tr></table></figure>

<p>使用正则表达式字面量和使用 <code>RegExp</code> 构造函数创建的正则表达式不一样。在 ECMAScript 3 中，正则表达式字面量始终会共享同一个 <code>RegExp</code> 实例，而使用构造函数创建的每一个新 <code>RegExp</code> 实例都是新实例。</p>
<p>ECMAScript 5 明确规定，使用正则表达式字面量必须像直接调用 <code>RegExp</code> 构造函数一样，每次赌创建新的 <code>RegExp</code> 实例。</p>
<h4 id="RegExp-实例属性"><a href="#RegExp-实例属性" class="headerlink" title="RegExp 实例属性"></a><code>RegExp</code> 实例属性</h4><p><code>RegExp</code> 的每个实例都具有下列属性 ：</p>
<ul>
<li><code>global</code> ：布尔值，表示是否设置了 <code>g</code> 标志</li>
<li><code>ignoreCase</code> ：布尔值，表示是否设置了 <code>i</code> 标志</li>
<li><code>lastIndex</code> ：整数，表示开始搜索下一个匹配项的字符位置，从 0 算起</li>
<li><code>multiline</code> ：布尔值，表示是否设置了 <code>m</code> 标志</li>
<li><code>source</code> ：正则表达式的字符串表示，按照字面量模式而非传入构造函数中的字符串模式返回</li>
</ul>
<h4 id="RegExp-实例方法"><a href="#RegExp-实例方法" class="headerlink" title="RegExp 实例方法"></a><code>RegExp</code> 实例方法</h4><p><code>RegExp</code> 对象的主要方法是 <code>exec()</code> ，该方法是专门为捕获组而设计的。 <code>exec()</code> 接受一个参数，即要应用模式的字符串，然后返回包含第一个匹配项信息的数组或者在没有匹配项的情况下返回 <code>null</code> 。返回的数组虽然是 <code>Array</code> 的实例，但包含两个额外的属性 ：<code>index</code> 和 <code>input</code> 。其中 <code>index</code> 表示匹配项在字符串的位置，而 <code>input</code> 表示应用正则表达式的字符串。在数组中，第一项是与整个模式匹配的字符串，其它项是与模式中单的捕获组匹配的字符串。</p>
<p>对于 <code>exec()</code> 方法而言，即使在模式中设置了全局标志，它每次也只会返回一个匹配项。在不设置全局标志的情况下，在同一个字符串上多次调用 <code>exec()</code> 将始终返回第一个匹配项的信息。而在设置全局标志的情况下，每次调用 <code>exec()</code> 则都会在字符串中继续查找新匹配项。</p>
<p>正则表达式的第二个方法是 <code>test()</code> ，它接受一个字符串参数。在模式与该参数匹配的情况下返回 <code>true</code> ；否则返回 <code>false</code> 。在只想知道目标字符串与某个模式是否匹配，但不需要知道其文本内容的情况下，使用这个方法</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-05-16T16:00:00.000Z" title="2017/5/17 00:00:00">2017-05-17</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">22 分钟读完 (大约3286个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/05/17/javascript-advanced-variable-scope/">JavaScript 高级程序设计 - 变量、作用域和内存问题</a></h1><div class="content"><h2 id="基本类型和引用类型"><a href="#基本类型和引用类型" class="headerlink" title="基本类型和引用类型"></a>基本类型和引用类型</h2><p>ECMAScript 变量可能包含两种不同数据类型的值 ：基本类型值和引用类型值。基本类型值指的是简单的数据段，而引用数据类型指那些可能由多个值构成的对象。</p>
<p>在将一个值赋值给变量时，解析器必须确定这个值时基本数据类型还是引用类型值。基本类型的值是按值访问的，因为可以操作保存在变量中的实际的值。</p>
<p>引用类型的值时保存在内存中的对象，JavaScript 不允许直接访问内存中的位置，即不能直接操作对象的内存空间。在操作对象时，实际上是操作对象的引用而不是实际的对象（当复制保存着对象的某个变量时，操作的是对象的引用；但在为对象添加属性时，操作的是实际的对象）。</p>
<blockquote>
<p>在很多其它语言中，字符串以对象的形式来表示，因此被认为是引用类型的。</p>
</blockquote>
<h3 id="动态的属性"><a href="#动态的属性" class="headerlink" title="动态的属性"></a>动态的属性</h3><p>对于引用类型的值，我们可以为其添加属性和方法，也可以改变和删除属性和方法 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> aObject = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">aObject.name = <span class="string">&quot;ObjectName&quot;</span>;</span><br></pre></td></tr></table></figure>



<h3 id="复制变量值"><a href="#复制变量值" class="headerlink" title="复制变量值"></a>复制变量值</h3><p>除了保存的方式不同之外，在从一个变量向另一个变量复制基本类型值和引用类型值时，也存在不同。</p>
<p>如果从一个变量向另一个变量复制基本类型值，会在变量对象上创建一个新值，然后把该值复制到为新变量分配的位置上。</p>
<p>当从一个变量向另一个变量复制引用类型值时，同样也会将存储在变量对象的值复制一份放到为新变量分配的空间中。不同的是，这个值的副本实际上是一个指针，而这个指针指向存储在堆中的一个对象。复制操作结束后，两个变量实际上将引用同一个对象。</p>
<h3 id="传递参数"><a href="#传递参数" class="headerlink" title="传递参数"></a>传递参数</h3><p>ECMAScript 中函数的参数都是按值传递的。基本类型值得传递如同基本类型变量的复制一样，而引用类型值得传递，则如同引用类型变量的复制一样。</p>
<p>在向参数传递基本类型的值时，被传递的值会被复制给一个局部变量（即命名参数）。在向参数传递引用类型的值时，会把这个值在内存中的地址复制给一个局部变量，因此这个局部变量的变化会反映在函数的外部。</p>
<h3 id="检测类型"><a href="#检测类型" class="headerlink" title="检测类型"></a>检测类型</h3><p>基本类型检测的最佳工具是 <code>typeof</code> 操作符。但在检测引用类型的值时，这个操作符的用处不大，我们并不是想知道某个值是对象，而是想知道它是什么类型的对象。</p>
<p>使用 <code>instanceof</code> 操作符来确定实例是否是给定的引用类型 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">result = variable <span class="keyword">instanceof</span> <span class="title">constructor</span></span><br></pre></td></tr></table></figure>

<p>所有引用类型的值都是 <code>Object</code> 的实例。因此，在检测一个引用类型值和 <code>Object</code> 构造函数时，<code>instanceof</code> 操作符始终会返回 <code>true</code> 。当然，如果使用 <code>instanceof</code> 操作符检测基本类型的值，则该操作符始终会返回 <code>false</code> , 因为基本类型不是对象。</p>
<h2 id="执行环境及作用域"><a href="#执行环境及作用域" class="headerlink" title="执行环境及作用域"></a>执行环境及作用域</h2><p>执行环境是 JavaScript 中最为重要的一个概念。执行环境定义了变量或函数有权访问的其它数据，决定了它们各自的行为。每个执行环境都有一个与之关联的<strong>变量对象</strong>，环境中定义的所有变量和函数都保存在这个对象中。</p>
<p>全局执行环境是最外围的一个执行环境。根据 ECMAScript 实现所在的宿主环境不同，表示执行环境的对象也不一样。在 Web 浏览器中，全局执行环境被认为是 <code>window</code> 对象。</p>
<p>某个执行环境中的所有代码执行完毕后，该环境被销毁，保存在其中的所有变量和函数定义也随之销毁（全局执行环境直到应用程序退出时，才会被销毁）。</p>
<p>每个函数都有自己的执行环境。当执行流进入一个函数时，函数的环境就会被推入一个环境栈中。而在函数执行之后，栈将其环境弹出，把控制权返回给之前的执行环境。</p>
<p>当代码在一个环境中执行时，会创建变量对象的一个作用域链。作用域链的用途是保证对执行环境有权访问的所有变量和函数的有序访问。作用域链的前端，始终都是当前执行代码所在环境的变量对象。如果这个环境是函数，则将其活动对象作为变量对象。活动对象在最开始时只包含一个变量，即 <code>arguments</code> 对象。作用域链中的下一个变量对象来自包含环境，而再下一个变量对象则来自下一个包含环境。这样，一直延续到全局执行环境；全局执行环境的变量对象始终都是作用域链中的最后一个对象。</p>
<p>标识符解析是沿着作用域链一级一级地搜索标识符的过程。搜索过程始终从作用域链的前端开始，然后逐级地向后回溯，直到找到标识符为止（如果找不到标识符，通常会导致错误发生）。</p>
<h4 id="延长作用域链"><a href="#延长作用域链" class="headerlink" title="延长作用域链"></a>延长作用域链</h4><p>虽然执行环境的类型总共只有两种 ：全局和局部，但是还有其它办法来延长作用域链。这是因为有些语句可以在作用域链的前端临时增加一个变量对象，该变量对象会在代码执行后被移除。</p>
<p>在两种情况下会发生这种现象 ：</p>
<ul>
<li><code>try-catch</code> 语句的 <code>catch</code> 块</li>
<li><code>with</code> 语句</li>
</ul>
<p>这两个语句都会在作用域链的前端添加一个变量对象。对 <code>with</code> 语句来或，会将指定的对象添加到作用域链中。对于 <code>catch</code> 语句来说，会创建一个新的变量对象，其中包含的是被抛出的错误对象的声明。</p>
<h4 id="没有块级作用域"><a href="#没有块级作用域" class="headerlink" title="没有块级作用域"></a>没有块级作用域</h4><p>JavaScript 没有块级作用域经常会导致理解上的困惑。在其它类 C 语言中，由花括号封闭起来的代码块都有自己的作用域，因而支持根据条件来定义变量。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> color = <span class="string">&quot;red&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(color);	<span class="comment">// red</span></span><br></pre></td></tr></table></figure>

<p>上面的例子中，在 <code>if</code> 语句中定义了变量 <code>color</code> ，它被添加到当前的执行环境，所以在 <code>if</code> 语句结束后还能够被访问。</p>
<p>在使用 <code>for</code> 语句时尤其要牢记这一差异 ：由 <code>for</code> 语句创建的循环变量即使 <code>for</code> 循环执行结束后，也依旧会存在于循环外部的执行环境中。</p>
<h5 id="声明变量"><a href="#声明变量" class="headerlink" title="声明变量"></a>声明变量</h5><p>使用关键字 <code>var</code> 声明的变量会自动被添加到最接近的环境中。在函数内部，最接近的环境就是函数的局部环境；在 <code>with</code> 语句中，最接近的环境是环境函数。如果初始化变量时没有使用 <code>var</code> 声明，该变量会自动被添加到全局环境。</p>
<blockquote>
<p>在编写 JavaScript 代码的过程中，不声明而直接初始化变量是一个常见的错误做法。</p>
</blockquote>
<h5 id="查询标识符"><a href="#查询标识符" class="headerlink" title="查询标识符"></a>查询标识符</h5><p>当在某个环境中为了读取或写入而引用一个标识符时，必须通过搜索来确定该标识符实际代表什么。搜索过程从作用域链的前端开始，向上逐级查询与给定名字匹配的标识符。如果在局部环境中找到了该标识符，搜索过程停止，变量就绪。如果在局部环境中没有找到该变量名，则继续沿作用域链向上搜索。搜索过程将一直追溯到全局环境的变量对象。如果在全局环境中也咩有找到这个标识符，则意味着该变量尚未声明。</p>
<blockquote>
<p>变量查询也不是没有代价的。很明显，访问局部变量要比访问全局变量更快。</p>
</blockquote>
<h2 id="垃圾收集"><a href="#垃圾收集" class="headerlink" title="垃圾收集"></a>垃圾收集</h2><p>JavaScript 具有自动垃圾收集机制，也就是说，执行环境会负责管理代码执行过程中使用的内存。在 JavaScript 中，所需内存的分配和无用内存的回收完全实现了自动管理 ：找出那些不再继续使用的变量，然后释放其占用的内存。为此，垃圾收集器会按照固定的时间间隔，周期性的执行这一操作。</p>
<p>局部变量只在函数执行的过程中存在。在这个过程中，会为局部变量在栈或堆上分配相应的空间，以便存储它们的值。然后在函数中使用这些变量，直到函数执行结束。此时，局部变量就没有存在的必要了，因此可以释放它们的内存以供将来使用。在这种情况下，很容易判断变量是否还有存在的必要；但并非所有情况下都能这么容易得出结论。垃圾收集器必须跟踪哪个变量有用哪个变量没用，对于不再有用的变量打上标记，以备将来回收其占用的内存。</p>
<h3 id="标记清除"><a href="#标记清除" class="headerlink" title="标记清除"></a>标记清除</h3><p>JavaScript 中最常用的垃圾收集方式是<strong>标记清除</strong>。当变量进入环境时，就将这个变量标记为 “进入环境” 。从逻辑上讲，永远不能释放进入环境的变量所占用的内存，因为只要执行流进入相应的环境，就可能会用到它们。而当变量离开环境时，则将其标记为 “离开环境” 。</p>
<p>标记变量的方式很多，它并不重要，关键在于才去什么策略。</p>
<p>垃圾收集器在运行的时候回给存储在内存中的所有变量都加上标记。然后，它会去掉环境中的变量以及被环境中的变量引用的变量的标记。而在此之后再被加上标记的变量被视为准备删除的变量，原因是环境中的变量已经无法访问到这些变量了。最后，垃圾收集器完成内存清除工作，销毁那些带标记的值并回收它们所占用的内存空间。</p>
<h4 id="性能问题"><a href="#性能问题" class="headerlink" title="性能问题"></a>性能问题</h4><p>垃圾收集器是周期性运行的，而且如果为变量分配的内存数量很可观，那么回收工作量也是相当大的。这种情况下，确定垃圾收集的时间间隔是一个非常重要的问题。</p>
<h4 id="管理内存"><a href="#管理内存" class="headerlink" title="管理内存"></a>管理内存</h4><p>使用具备垃圾收集机制的语言编写程序，开发人员一般不必操心内存管理问题。但是，JavaScript 在进行内存管理及垃圾收集时面临的最主要问题是分配给 Web 浏览器的可用内存数量通常比分配桌面应用程序的少。这样做的目的是防止运行 JavaScript 的网页耗尽全部系统内存而导致系统崩溃。内存限制不仅会影响给变量分配内存，同时还会影响调用栈以及在一个线程中能够同时执行的语句数量。</p>
<p>因此，确保占用最少的内存可以让页面获得更好的性能。而优化内存占用的最佳方式，就是为执行中的代码只保存必要的数据。一旦数据不再有用，最好通过将其设置为 <code>null</code> 来释放其引用。这一做法适用于大多数全局变量和全局对象的属性。</p>
<p>解除一个值的应用的真正作用是让值脱离执行环境，以便垃圾收集器下次运行时将其回收。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2017-04-30T16:00:00.000Z" title="2017/5/1 00:00:00">2017-05-01</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">1 小时读完 (大约9054个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2017/05/01/javascript-advanced-programming-basic/">JavaScript 高级程序设计 - 基础概念篇</a></h1><div class="content"><h2 id="JavaScript-简介"><a href="#JavaScript-简介" class="headerlink" title="JavaScript 简介"></a>JavaScript 简介</h2><p>JavaScript 诞生于 1995 年，当时， 它的主要目的是处理以前由服务器端语言负责的一些输入验证操作。而今，JavaScript 已经从一个简单的输入验证器发展成为一门强大的编程语言：功能全面，能够处理复杂的计算和交互，拥有了闭包、匿名函数，甚至元编程等特性。</p>
<p>虽然 JavaScript 和 ECMAScript 通常被人们用来表达相同的含义，但 JavaScript 的含义却又要多得多。一个完整的 JavaScript 实例由 ECMAScript、DOM 和 BOM 组成。</p>
<h3 id="ECMAScript"><a href="#ECMAScript" class="headerlink" title="ECMAScript"></a>ECMAScript</h3><p>ECMAScript-262 定义的 ECMAScript 与 Web 浏览器没有依赖关系，它定义的只是这门语言的基础，而在此基础上可以构建更完善的脚本语言。常见的 Web 浏览器只是 ECMAScript 实现可能的宿主环境之一 ： 宿主环境提供基本的 ECMAScript 实现，同时也会提供该语言的扩展，以便语言与环境之间对接交互。</p>
<h3 id="文档对象模型-DOM"><a href="#文档对象模型-DOM" class="headerlink" title="文档对象模型 DOM"></a>文档对象模型 DOM</h3><p>文档对象模型（DOM，Document Object Model）是针对 XML 但经过扩展用于 HTML 的应用程序编程接口。DOM 把整个页面映射为一个多层节点结构。即 HTML 或 XML 页面中的每个组成部分都是某种类型的节点，这些节点又包含着不同类型的数据。而开发人员通过 DOM 提供的 API 可以轻松自如的删除、添加或修改任何节点。</p>
<h3 id="浏览器对象模型-BOM"><a href="#浏览器对象模型-BOM" class="headerlink" title="浏览器对象模型 BOM"></a>浏览器对象模型 BOM</h3><p>浏览器对象模型使开发人员可以控制浏览器显示的页面以外的部分。从根本上讲，BOM 只处理浏览器窗口和框架，但是人们习惯上也把所有针对浏览器的 JavaScript· 扩展算作 BOM 的一部分。</p>
<h2 id="在-HTML-中使用-JavaScript"><a href="#在-HTML-中使用-JavaScript" class="headerlink" title="在 HTML 中使用 JavaScript"></a>在 HTML 中使用 JavaScript</h2><p>向 HTML 页面中插入 JavaScript 的主要方法，就是使用 <code>&lt;script&gt;</code> 元素。这个元素由 Netscape 创造并在 Netscape Navigator 2 中首先实现。后来，这个元素被加入到正式的 HTML 规范中。HTML 4.01 为 <code>&lt;script&gt;</code> 定义了6个属性</p>
<ul>
<li><code>async</code> : 表示应该立即下载脚本，但不应妨碍页面中的其它操作。这是一个可选属性，只对外部脚本文件有效。</li>
<li><code>charset</code> : 可选。表示通过 <code>src</code> 属性指定的代码的字符集。</li>
<li><code>defer</code> : 可选。表示脚本可以延迟到文档完全被解析和显示之后再执行。只对外部脚本文件有效。</li>
<li><code>language</code> : 已废弃。原来用于表示编写代码使用的脚本语言。</li>
<li><code>src</code> ：可选。表示包含要执行代码的外部文件。</li>
<li><code>type</code> : 可选。可以看成是 <code>language</code> 的替代属性；表示编写代码使用的脚本语言的内容类型（MIME 类型）。虽然 <code>text/javscript</code> 和 <code>text/ecmascript</code> 都已经不被推荐使用，但人们一直以来使用的都还是 <code>text/javascript</code> 。实际上，服务器在传送 JavaScript 文件时使用的是 MIME 类型通常是 <code>application/x-javascript</code> , 但在 <code>type</code> 中设置这个值却可能导致脚本被忽略。考虑到约定俗成和最大限度的浏览器兼容性，目前 <code>type</code> 属性的默认值依旧还是 <code>text/javascript</code>。</li>
</ul>
<p>使用 <code>&lt;script&gt;</code> 元素的方式有两种 ：直接在页面中嵌入 JavaScript 代码和包含外部 JavaScript 文件。</p>
<p>在使用 <code>&lt;script&gt;</code> 元素嵌入 JavaScript 代码时，只需为 <code>&lt;script&gt;</code> 指定 <code>type</code> 属性，然后直接把 JavaScript 代码放在元素内部即可。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="javascript"></span></span><br><span class="line"><span class="javascript">	<span class="comment">// JavaScript Code</span></span></span><br><span class="line"><span class="javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>包含在 <code>&lt;script&gt;</code> 元素内部的 JavaScript 代码将被从上到下依次解释。在解释器对 <code>&lt;scirpt&gt;</code> 元素内部的所有代码求值完毕以前，页面中的其余内容都不会被浏览器加载或显示。</p>
<p>如果要通过 <code>&lt;script&gt;</code> 元素来包含外部 JavaScript 文件，那么 <code>src</code> 属性就是必须的。这个属性的值是一个指向外部 JavaScript 文件的链接。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript src=&quot;</span><span class="attr">example.js</span>&quot;&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>与解析嵌入式 JavaScript 代码一样，在解析外部 JavaScript 文件（包括下载该文件）时，页面的处理也会暂时停止。</p>
<p>无论如何包含代码，只要不存在 <code>defer</code> 和 <code>async</code> 属性，浏览器都会按照 <code>&lt;script&gt;</code> 元素在页面中出现的先后顺序对它们依次进行解析。</p>
<p>因此，在包含较多外部 JavaScript 文件的 HTML 页面中，将 <code>&lt;script&gt;</code> 标签放在 <code>&lt;head&gt;</code> 元素中，可能会造成严重的延迟。一般通过将全部 JavaScript 引用放在 <code>&lt;body&gt;</code> 元素中页面内容的后面。</p>
<p>在 HTML 中嵌入 JavaScript 代码虽然没有问题，但一般认为最好的做法还是尽可能使用外部文件来包含 JavaScript 代码。</p>
<h2 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h2><p>任何语言的核心都必然会描述这门语言最基本的工作原理，而描述的内容通常都要涉及这门语言的语法、操作符、数据类型、内置功能等用于构建复杂解决方案的基本概念。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><p>ECMAScript 的语法大量借鉴了 C 及其它类 C 语言的语法。</p>
<h4 id="区分大小写"><a href="#区分大小写" class="headerlink" title="区分大小写"></a>区分大小写</h4><p>ECMAScript 中的一切都区分大小写（变量、函数名和操作符）。</p>
<h4 id="标识符"><a href="#标识符" class="headerlink" title="标识符"></a>标识符</h4><p>所谓标识符，就是指变量、函数、属性的名字，或者函数的参数。标识符的组合规则如下：</p>
<ul>
<li>第一个字符必须是一个字母、下划线或一个美元符号；</li>
<li>其它字符可以是字母、下划线、美元符号或数字。</li>
</ul>
<p>按照惯例，ECMAScript 标识符采用驼峰大小写格式，也就是第一个字母小写，剩下的每个单词的首字母大写。</p>
<h4 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h4><p>ECMAScript 5 引入了严格模式的概念。严格模式是为 JavaScript 定义了一种不同的解析与执行模型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&quot;use strict&quot;</span>;	<span class="comment">// 这是一个编译指示，用于告诉支持的 JavaScript 引擎切换到严格模式</span></span><br></pre></td></tr></table></figure>

<h4 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h4><p>ECMAScript 中的语句以一个分号结尾；如果省略分号，则由解析器确定语句的末尾。虽然语句末尾的分号不是必须的，但建议任何时候都不要省略它。</p>
<h3 id="关键字和保留字"><a href="#关键字和保留字" class="headerlink" title="关键字和保留字"></a>关键字和保留字</h3><p>ECMAScript 描述了一组具有特定用途的关键字，这些关键字可用于表示控制语句的开始或结束，或者用于执行特定操作，它们不能用作标识符。 ECMAScript 还描述了一组将来可能被用作关键字的保留字。</p>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><p>ECMAScript 的变量是松散类型的，所谓松散类型就死可以用来保存任何类型的数据。即每个变量仅仅是一个用于保存值得占位符。未被初始化的变量会保存一个特殊的值 ：<code>undefined</code> 。ECMAScript 也支持直接初始化变量。</p>
<p>修改变量的值得同时也可以同时修改值得类型，虽然这样做是可行而且有效的，但是并不推荐。</p>
<p>如果定义变量时省略了 var 操作符，变量将会被定义为全局变量。给未经声明的变量赋值在严格模式下会导致抛出 ReferenceError 错误。</p>
<h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>ECMAScript 中有 5 中简单数据类型 ：Undefined、Null、Boolean、Number 和 String。还有一种复杂数据类型 - Object。ECMAScript 不支持任何创建自定义类型的机制，所有值最终都将是上述 6 种数据类型之一。</p>
<h4 id="typeof-操作符"><a href="#typeof-操作符" class="headerlink" title="typeof 操作符"></a><code>typeof</code> 操作符</h4><p>ECMAScript 是松散类型的，因此需要有一种手段来监测给定变量的数据类型，使用 <code>typeof</code> 可以完成这个目的。</p>
<ul>
<li>“undefined” : 未定义</li>
<li>“boolean” ：布尔值</li>
<li>“string” ：字符串</li>
<li>“number” ：数值</li>
<li>“object” ： 对象或 null</li>
<li>“function” ： 函数</li>
</ul>
<h4 id="Undefined-类型"><a href="#Undefined-类型" class="headerlink" title="Undefined 类型"></a><code>Undefined</code> 类型</h4><p>如果使用 var 声明变量但未对其加以初始化时，这个变量的值就是 <code>undefined</code> 。</p>
<p>值得注意的是，对未初始化的变量执行 <code>typeof</code> 操作符会返回 <code>undefined</code> 值，而对未声明的变量执行 <code>typeof</code> 同样也会返回 <code>undefined</code> 值。这两种变量虽然从技术角度上看有本质区别，但实际上无论对哪种变量也不可能执行真正的操作。</p>
<p>即便未初始化的变量会被自动赋予 <code>undefined</code> 值，但显式地初始化变量依然是明智的选择。如果能够做到这一点，那么当 <code>typeof</code> 返回 <code>undefined</code> 值时，我们就知道被检测的变量还没有被生命，而不是尚未初始化。</p>
<h3 id="Null-类型"><a href="#Null-类型" class="headerlink" title="Null 类型"></a><code>Null</code> 类型</h3><p>从逻辑角度来看，null 值表示一个空对象指针，而这也正是使用 <code>typeof</code> 操作符检测 <code>null</code> 值时会返回 “object” 的原因。</p>
<p>如果定义的变量准备在将来用于保存对象，那么最好将该变量初始化为 <code>null</code> 而不是其它值。这样一来，只要直接检查 <code>null</code> 值就可以知道相应的变量是否已经保存了一个对象对的引用。</p>
<p>实际上，<code>undefined</code> 是派生自 <code>null</code> 值得，因此规定它们的相等性测试返回 <code>true</code> 。</p>
<h4 id="Boolean-类型"><a href="#Boolean-类型" class="headerlink" title="Boolean 类型"></a><code>Boolean</code> 类型</h4><p>ECMAScript 中的 <code>Boolean</code> 类型只有两个字面值 ：<code>true</code> 和 <code>false</code> 。这两个值与数字值不是一回事，因此 <code>true</code> 不一定等于 1，而 <code>false</code> 也不一定等于 0 。</p>
<p>虽然 <code>Boolean</code> 类型的字面值只有两个，但 ECMAScript 中所有类型的值都有与这两个 <code>Boolean</code> 值等价的值。使用转型函数 <code>Boolean()</code> 可以将一个值转换为其对应的 <code>Boolean</code> 值。</p>
<table>
<thead>
<tr>
<th>数据类型</th>
<th>转换为 <code>true</code> 的值</th>
<th>转换为 <code>false</code> 的值</th>
</tr>
</thead>
<tbody><tr>
<td>Boolean</td>
<td>true</td>
<td>false</td>
</tr>
<tr>
<td>String</td>
<td>任何非空字符串</td>
<td>“”（空字符串）</td>
</tr>
<tr>
<td>Number</td>
<td>任何非零数字值</td>
<td>0 和 NaN</td>
</tr>
<tr>
<td>Object</td>
<td>任何对象</td>
<td>null</td>
</tr>
<tr>
<td>Undefined</td>
<td>n/a</td>
<td>undefined</td>
</tr>
</tbody></table>
<h4 id="Number-类型"><a href="#Number-类型" class="headerlink" title="Number 类型"></a><code>Number</code> 类型</h4><p>ECMAScript 中的 <code>Number</code> 类型使用 IEEE754 格式来表示整数和浮点数值。为了支持各种数值类型，ECMA 定义了不同的数值字面量格式。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> intNum = <span class="number">55</span>;	<span class="comment">// 整数</span></span><br><span class="line"><span class="keyword">var</span> octalNum = <span class="number">070</span>;	<span class="comment">// 八进制整数 56</span></span><br><span class="line"><span class="keyword">var</span> hexNum = <span class="number">0xA</span>;	<span class="comment">// 十六进制整数 10</span></span><br></pre></td></tr></table></figure>

<p>需要注意的是，八进制字面量在严格模式下是无效的，会导致支持的 JavaScript 引擎抛出错误。</p>
<p>在进行算数运算时，所有以八进制和十六进制表示的数值最终都将被转换为十进制数值。</p>
<h5 id="浮点数值"><a href="#浮点数值" class="headerlink" title="浮点数值"></a>浮点数值</h5><p>保存浮点数值需要的内存空间是保存整数值的两倍，ECMAScript 会不失时机的将浮点数值转换为整数值。</p>
<p>对于那些极大或极小的数值，可以用科学表示法表示的浮点数值表示。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> floatNum = <span class="number">3.14e7</span>;	<span class="comment">// 等价于 3.14 * 10^7</span></span><br></pre></td></tr></table></figure>

<p>浮点数值的最高精度是17位小数，但在进行算数运算时其精确度远远不如整数。例如，0.1 加 0.2 的结果不是 0.3， 而是 0.30000000000000004 。这个舍入误差会导致无法测试特定的浮点数值。</p>
<h5 id="数值范围"><a href="#数值范围" class="headerlink" title="数值范围"></a>数值范围</h5><p>由于内存的限制，ECMAScript 并不能保存所有的数值。它能够表示的最小数值为 <code>Number.MIN_VALUE</code> ，在大多数浏览器中，这个值是 <code>5e-234</code> 。能够表示的最大数值为 <code>Number.MAX_VALUE</code> ，在大多数浏览器中，这个值是 <code>1.976931348623157e+308</code> 。如果某次计算的结果得到了一个 超出 JavaScript 数值范围的值，那么这个数值将被自动转换为特殊的 <code>Infinity</code> 值。如果某次计算返回了正或负的 <code>Infinity</code> 值，那么该值将无法继续参与下一次的计算，因为 <code>Infinity</code> 不是能够参与计算的数值。</p>
<p>可以使用 <code>isFinite()</code> 函数确定一个数值是不是无穷的。</p>
<h5 id="NaN"><a href="#NaN" class="headerlink" title="NaN"></a>NaN</h5><p>NaN，即非数值，它是一个特殊的数值，这个数值用于表示一个本来要返回数值的操作数未返回数值的情况。比如在 ECMAScript 中，0 除以 0 会返回 NaN，正数除以 0 会返回 <code>Infinity</code> ，负数除以 0 返回 <code>-Infinity</code>。</p>
<p>NaN 本省有两个非同寻常的特点。</p>
<p>首先，任何涉及 NaN 的操作都会返回 NaN，这个特点在多步计算中可能导致问题。</p>
<p>其次，NaN 与任何值都不相等，包括 NaN 本身。</p>
<p>针对 NaN 的特点，ECMAScript 定义了 <code>isNaN()</code> 函数。这个函数接受一个参数，该参数可以是任何类型，而函数会帮我们确定这个参数是否 “不是数值”。 <code>isNaN()</code> 在接收到一个值后，会尝试将这个值转换为数值。某些不是数值的值会直接转换为数值，而任何不能被转换为数值的值都会导致这个函数返回 <code>true</code> 。</p>
<h5 id="数值转换"><a href="#数值转换" class="headerlink" title="数值转换"></a>数值转换</h5><p>有三个函数可以将非数值转换为数值 ：<code>Number()</code> , <code>paresInt()</code> , <code>parseFloat()</code> 。<code>Number()</code> 可以用于任何数据类型，而 <code>parseInt()</code> , <code>parseFloat()</code> 则用于把字符串转换成数值。</p>
<p><code>Number()</code> 函数的转换规则如下 ：</p>
<ul>
<li><code>true</code> 和 <code>false</code> 将分别转换为 1 和 0</li>
<li><code>null</code> 返回 0</li>
<li><code>undefined</code> 返回 NaN</li>
<li>如果是字符串，则<ul>
<li>如果只包含数字，返回十进制数值</li>
<li>如果为十六进制格式，返回相同大小的十进制数值</li>
<li>如果是空字符串，则返回 0</li>
<li>如果包含除上述格式之外的字符，返回 NaN</li>
</ul>
</li>
</ul>
<p>由于 <code>Number()</code> 函数在转换字符串时比较复杂而且不够合理，因此处理整数的时候更常用的是 <code>parseInt()</code> 函数。它会忽略字符串前面的空格，直到找到第一个非空格字符。如果第一个字符不是数字字符或者负号，则返回 NaN。如果第一个字符是数字字符，<code>parseInt()</code> 会继续解析第二个字符，直到解析玩所有后续字符或者遇到了一个非数字字符。</p>
<p>需要注意的是，”1.1” 这样的字符串会被 <code>parseInt()</code> 转换为 1 ，因为小数点并不是有效的数字字符。</p>
<p>还可以为 <code>parseInt()</code> 函数指定第二个参数 ：转换时使用的基数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> num = <span class="built_in">parseInt</span>(<span class="string">&quot;0xAF&quot;</span>, <span class="number">16</span>);	<span class="comment">// 以十六进制转换字符串	</span></span><br></pre></td></tr></table></figure>

<p>与 <code>parseInt()</code> 不同的是，<code>parseFloat()</code> 只解析十进制值。</p>
<h4 id="String-类型"><a href="#String-类型" class="headerlink" title="String 类型"></a>String 类型</h4><p>String 类型用于表示由零活多个 16 位 Unicode 字符组成的字符序列，即字符串。字符串可以由双引号或单引号表示。</p>
<h5 id="字符字面量"><a href="#字符字面量" class="headerlink" title="字符字面量"></a>字符字面量</h5><p>String 数据类型包含一些特殊的字符字面量，也叫转移序列，用于表示非打印字符，或者具有其它用途的字符。</p>
<table>
<thead>
<tr>
<th>字面量</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td><code>\n</code></td>
<td>换行</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>制表</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>空格</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>回车</td>
</tr>
<tr>
<td><code>\\</code></td>
<td>斜杠</td>
</tr>
<tr>
<td><code>\&#39;</code></td>
<td>单引号</td>
</tr>
<tr>
<td><code>\&quot;</code></td>
<td>双引号</td>
</tr>
<tr>
<td><code>\xnn</code></td>
<td>以十六进制代码表示的一个字符</td>
</tr>
<tr>
<td><code>\unnn</code></td>
<td>以十六进制代码表示的一个 Unicode 字符</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>进纸</td>
</tr>
</tbody></table>
<p>这些字符字面量可以出现在字符串中的任意位置，而且也将被作为也给字符来解析。</p>
<h5 id="字符串的特点"><a href="#字符串的特点" class="headerlink" title="字符串的特点"></a>字符串的特点</h5><p>ECMAScript 中的字符串是不可变的，也就是说，字符串一旦创建，它们的值就不能改变。要改变某个变量保存的字符串，首先要销毁原来的字符串，然后再用另一个包含新值得字符串填充该变量。</p>
<h5 id="转换为字符串"><a href="#转换为字符串" class="headerlink" title="转换为字符串"></a>转换为字符串</h5><p>几乎每个值都有 <code>toString()</code> 方法，它将返回相应值得字符串表现（<code>null</code> 和 <code>undefined</code> 没有这个方法 ）。多数情况下，调用 <code>toString()</code> 方法不必传递参数，但是在调用数值的 <code>toString()</code> 方法时，可以传递一个表示输出数值基数的参数。</p>
<p>在不知道要转换的值是不是 <code>null</code> 或 <code>undefined</code> 的情况下，还可以使用转型函数 <code>String()</code> ，这个函数能够将任何类型的值转换为字符串 ：</p>
<ul>
<li>如果值有 <code>toString()</code> 方法，则调用该方法</li>
<li>如果值是 <code>null</code> ，则返回 “null”</li>
<li>如果值是 “undefined” ，则返回 “undefined”</li>
</ul>
<h4 id="Object-类型"><a href="#Object-类型" class="headerlink" title="Object 类型"></a>Object 类型</h4><p>ECMAScript 中的对象其实就是一组数据和功能的集合。对象可以通过执行 <code>new</code> 操作符后跟要创建的对象类型的名称来创建。而创建 <code>Object</code> 类型的实力并为其添加属性和方法，就可以创建自定义对象。</p>
<p>在 ECMAScript 中，<code>Object</code> 类型是所有它的实例的基础。</p>
<p><code>Object</code> 的每个实例都具有下列属性和方法 ：</p>
<ul>
<li><code>constructor</code> : 保存着用于创建当前对象的函数。</li>
<li><code>hasOwnProperty(propertyName)</code> : 用于检查给定的属性在当前的对象实例中是否存在。</li>
<li><code>isPrototypeOf(object)</code> : 用于检查传入的对象是否是传入的对象的原型。</li>
<li><code>propertyIsEnumerable(propertyName)</code> :  用于检查给定的属性是否能够使用 <code>for-in</code> 语句来枚举。</li>
<li><code>toLocalString()</code> : 返回与执行环境的地区对应的字符串表示。</li>
<li><code>toString()</code> : 返回对象的字符串表示。</li>
<li><code>valueOf()</code> : 返回对象的字符串、数值或布尔值表示。</li>
</ul>
<h3 id="操作符"><a href="#操作符" class="headerlink" title="操作符"></a>操作符</h3><h4 id="一元操作符"><a href="#一元操作符" class="headerlink" title="一元操作符"></a>一元操作符</h4><h5 id="递增和递减操作符"><a href="#递增和递减操作符" class="headerlink" title="递增和递减操作符"></a>递增和递减操作符</h5><p>前置递增/递减操作符，变量的值都是在包含它的语句被求值之前改变的，而后置递增/递减操作符的则是在包含它的语句被求值之后改变变量的值。</p>
<p>而且递增/递减操作符不仅适用于整数，还可以用于字符串、布尔值、浮点数职和对象 ：</p>
<ul>
<li>在应用于一个包含有效数字字符的字符串时，先将其转换为数字值，再执行加减 1 的操作。字符串变量变成数值变量。</li>
<li>在应用于一个不包含有效数字字符的字符串时，将变量的值设置为 NaN。字符串变量变成数值变量。</li>
<li>在应用于布尔值时，先将其转换为 1 或 0，再执行加减 1 的操作。布尔值变量变成数值变量。</li>
<li>在应用于对象时，先调用对象的 <code>valueOf()</code> 方法以取得一个可供操作的值。然后对该值应用前述规则。如果结果是 NaN，则在调用 <code>toString()</code> 方法后再应用前述规则。对象变量变成数值变量。</li>
</ul>
<h5 id="加和减操作符"><a href="#加和减操作符" class="headerlink" title="加和减操作符"></a>加和减操作符</h5><p><code>+</code> 放在数值之前，对数值不会产生影响。不过，对非数值应用 <code>+</code> 时，它会像 <code>Number()</code> 转型函数一样对这个值进行转换。</p>
<p><code>-</code> 主要用于表示负数。对非数值应用时，先转换为数值，再转换为负数。</p>
<h4 id="位操作符"><a href="#位操作符" class="headerlink" title="位操作符"></a>位操作符</h4><p>位操作符用于在最基本的层次上，即按内存中表示数值的位来操作数值。ECMAScript 中的所有数值都以 IEEE-754 64 位格式存储，但位操作符并不直接操作 64 位的值，而是先将 64 位的值转换成 32 位的整数，然后执行操作，最后再讲结果转换回 64 位。</p>
<p>对于有符号的整数，32 位中的前 32 位用来表示整数的值，第 32 位用于表示数值的符号 ：0 表示正数，1 表示负数。这个表示符号的位叫做符号位，符号位的值决定了其它位数值的格式。其中，正数以纯二进制格式存储，32 位中的每一位都表示 2 的幂，没有用到的位以 0 填充，即忽略不计。负数同样以二进制码存储，但使用的格式是二进制补码。</p>
<p>要注意的是，在处理有符号整数时，是不能访问位 31 的。</p>
<p>对数值进行位操作时，NaN 和 Infinity 会被当做 0 来处理。</p>
<blockquote>
<p>默认情况下，ECMAScript 中的所有整数都是有符号整数。不过，当然也存在无符号整数，对于无符号整数来说，第 32 位不再表示符号，因为无符号整数只能是整数。</p>
</blockquote>
<h5 id="按位非"><a href="#按位非" class="headerlink" title="按位非"></a>按位非</h5><p>按位非操作符由 <code>~</code> 表示，执行按位非的结果就是返回数值的反码。即操作数的负值减 1.</p>
<h5 id="按位与"><a href="#按位与" class="headerlink" title="按位与"></a>按位与</h5><p>按位与操作符由 <code>&amp;</code> 表示，它有两个操作符数。从本质上来讲，按位与操作就是将两个数值的每一位对齐，然后对相同位置上的两个数执行 AND 操作。</p>
<h5 id="按位或"><a href="#按位或" class="headerlink" title="按位或"></a>按位或</h5><p>按位或操作符由 <code>|</code> 表示，同样有两个操作数。从本质上来讲，按位或操作就是将两个数值的每一位对齐，然后对相同位置上的两个数执行 OR 操作。</p>
<h5 id="按位异或"><a href="#按位异或" class="headerlink" title="按位异或"></a>按位异或</h5><p>按位异或操作符由 <code>^</code> 表示，同样有两个操作数。从本质上来讲，按位异或操作就是将两个数值的每一位对齐，然后对相同位置上的两个数执行 XOR 操作。</p>
<h5 id="左移"><a href="#左移" class="headerlink" title="左移"></a>左移</h5><p>左移操作符由 <code>&lt;&lt;</code> 表示，它会将数值的所有位向左移动指定的位数，出现的空位用 0 进行填充。</p>
<p>注意，左移不会影响操作数的符号位。</p>
<h5 id="有符号右移"><a href="#有符号右移" class="headerlink" title="有符号右移"></a>有符号右移</h5><p>右移操作符由 <code>&gt;&gt;</code> 表示，它会将数值的所有位向右移动指定的位数，但保留符号位，原数值中出现的空位以符号位的值来填充所有空位。</p>
<h5 id="无符号右移"><a href="#无符号右移" class="headerlink" title="无符号右移"></a>无符号右移</h5><p>无符号左移由 <code>&lt;&lt;&lt;</code> 表示，它会将数值的所有 32 位都向右移动。对正数来说，无符号右移的结果与有符号右移相同。但对负数来说，其结果就不一样了，而且无符号右移会将负数的二进制码当成整数的二进制码，因此导致无符号右移后的结果非常之大。</p>
<h4 id="布尔操作符"><a href="#布尔操作符" class="headerlink" title="布尔操作符"></a>布尔操作符</h4><h5 id="逻辑非"><a href="#逻辑非" class="headerlink" title="逻辑非"></a>逻辑非</h5><p>逻辑非操作符由 <code>!</code> 表示，可以应用于 ECMAScript 中的任何值。无论这个值是什么数据类型，这个操作符都会返回一个布尔值。逻辑非操作符首先会将它的操作数转换为一个布尔值，然后再对其求反。</p>
<p>逻辑非操作符也可以用于讲一个值转换为与其对应的布尔值。而同时使用两个逻辑非操作符，实际上就会模拟 <code>Boolean()</code> 转型函数的行为。</p>
<h5 id="逻辑与"><a href="#逻辑与" class="headerlink" title="逻辑与"></a>逻辑与</h5><p>逻辑与操作符由 <code>&amp;&amp;</code> 表示，有两个操作数。逻辑与操作可以应用于任何类型的操作数，而不仅仅是布尔值。在有一个操作数不是布尔值的情况下，逻辑与操作就不一定返回布尔值 ：</p>
<ul>
<li>如果第一个操作数是对象，则返回第二个操作数</li>
<li>如果第二个操作数是对象，则只有在第一个操作数的求值结果为 <code>true</code> 的情况下才会返回该对象</li>
<li>如果两个操作数都是对象，则返回第二个操作数</li>
<li>如果有一个操作数是 <code>null</code> ,  <code>NaN</code>  或 <code>undefined</code>，则返回 <code>null</code> ,  <code>NaN</code>  或 <code>undefined</code></li>
</ul>
<p>逻辑与操作属于短路操作，即如果第一个操作数能够决定结果，那么就不会对第二个操作数求值。</p>
<p>注意，不能在逻辑与操作中使用未定义的值。</p>
<h5 id="逻辑或"><a href="#逻辑或" class="headerlink" title="逻辑或"></a>逻辑或</h5><p>逻辑或操作由 <code>||</code> 表示，有两个操作数。与逻辑与操作相似，如果有一个操作数不是布尔值，逻辑或也不一定返回布尔值 ：</p>
<ul>
<li>如果第一个操作数是对象，则返回第一个操作数</li>
<li>如果第一个操作数的求值结果为 <code>false</code> ，则返回第二个操作数</li>
<li>如果两个操作数都是对象，则返回第一个操作数</li>
<li>如果两个操作数都是 <code>null</code> ,  <code>NaN</code>  或 <code>undefined</code> ，则返回 <code>null</code> ,  <code>NaN</code>  或 <code>undefined</code></li>
</ul>
<p>逻辑或操作符也是短路操作符，也就是说，如果第一个操作数的求值结果为 <code>true</code> ，就不会对第二个操作数求值了。</p>
<h4 id="乘性操作符"><a href="#乘性操作符" class="headerlink" title="乘性操作符"></a>乘性操作符</h4><p>ECMAScript 定义了 3 个乘性操作符 ：乘法、除法和求模，在操作数为非数值的情况下会执行自动的类型转换。</p>
<h5 id="乘法"><a href="#乘法" class="headerlink" title="乘法"></a>乘法</h5><p>乘法操作符由 <code>*</code> 表示，用于计算两个数值的乘积。</p>
<ul>
<li>如果乘积结果超过了 ECMAScript 的数值表示范围，则返回 <code>Infinity</code> 或 <code>-Infinity</code></li>
<li>如果有一个操作数是 <code>NaN</code> ，则结果是 <code>NaN</code></li>
<li><code>Infinity</code> 与 0 相乘，结果是 <code>NaN</code></li>
<li><code>Infinity</code> 与非 0 数值相乘，结果是  <code>Infinity</code> 或 <code>-Infinity</code> ，取决于有符号操作数的符号</li>
<li>如果 <code>Infinity</code> 与 <code>Infinity</code> 相乘，则结果是 <code>Infinity</code></li>
<li>如果有一个操作数不是数值，则使用 <code>Number()</code> 将其转换为数值</li>
</ul>
<h5 id="除法"><a href="#除法" class="headerlink" title="除法"></a>除法</h5><p>除法操作符由 <code>/</code> 表示，执行第二个操作数除第一个操作数的计算。</p>
<ul>
<li>如果商超过了 ECMAScript 的数值表示范围，则返回 <code>Infinity</code> 或 <code>-Infinity</code></li>
<li>如果有一个操作数是 <code>NaN</code> ，则结果是 <code>NaN</code></li>
<li><code>Infinity</code> 被 <code>Infinity</code> 除，结果是 <code>NaN</code></li>
<li>如果 0 被 0 除，结果是 <code>NaN</code></li>
<li>如果非零的有限数被零除，则结果是 <code>Infinity</code> 或 <code>-Infinity</code> ，取决于有符号的操作数</li>
<li>如果 <code>Infinity</code> 被任何非 0 数值除，则结果是 <code>Infinity</code> 或 <code>-Infinity</code> ，取决于有符号的操作数</li>
<li>如果有一个操作数不是数值，则使用 <code>Number()</code> 将其转换为数值</li>
</ul>
<h5 id="求模"><a href="#求模" class="headerlink" title="求模"></a>求模</h5><p>求模操作符由 <code>%</code> 表示。</p>
<ul>
<li>如果被除数是无穷大值而出除数是有限大的数值，则结果是 <code>NaN</code></li>
<li>如果被除数是有限大的数值而除数是 0 ，则结果是 <code>NaN</code></li>
<li>如果是 <code>Infinity</code> 被 <code>Infinity</code> 除，则结果是 <code>NaN</code></li>
<li>如果被除数是有限大的数值而除数是无穷大的数值，则结果是被除数</li>
<li>如果被除数是 0 ，则结果是0</li>
<li>如果有一个操作数不是数值，则使用 <code>Number()</code> 将其转换为数值</li>
</ul>
<h4 id="加性操作符"><a href="#加性操作符" class="headerlink" title="加性操作符"></a>加性操作符</h4><h5 id="加法"><a href="#加法" class="headerlink" title="加法"></a>加法</h5><p>加法操作符由 <code>+</code> 表示。</p>
<p>如果两个操作数都是数值，执行常规的加法计算，然后按照下列规则返回结果 ：</p>
<ul>
<li>如果一个操作数是 <code>NaN</code> ，则结果是 <code>NaN</code></li>
<li>如果是 <code>Infinity</code> 加 <code>Infinity</code> ，则结果是 <code>Infinity</code></li>
<li>如果是 <code>-Infinity</code> 加 <code>-Infinity</code> ，则结果是 <code>-Infinity</code></li>
<li>如果是<code>Infinity</code> 加 <code>-Infinity</code> ，则结果是 <code>NaN</code></li>
</ul>
<p>如果有一个操作数是字符串 ：</p>
<ul>
<li>如果两个操作数都是字符串，则将它们拼接起来</li>
<li>如果只有一个操作数是字符串，则将另一个操作数转换为字符串，然后再将两个字符串拼接起来</li>
</ul>
<p>如果有一个操作数是对象、数值或布尔值，则调用它们的 <code>toString()</code> 方法取得相应的字符串值，然后再应用前述规则。</p>
<p>对于 <code>undefined</code> 和 <code>null</code> ，则分别调用 <code>String()</code> 函数并取得字符串 “undefined” 和 “null” 。</p>
<h5 id="减法"><a href="#减法" class="headerlink" title="减法"></a>减法</h5><p>减法操作符由 <code>-</code> 表示。</p>
<ul>
<li>如果有一个操作数是 <code>NaN</code> ，则结果是 <code>NaN</code></li>
<li>如果是 <code>Infinity</code> 减 <code>Infinity</code> ，则结果是 <code>NaN</code></li>
<li>如果是 <code>-Infinity</code> 减 <code>-Infinity</code> ，则结果是 <code>NaN</code></li>
<li>如果是 <code>Infinity</code> 减 <code>-Infinity</code> ，则结果是 <code>Infinity</code></li>
<li>如果是 <code>-Infinity</code> 减 <code>Infinity</code> ，则结果是  <code>Infinity</code></li>
<li>如果有一个操作数是字符串、布尔值、<code>null</code> 或 <code>undefined</code> ，则先调用 <code>Number()</code> 函数将其转换为数值，然后在按照前述规则执行减法计算。如果转换的结果是 <code>NaN</code> ，则减法的结果就是 <code>NaN</code></li>
<li>如果有一个操作数是对象，则调用对象的 <code>valueOf()</code> 方法以取得表示该对象的数值。如果得到的是 <code>NaN</code> ，则减法的结果就是 <code>NaN</code> 。如果对象没有 <code>valueOf()</code> 方法，则调用其 <code>toString()</code> 方法并将得到的字符串转换为数值</li>
</ul>
<h4 id="关系操作符"><a href="#关系操作符" class="headerlink" title="关系操作符"></a>关系操作符</h4><p>与 ECMAScript 中其它操作符一样，当关系操作符的操作数使用了非数值时，也要进行数据转换或完成某些奇怪的操作 ：</p>
<ul>
<li>如果两个操作数都是数值，则执行数值比较</li>
<li>如果两个操作数都是字符串，则比较两个字符串对应的字符编码值</li>
<li>如果一个操作数是数值，则将另一个操作数转换为一个数值，然后执行数值比较</li>
<li>如果一个操作数是对象，则调用这个对象的 <code>valueOf()</code> 方法，用得到的结果按照前述规则执行比较。如果对象没有 <code>valueOf()</code> 方法，则调用 <code>toString()</code> 方法，并用得到的结果根据前述规则执行比较</li>
<li>如果一个操作数是布尔值，则先将其转化为数值，然后再执行比较</li>
</ul>
<p>在比较两个字符串时，实际比较的是两个字符串中对应位置的每个字符的字符编码值，因此一般需要将两个操作数转换为相同的大小写形式，然后再执行比较。</p>
<h4 id="相等操作符"><a href="#相等操作符" class="headerlink" title="相等操作符"></a>相等操作符</h4><h5 id="相等和不相等"><a href="#相等和不相等" class="headerlink" title="相等和不相等"></a>相等和不相等</h5><p>ECMAScript 中的相等操作符由 <code>==</code> 表示，如果两个操作数相等，则返回 <code>true</code> 。而不相等操作符由 <code>!=</code>  表示，如果两个操作数不相等，则返回 <code>true</code> 。这两个操作符都会先转换操作数，然后在比较它们的相等性。</p>
<p>在转换不同的数据时，需遵守以下规则 ：</p>
<ul>
<li>如果有一个操作数是布尔值，则在比较相等性之前先将其转换为数值 – <code>false</code> 转换为 0 ，<code>true</code> 转换为 1</li>
<li>如果一个操作数是字符串，另一个操作数是数值，在比较相等性之前先将字符串转换为数值</li>
<li>如果一个操作数是对象，另一个操作数不是，则调用对象的 <code>valueOf()</code> 方法，用得到的基本类型值按照前述规则进行比较</li>
</ul>
<p>这两个操作符在进行比较时要遵守下列规则 ：</p>
<ul>
<li><code>null</code>  和 <code>undefined</code> 时相等的</li>
<li>比较相等性之前，不能将 <code>null</code>  和 <code>undefined</code> 转换为其它任何值</li>
<li>如果有一个操作数是 <code>NaN</code> ，则相等操作符返回 <code>false</code> ，而不相等操作符返回 <code>true</code></li>
<li>如果两个数都是对象，则比较它们是否是同一个对象。如果两个操作数都指向同一个对象，则相等操作符返回 <code>true</code> ；否则， 返回 <code>false</code> 。</li>
</ul>
<p>特殊情况 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span> 	<span class="comment">// true</span></span><br><span class="line"><span class="literal">true</span> == <span class="number">1</span>		  	<span class="comment">// true</span></span><br><span class="line"><span class="literal">true</span> == <span class="number">2</span>		  	<span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;NaN&quot;</span> == <span class="literal">NaN</span>	  	<span class="comment">// false</span></span><br><span class="line"><span class="number">5</span> == <span class="literal">NaN</span>		  	<span class="comment">// false</span></span><br><span class="line"><span class="literal">undefined</span> == <span class="number">0</span>	  	<span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> == <span class="literal">NaN</span> 		  	<span class="comment">// false</span></span><br><span class="line"><span class="literal">null</span> == <span class="number">0</span>			<span class="comment">// false</span></span><br><span class="line"><span class="literal">NaN</span> != <span class="literal">NaN</span>			<span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;5&quot;</span> == <span class="number">5</span>			<span class="comment">// true</span></span><br><span class="line"><span class="literal">false</span> == <span class="number">0</span>			<span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h5 id="全等和不全等"><a href="#全等和不全等" class="headerlink" title="全等和不全等"></a>全等和不全等</h5><p>除了在比较之前不能转换为操作数之外，全等和不全等操作符与相等和不相等操作符没有什么区别。全等操作符由 <code>===</code> 表示，它只在两个操作数未经转换就想等的情况下返回 <code>true</code> 。</p>
<p>由于相等和不相等操作符存在类型转换问题，为了保持代码中数据类型的完整性，推荐使用全等和不全等操作符。</p>
<h4 id="条件操作符"><a href="#条件操作符" class="headerlink" title="条件操作符"></a>条件操作符</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable = boolean_expression ? true_value : false_value;	</span><br></pre></td></tr></table></figure>

<p>基于对 boolean_expression 的求值结果，决定给变量 variable 赋什么值。</p>
<h3 id="语句-1"><a href="#语句-1" class="headerlink" title="语句"></a>语句</h3><p><code>if</code> 语句、<code>do-while</code> 语句、<code>while</code> 语句、<code>for</code> 语句、<code>for-in</code> 语句与其它语言并没有不同，在此不做介绍。</p>
<h4 id="label-语句"><a href="#label-语句" class="headerlink" title="label 语句"></a><code>label</code> 语句</h4><p>使用 <code>label</code> 语句可以在代码中添加标签，以便将来使用。</p>
<h4 id="break-和-continue-语句"><a href="#break-和-continue-语句" class="headerlink" title="break  和 continue 语句"></a><code>break</code>  和 <code>continue</code> 语句</h4><p><code>break</code> 和 <code>continue</code> 语句用于在循环中精确地控制代码的执行。<code>break</code> 语句会立即退出循环，强制继续执行循环后面的语句。而 <code>continue</code> 语句虽然也是立即退出循环，但退出循环后会从循环的顶部继续执行。</p>
<h4 id="with-语句"><a href="#with-语句" class="headerlink" title="with 语句"></a><code>with</code> 语句</h4><p><code>with</code> 语句的作用是将代码的作用域设置到一个特定的对象中 ：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> (expression) statment;</span><br></pre></td></tr></table></figure>

<p>定义 <code>with</code> 语句的目的主要是为了简化多次编写同一个对象的工作。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> qs = location.search.substring(<span class="number">1</span>);</span><br><span class="line"><span class="keyword">var</span> hostName = location.hostName;</span><br><span class="line"><span class="keyword">var</span> url = location.href;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 with 语句改写</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">with</span>(<span class="params">location</span>)</span> &#123;</span><br><span class="line">	<span class="keyword">var</span> qs = search.substring(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">var</span> hostName = hostName;</span><br><span class="line">    <span class="keyword">var</span> url = href;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>严格模式下不允许使用 <code>with</code> 语句，视为语法错误。</p>
<p>由于大量使用 <code>with</code> 语句会导致性能下架，同时也会给调试代码造成困难，因此在开发大型应用程序时，不建议使用 <code>with</code> 语句。</p>
<h4 id="swithc-语句"><a href="#swithc-语句" class="headerlink" title="swithc 语句"></a><code>swithc</code> 语句</h4><p>ECMAScript 中的 <code>switch</code> 有两个特点 ：</p>
<ul>
<li>可以在 <code>switch</code> 中使用任何数据类型</li>
<li>每个 <code>case</code> 的值不一定是常量，可以是变量，甚至是表达式</li>
</ul>
<p>需要主要的是，<code>switch</code> 语句在比较值时使用的是全等操作符，不会发生类型转换。</p>
<h3 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h3><p>ECMAScript 中的函数使用 <code>function</code> 关键字来声明，后跟一组参数及函数体。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span> (<span class="params">arg_0, arg_1, ...</span>) </span>&#123;</span><br><span class="line">    statments</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ECMAScript 中的函数在定义时不必指定是否返回值。</p>
<p><code>return</code> 语句也可以不带有任何返回值。在这种情况下，函数在停止执行后将返回 <code>undefined</code> 值。这种用法一般用在需要提前停止函数执行而又不需要返回值的情况下。</p>
<p>严格模式下 ：</p>
<ul>
<li><p>不能把函数或参数命名为 eval 或 arguments</p>
</li>
<li><p>不能出现两个命名参数同名的情况</p>
</li>
</ul>
<h4 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h4><p>ECMAScript 函数的参数不介意传递进来多少个参数，也不在乎传进来的参数是什么数据类型。ECMAScript 中函数的参数在内部是用一个数组来表示的，函数接收到的始终都是这个数组，而不关心数组中包含哪些参数。在函数体内，可以通过 <code>arguments</code> 对象来访问这个参数数组，从而获得传递给函数的每一个参数。</p>
<p>命名的参数只提供便利，但并不是必需的。而且在 ECMAScript 中，解析器不会验证命名参数。</p>
<p>没有传递值得命名参数将自动被赋予 <code>undefined</code> 值。</p>
<p>严格模式对如何使用 <code>arguments</code> 对象做出了一些限制 ：无法对命名参数进行赋值；重写 <code>arguments</code> 的值会导致语法错误。</p>
<blockquote>
<p><code>arguments</code> 本质上并不是一个数组，只是与数组类似，你可以使用方括号语法来访问它的每一个元素。</p>
</blockquote>
<h4 id="没有重载"><a href="#没有重载" class="headerlink" title="没有重载"></a>没有重载</h4><p>ECMAScript 中函数的参数有包含零或多个值得数组来表示，所以没有函数签名。而没有函数签名，真正的重载是不可能做到的。如果在 ECMAScript 中定义了同名函数，则该名字只属于后定义的函数。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2016-06-19T16:00:00.000Z" title="2016/6/20 00:00:00">2016-06-20</time>发表</span><span class="level-item"><a class="link-muted" href="/categories/JavaScript/">JavaScript</a></span><span class="level-item">1 小时读完 (大约12953个字)</span></div></div><h1 class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2016/06/20/javascript-tutorial/">JavaScript Tutorial</a></h1><div class="content"><h2 id="JavaScript-Where-To"><a href="#JavaScript-Where-To" class="headerlink" title="JavaScript Where To"></a>JavaScript Where To</h2><p>Script can be placed in the <body> , or in the <head> section of an HTML page , or in both. But placing scripts at the bottom of the <body> element improves the display speed , because script complation slow down the display. </p>
<p>Scripts can also be placed in external files and it is a practical method to solve the problem the same code is used in many different web pages . It’s important to note that you can’t contain <scrip> tags in external scripts . Placing scripts in external files has some advantages as below :</p>
<ul>
<li>It separates HTML and code</li>
<li>It makes HTML and JavaScript easier to read and maintain</li>
<li>Cached JavaScript files can speed up page loads</li>
</ul>
<p>External scripts can be referenced with a full URL or with a path relative to the current web page .</p>
<h2 id="JavaScript-Output"><a href="#JavaScript-Output" class="headerlink" title="JavaScript Output"></a>JavaScript Output</h2><p>JavaScript can display data use innerHTML/document.write()/window.alert()/console.log() .</p>
<ul>
<li><p>Using innerHTML</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById().innHTML = <span class="string">&#x27;content&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p>Changing the innerHTML property of an HTML element is a common way to display data in HTML.</p>
</li>
<li><p>Using document.write()</p>
<p>For testing purposes , it is convenient to use document.write() .</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.write(<span class="string">&#x27;content&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>Noted: Using document.write() after an HTML document is fully loaded , will delete all existing HTML .</p>
</li>
<li><p>Using window.alert()</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.alert(<span class="string">&#x27;content&#x27;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Using console.log()</p>
<p>For debugging purpose, you can use the console.log() method to display data.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&#x27;content&#x27;</span>);</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h2 id="JavaScript-Statements"><a href="#JavaScript-Statements" class="headerlink" title="JavaScript Statements"></a>JavaScript Statements</h2><p>A JavaScript program is a list of programming statements. In HTML, JavaScript programs are executed by the web browser. A  JavaScript statement consists of values, operators, expressions, keywords and comments. The statements are executed one by one, in the same order as they are written.</p>
<h3 id="Semicolons"><a href="#Semicolons" class="headerlink" title="Semicolons"></a>Semicolons</h3><p>JavaScript statements separated by semicolons.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, b, c;</span><br><span class="line">a = <span class="number">1</span>;</span><br><span class="line">b = <span class="number">2</span>;</span><br><span class="line">c = <span class="number">3</span>;</span><br></pre></td></tr></table></figure>

<p>When separated by semicolons, you are allowed write multiple statements on one line.</p>
<p>Ending statements with semicolons is not required, but highly recommended.</p>
<h3 id="JavaScript-White-Space"><a href="#JavaScript-White-Space" class="headerlink" title="JavaScript White Space"></a>JavaScript White Space</h3><p>JavaScript ignores multiple spaces. You can add white space to your script to make ite more readable and put spaces around operators is a good practice.</p>
<h3 id="JavaScript-Line-Length-and-Line-Breaks"><a href="#JavaScript-Line-Length-and-Line-Breaks" class="headerlink" title="JavaScript  Line Length and Line Breaks"></a>JavaScript  Line Length and Line Breaks</h3><p>You should avoid code lines longer than 80 characters for best readability.</p>
<h3 id="JavaScript-Code-Blocks"><a href="#JavaScript-Code-Blocks" class="headerlink" title="JavaScript Code Blocks"></a>JavaScript Code Blocks</h3><p>JavaScript statements can be grouped together in code blocks, inside curly brackets {}. The purpose of code blocks is to define statements to be executed together.</p>
<h3 id="JavaScript-Keywords"><a href="#JavaScript-Keywords" class="headerlink" title="JavaScript Keywords"></a>JavaScript Keywords</h3><p>JavaScript statements often start with a keyword to identify the JavaScript action to be performed and they are all reserved words. Reserved words cannot be used as names of variables.</p>
<h2 id="JavaScript-Syntax"><a href="#JavaScript-Syntax" class="headerlink" title="JavaScript Syntax"></a>JavaScript Syntax</h2><p>JavaScript syntax is the set of rules, how JavaScript programs are constructed.</p>
<h3 id="JavaScript-Values"><a href="#JavaScript-Values" class="headerlink" title="JavaScript Values"></a>JavaScript Values</h3><p>The JavaScript syntax defines two types of values: Fixed values and variable values. Fixed values are called literals. Variable values are called variables.</p>
<h3 id="JavaScript-Operators"><a href="#JavaScript-Operators" class="headerlink" title="JavaScript Operators"></a>JavaScript Operators</h3><p>JavaScript uses arithmetic operators (+ - * /) to compute values and use an assignment operator (=) to assign values to variables.</p>
<h3 id="JavaScript-Expressions"><a href="#JavaScript-Expressions" class="headerlink" title="JavaScript Expressions"></a>JavaScript Expressions</h3><p>An expressions is a combination of values, variables, and operators, which computes to a value.</p>
<h3 id="JavaScript-is-Case-Sensitive"><a href="#JavaScript-is-Case-Sensitive" class="headerlink" title="JavaScript is Case Sensitive"></a>JavaScript is Case Sensitive</h3><p>All JavaScript identifiers are case sensitive.</p>
<h3 id="JavaScript-and-Camel-Case"><a href="#JavaScript-and-Camel-Case" class="headerlink" title="JavaScript and Camel Case"></a>JavaScript and Camel Case</h3><p>Historically, programmers have used different ways of joining multiple words into one variable name .</p>
<ul>
<li>Hyphens are not allowed in JavaScript. They are reserved for subtractions</li>
<li>Underscore</li>
<li>Upper Camel case (Pascal Case)</li>
<li>Lower Camel Case</li>
</ul>
<p>JavaScript tend to use camel case that start with a lowercase letter, such as :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">firstName, lastName, masterCard, interCity</span><br></pre></td></tr></table></figure>

<h3 id="JavaScript-Character-Set"><a href="#JavaScript-Character-Set" class="headerlink" title="JavaScript Character Set"></a>JavaScript Character Set</h3><p>JavaScript uses the Unicode character set</p>
<h2 id="JavaScript-Comments"><a href="#JavaScript-Comments" class="headerlink" title="JavaScript Comments"></a>JavaScript Comments</h2><p>JavaScript comments can be used to explain JavaScript code, and to make it more readable.</p>
<ul>
<li>Single line comments start with //. Any text between // and the end of line will be ignored by JavaScript</li>
<li>Multi-line Comments start with /* and end with <em>/. Any text between /\</em> and */ will be ignored by JavaScript</li>
</ul>
<h2 id="JavaScript-Variables"><a href="#JavaScript-Variables" class="headerlink" title="JavaScript Variables"></a>JavaScript Variables</h2><p>JavaScript variables are containers for storing data values. In programming, just like in algebra, we use variables to hold values. All JavaScript variables must be identified with unique names. These unique names are called identifiers.</p>
<p>The general rules for constructing names for varialbes ard :</p>
<ul>
<li>Names can contain letters, digits, underscores, and dollar signs.</li>
<li>Names must begin with a letter</li>
<li>Names can also begin with $ and __</li>
<li>Names are case sensitive</li>
<li>Reserved words cannot be used as names</li>
</ul>
<p>It is a good programming practice to declare all variables at the beginning of a script.</p>
<p>A variable declared without a value will have the value <code>undefined</code> .</p>
<p>If you put a number in quotes, the rest of numbers will be treated as strings and concatenated.</p>
<h2 id="JavaScript-Data-Types"><a href="#JavaScript-Data-Types" class="headerlink" title="JavaScript Data Types"></a>JavaScript Data Types</h2><p>JavaScript variables can hold many data types: numbers, string, objects and mored. In programming, data types is an import concept. To be able to operate on variables, it is important to konw something about the type. </p>
<p>When adding a number and a string, JavaScript will treat the number as a string.</p>
<p>JavaScript evaluates expression from left to right. Different sequences can produce different results.</p>
<p>JavaScript has dynammic types. This means that the same variable can be used to hold different data types.</p>
<p>You can use the JavaScript <code>typeof</code> operator to find the type of a JavaScript variable. The <code>typeof</code> operator returns the type of a variable or an expression.</p>
<p>In JavaScript, a variable without a value, has the value <code>undefined</code> . The typeof is also <code>undefined</code> . </p>
<p>In JavaScript null is “nothing”. It is supposed to be something that doesn’t exist. Unfortunately, in JavaScript, the data of null is an object. You can consider it a bug in JavaScript that typeof null is an object. It should be null.</p>
<h3 id="Difference-Between-Undefined-and-Null"><a href="#Difference-Between-Undefined-and-Null" class="headerlink" title="Difference Between Undefined and Null"></a>Difference Between Undefined and Null</h3><p>Undefined and null are equal in value but different in type </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typeof</span> <span class="literal">undefined</span>	<span class="comment">// undefined</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span>			<span class="comment">// object</span></span><br><span class="line"></span><br><span class="line"><span class="literal">null</span> === <span class="literal">undefined</span>	<span class="comment">// false</span></span><br><span class="line"><span class="literal">null</span> == <span class="literal">undefined</span>	<span class="comment">// true</span></span><br></pre></td></tr></table></figure>



<h2 id="JavaScript-Functions"><a href="#JavaScript-Functions" class="headerlink" title="JavaScript Functions"></a>JavaScript Functions</h2><p>A JavaScript function is a block of code designed to perform a particular task. A JavaScript function is executed when “something” invokes it.</p>
<p><strong>Syntax</strong></p>
<p>A JavaScript function is defined with the function keyword, followed by a name, followed by parentheses (). Function names can contain letters, digits, underscored, and dollar signs. The parentheses may include parameter names separated by commas: (parameter, parameter, …).</p>
<p><strong>Invocation</strong></p>
<p>The code inside the function will execute when “something” invokes the function :</p>
<ul>
<li>when an event occurs</li>
<li>When it is invoked from JavaScript code</li>
<li>Automatically</li>
</ul>
<p><strong>Return</strong></p>
<p>When JavaScript reaches a return statement, the function will stop executing. If the function was invoked from a statement, JavaScript will return to execute the code after the invoking statement. Function often compute a return value. The return value is “returned” back to the caller.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// define a function</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">convertStringToLowerCase</span> (<span class="params">text</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> text.toLocaleLowerCase();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// invoke a function </span></span><br><span class="line"><span class="keyword">var</span> lowerCaseStr = convertStringToLowerCase(<span class="string">&quot;Hello JavaScript !&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>Accessing a function without () will return the function definition instead of the function result.</p>
<p><strong>Why Functions?</strong></p>
<p>You can reuse code by using function. As it is : Define the code once, and use it many times.</p>
<p><strong>Functions used as variable values</strong></p>
<p>Functions can be used the same way as you use variables, in all types of formulas, assignments, and calculations.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="string">&quot;text&quot;</span>.toLocalLowerCase());</span><br></pre></td></tr></table></figure>



<h2 id="JavaScript-Object"><a href="#JavaScript-Object" class="headerlink" title="JavaScript Object"></a>JavaScript Object</h2><p>JavaScript objects are containers for named values called properties or methods.</p>
<p><strong>Object Definition</strong></p>
<p>You define a JavaScript object with an object literal</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> object = &#123;<span class="attr">key</span>: value, <span class="attr">key</span>: value, ...&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>Object Properties</strong></p>
<p>The <code>name:values</code> pairs in JavaScript objects are called properties. You can access object properties in two ways :</p>
<ul>
<li><code>objectName.propertyName</code></li>
<li><code>objectName[&quot;propertyName&quot;]</code></li>
</ul>
<p><strong>Object Methods</strong></p>
<p>Objects can also have methods - actions that can be performed on objects. Methods are stored in properties as function definitions. A method is a function stored as a property.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> objct = &#123;</span><br><span class="line">    <span class="attr">key</span>: value,</span><br><span class="line">    <span class="attr">key</span>: value,</span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">methodName</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p><strong>The <code>this</code> keyword</strong></p>
<p>In a function definition, this refers to the “owner” of the function.</p>
<p><strong>Accessing Object Mehtods</strong></p>
<p>You access an object method with the following syntax :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objctName.methodName();</span><br></pre></td></tr></table></figure>

<p><strong>Do Not Declare Strings, Numbers, and Booleans as Objects!</strong></p>
<p>When a JavaScript variable is declared with the keyword “new”, the variable is created as an object. Avoid String, Number, and Boolean objects. They complicate your code and slow down execution speed.</p>
<h2 id="JavaScript-Scope"><a href="#JavaScript-Scope" class="headerlink" title="JavaScript Scope"></a>JavaScript Scope</h2><p>Scope determines the accessibility of variables.</p>
<p><strong>Function Scope</strong></p>
<p>In JavaScript there are two types of scope:</p>
<ul>
<li>Local scope</li>
<li>Global scope</li>
</ul>
<p>JavaScript has function scope: Each function creates a news scope. Scope determines the accessibility of these variables.</p>
<p>Variables defined inside a function are not accessible from outside the function.</p>
<p><strong>Local Variables</strong></p>
<p>Variables declared within a JavaScript function, become Local to the function. Local variables have local scope: They can only be accessed within the function.</p>
<p>Since local variables are only recognized inside their functions, variables with the same name can be used in different functions. Local variables are created when a function starts, and deleted when the function is completed.</p>
<p><strong>Global Variables</strong></p>
<p>A variable declared outside a function, become Global. A global variable has global scope: All scripts and functions on a web page can access it.</p>
<p><strong>JavaScript Variables</strong></p>
<p>In JavaScript, objects and functions are also variables.</p>
<p>Scope determines the accessibility of variables, objects, and functions from different parts of the code.</p>
<p><strong>Automatically Global</strong></p>
<p>If you assign a value to a variable that has not been declared, it will automatically become a global variable, even if the variable inside a function.</p>
<p><strong>Strict Mode</strong></p>
<p>All modern browsers support running JavaScript in “Strict Mode”. In Strict mode, global variables are not created automatically.</p>
<p><strong>Global Variables in HTML</strong></p>
<p>With JavaScript, the global variable scope is the complete JavaScript environment.</p>
<p>In HTML, the global scope is the window object. All global variables belong to the window object.</p>
<p><strong>The Lifetime of JavaScript Variables</strong></p>
<p>The lifetime of a JavaScript variable starts when it is declared.</p>
<p>Local variables are deleted when the function is completed.</p>
<p>In a web browser, global variables are deleted when you close the browser window, but remain available to new pages loaded into the same window.</p>
<h2 id="JavaScript-Events"><a href="#JavaScript-Events" class="headerlink" title="JavaScript Events"></a>JavaScript Events</h2><p>HTML events are “things” that happen to HTML elements. When JavaScript is used in HTML pages, JavaScript can “react” on these events.</p>
<p><strong>HTML Events</strong></p>
<p>An HTML event can be something the browser dose, or somthing a user does.</p>
<p>JavaScript lets you execute code whtn events are detected. HTML allows event handler attributes, with JavaScript code, to be added to HTML elements.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">element</span> <span class="attr">event</span>=<span class="string">&quot;some JavaScript&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>JavaScript code is often several lines long. It is more common to see event attributes calling functions.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">element</span> <span class="attr">event</span>=<span class="string">&quot;functoinName&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p><strong>What can JavaScript Do ?</strong></p>
<p>Event handlers can be used to handle, and verify, user input, user actions, and browser actions.</p>
<h2 id="JavaScript-Strings"><a href="#JavaScript-Strings" class="headerlink" title="JavaScript Strings"></a>JavaScript Strings</h2><p>JavaScript strings are used for storing and manipulating text.</p>
<p><strong>String Length</strong></p>
<p>The length of a string is found in the built in property length.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> txt = <span class="string">&quot;AaBbCcDdEeFfGg&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> length = txt.length;</span><br></pre></td></tr></table></figure>

<p><strong>Special Characters</strong></p>
<p>Because strings must be written within quotes, JavaScript will misunderstand this string and the solution to avoid this problem, is to use the backslash escape character.</p>
<p><strong>Breaking Long Code  Lines</strong></p>
<p>For best readability, programmers often like to avoid code lines longer than 80 characters. If a JavaScript statements does not fit on one line, the best place to break it is after an operator.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;element-id&quot;</span>).innerHTML =</span><br><span class="line"><span class="string">&quot;content&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>You can also break up a code line within a text string with a single backslash.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> text = <span class="string">&quot;Line - 1 \</span></span><br><span class="line"><span class="string">Line - 2</span></span><br><span class="line"><span class="string">&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>Strings Can be Objects</strong></p>
<p>Normally, JavaScript strings are primitive values, created from literals, but strings can also be defined as objects with the keyword new.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> literalStr = <span class="string">&quot;literal string&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> objectStr = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">&quot;object string&quot;</span>);</span><br></pre></td></tr></table></figure>



<p><strong>JavaScript String  Methods</strong></p>
<p>Primitive values cannot have propertiess or methods, because they are not objects.</p>
<p>But with JavaScript, methods and properties are also available to primitive values, because JavaScript treats primitive values as objects when executing methods and properties.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> orignalStr = <span class="string">&quot;AaBbCcDdAaBbCcDd&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> subStr = <span class="string">&quot;aB&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// the length property returns the length of a string</span></span><br><span class="line"><span class="comment">// strLength is 8</span></span><br><span class="line"><span class="keyword">var</span> strLength = orignalStr.length; </span><br><span class="line"></span><br><span class="line"><span class="comment">// the indexOf() method returns the index of the first occurrence of a specified text in a string</span></span><br><span class="line"><span class="comment">// subStrIndex is 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// the lastIndexOf() method returns the index of the last occurrence of a specified text in a string</span></span><br><span class="line"><span class="comment">// lastIndexOfSubStr is 9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Both indexOf() and lastIndexOf() return -1 if the text is not found</span></span><br><span class="line"><span class="comment">// Both indexOf() and lastIndexOf() accept a second parameter as the starting position for search.</span></span><br><span class="line"><span class="keyword">var</span> subStrIndex = orignalStr.indexOf(subStr);</span><br><span class="line"><span class="keyword">var</span> lastIndexOfSubStr = orignalStr.lastIndexOf(subStr);</span><br><span class="line"></span><br><span class="line"><span class="comment">// the search() method search a string for a specified value and return the position of the match</span></span><br><span class="line"><span class="comment">// search() method cannot accept second parameter and can take regular expressions as search values</span></span><br><span class="line"><span class="comment">// subStrIndex is 1</span></span><br><span class="line"><span class="keyword">var</span> subStrIndex = orignalStr.search(subStr);</span><br><span class="line"></span><br><span class="line"><span class="comment">// slice(start, end),substring(start, end), and substr(start, length) for extracting a part of a string.</span></span><br><span class="line"><span class="comment">// slice() extracts a part of a string and returns the extracted part in a new string</span></span><br><span class="line"><span class="comment">// substring() is similar to slice(), the difference is that substring() cannot accept negative indexes</span></span><br><span class="line"><span class="comment">// substr() is similar to slice(), the difference is that the second parameter specifies the length of the extracted part.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// now resultStr1, resultStr2, resultStr3 is AaBb</span></span><br><span class="line"><span class="keyword">var</span> resultStr1 = orignalStr.slice(<span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> resultStr2 = orignalStr.substring(<span class="number">0</span>, <span class="number">3</span>);</span><br><span class="line"><span class="keyword">var</span> resultStr3 = orignalStr.substr(<span class="number">0</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// the replace() method replaces a specified value with anthor value in a string</span></span><br><span class="line"><span class="comment">// resultStr now is Hello JavaScript</span></span><br><span class="line"><span class="comment">// the replace() method does not change the string it is called on, it returns a new string.</span></span><br><span class="line"><span class="comment">// By default, the replace() function replaces only the first match</span></span><br><span class="line"><span class="comment">// To replace all matches, use a regular expression with a /g flag</span></span><br><span class="line">orignalStr = <span class="string">&quot;Hello Lee Code&quot;</span>;</span><br><span class="line">resultStr = orignalStr.replace(<span class="string">&quot;Lee Code&quot;</span>, <span class="string">&quot;JavaScript&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// A string is converted to upper case with toUpperCase()</span></span><br><span class="line"><span class="comment">// now resultStr is ABCDEFG</span></span><br><span class="line">orignalStr = <span class="string">&quot;abcdefg&quot;</span>;</span><br><span class="line">resultStr = orignalStr.toUpperCase();</span><br><span class="line"><span class="comment">// A string is converted to lower case with toLowerCase()</span></span><br><span class="line">resultStr = resultStr.toLowerCase();</span><br><span class="line"></span><br><span class="line"><span class="comment">// contact() joins two or more strings</span></span><br><span class="line"><span class="keyword">var</span> contactStr = <span class="string">&quot;A&quot;</span>.contact(<span class="string">&quot;B&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;D&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// trim() method remove whitespace from both sides of a string</span></span><br><span class="line"><span class="comment">// now resultStr is ABC</span></span><br><span class="line">orignalStr = <span class="string">&quot;A B C&quot;</span>;</span><br><span class="line">resultStr = orignalStr.trim();</span><br><span class="line"></span><br><span class="line"><span class="comment">// the charAt() method returns the character at a specified index in a string</span></span><br><span class="line"><span class="comment">// now resultStr is A </span></span><br><span class="line">resultStr = orignalStr.charAt(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Accessing a string as an array is unsafe</span></span><br><span class="line"><span class="comment">// You can accessing a string as an array but it is upsafe and unpredictable</span></span><br><span class="line"><span class="comment">// If you want read a string as an array, convert it to an array first</span></span><br><span class="line"><span class="comment">// split() method can convert a string to an array</span></span><br><span class="line"><span class="comment">// now charArr is [a, b, c, d, e, f, g]</span></span><br><span class="line">orignalStr = <span class="string">&quot;a,b,c,d,e,f,g&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> charArr = orignalStr.split(<span class="string">&quot;,&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>All string methods return a new string. They don’t modify the orignal string.</p>
<p>Formally said: Strings are immutable: Strings cannot be changed, only replaced.</p>
<h2 id="JavaScript-Numbers"><a href="#JavaScript-Numbers" class="headerlink" title="JavaScript Numbers"></a>JavaScript Numbers</h2><p>JavaScript has only one type of number. Numbers can be writtenn with or without decimals.</p>
<p>Extra large or extra small numbers can be written with scientific notation.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">123e5</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="number">123e-5</span>;</span><br></pre></td></tr></table></figure>

<p><strong>JavaScript Numbers are always 64-bit Floating Point</strong></p>
<p>JavaScript numbers are always stored as double precision floating point numbers, following the international IEEE 754 standard.</p>
<p>This format stores numbers in 64 bits, where the number is stored in bits 0 to 51, the exponent in bits 52 to 62, and the sign in bit 63.</p>
<p><strong>Precision</strong></p>
<p>Integers are accurate up to 15 digits.</p>
<p>The maximum number of decimals is 17, but floating point arithmetic is not always 100% accurate.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// x will be 0.3000000000000004</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">0.2</span> + <span class="number">0.1</span>;</span><br></pre></td></tr></table></figure>

<p>To solve the problem above, it helps to multiply and divide</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = (<span class="number">0.2</span>*<span class="number">10</span> + <span class="number">0.1</span>*<span class="number">10</span>) / <span class="number">10</span>;</span><br></pre></td></tr></table></figure>

<p><strong>Adding Numbers and Strings</strong></p>
<p>JavaScript uses the + operator for both addition and concatenation. Numbers are added. Strings are concatenated.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// strResult will be 12</span></span><br><span class="line"><span class="keyword">let</span> strX = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> strY = <span class="string">&quot;2&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> strResult = strX + strY;</span><br><span class="line"></span><br><span class="line"><span class="comment">// numberResult will be 3</span></span><br><span class="line"><span class="keyword">let</span> numberX = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">let</span> numberY = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">let</span> numberResult = numberX + numberY;</span><br></pre></td></tr></table></figure>

<p>The JavaScript compiler works from left to right.</p>
<p><strong>Numeric Strings</strong></p>
<p>JavaScript strings can have numeric content and JavaScript will try to convert strings to numbers in all numeric operations.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// result will be 0.5</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="string">&quot;1&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> y = <span class="string">&quot;2&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> result = x / y;</span><br></pre></td></tr></table></figure>

<p><strong>NaN - Not a Number</strong></p>
<p>NaN is a JavaScript reserved word indicating that a number is not a legal number.</p>
<p>Try to do arithmetic with a non-numberic string will result in NaN.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// x will be NaN</span></span><br><span class="line"><span class="keyword">let</span> x = <span class="number">100</span> / <span class="string">&quot;a&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>You can use the global JavaScript function isNaN() to find out if a value is a number.</p>
<p>NaN is a number : typeof NaN returns number:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// returns &quot;number&quot;</span></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">NaN</span>; </span><br></pre></td></tr></table></figure>

<p><strong>Infinity</strong></p>
<p>Infinity is the value JavaScript will return if you calculate a number outside the largest possible number.</p>
<p>Division by 0 also generates Infinity. Infinity is a number: typeof Infinity returns number.</p>
<p><strong>Hexadecimal</strong></p>
<p>JavaScript interprets numeric constants as hexadecimal if they are preceded by 0x.</p>
<p>Never write a number with a leading zero. Some JavaScript versions interpret numbers as octal if they are written with a leading zero.</p>
<p>By default, JavaScript displays numbers as base 10 decimals. But you can use the toString() method to output numbers from base 2 to base 36.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number = <span class="number">32</span>;</span><br><span class="line">number.toString(<span class="number">10</span>); <span class="comment">// 32</span></span><br><span class="line">number.toString(<span class="number">32</span>); <span class="comment">// 10</span></span><br><span class="line">number.toString(<span class="number">16</span>); <span class="comment">// 20</span></span><br><span class="line">number.toString(<span class="number">8</span>);  <span class="comment">// 40</span></span><br><span class="line">number.toString(<span class="number">2</span>); <span class="comment">// 100000</span></span><br></pre></td></tr></table></figure>

<p><strong>Numbers Can be Objects</strong></p>
<p>Normally JavaScript numbers are primitive values created from literals, but numbers can also be defined as objects with the keyword new.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">123</span>;				<span class="comment">// typeof x return number</span></span><br><span class="line"><span class="keyword">let</span> y = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">123</span>);	<span class="comment">// typeof y return object</span></span><br></pre></td></tr></table></figure>

<p>Do not create Number objects. It slows down execution speed.</p>
<p>Or even worse, Objects cannot be compared.</p>
<p><strong>JavaScipt Number Methods</strong></p>
<p>Number methods help you work with numbers.</p>
<p>All number methods can be used on any type of numbers.</p>
<ul>
<li><p><code>toString()</code></p>
<p><code>toString()</code> returns a number as a string</p>
</li>
<li><p><code>toExponential()</code></p>
<p><code>toExponential()</code> returns a string, with a number rounded and written using exponential notation.</p>
<p>A parameter defines the number of characters behind the decimal point. The parameter is optional, if you don’t specify it, JavaScript will not round the number.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1.23456</span>;</span><br><span class="line">x.toExponential(<span class="number">2</span>);	<span class="comment">// 1.23e+0</span></span><br><span class="line">x.toExponentail(<span class="number">4</span>);	<span class="comment">// 1.2345e+0;</span></span><br><span class="line">x.toExponentail(<span class="number">6</span>);	<span class="comment">// 1.234560e+0</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>toFixed()</code></p>
<p><code>toFixed()</code> returns a string, with the number written with a specified number of decimals.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1.2345</span>;</span><br><span class="line">x.toFixed(<span class="number">0</span>);	<span class="comment">// 1</span></span><br><span class="line">x.toFixed(<span class="number">2</span>);	<span class="comment">// 1.23</span></span><br><span class="line">x.toFixed(<span class="number">4</span>);	<span class="comment">// 1.2345</span></span><br><span class="line">x.toFixed(<span class="number">6</span>);	<span class="comment">// 1.234500</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>toPrecision()</code></p>
<p><code>toPrecision()</code> returns a string, with a number written with a specified length</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">1.2345</span>;</span><br><span class="line">x.toPrecision();	<span class="comment">// 1.2345</span></span><br><span class="line">x.toPrecision(<span class="number">2</span>);	<span class="comment">// 1.2</span></span><br><span class="line">x.toPrecision(<span class="number">4</span>);	<span class="comment">// 1.235</span></span><br><span class="line">x.toPrecision(<span class="number">6</span>);	<span class="comment">// 1.234500</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>valueOf()</code></p>
<p><code>valueOf()</code> returns a number as a numer. This method is used internally in JavaScript to convert Number objects to primitive values.</p>
<p>All JavaScript data types have a <code>valueOf()</code> and a <code>toString()</code> method.</p>
</li>
</ul>
<p><strong>Converting Variables to Numbers</strong></p>
<p>There are 3 JavaScript methods that can be used to convert variables to numbers : <code>Number()</code> , <code>parseInt()</code> , <code>parseFloat()</code> . These methods are not number methods, but global JavaScript methods.</p>
<p>JavaScript global methods can be used on all JavaScript data types.</p>
<ul>
<li><p><code>Number()</code></p>
<p>This method returns a number, converted from its argument.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="literal">true</span>);	<span class="comment">// 1</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="literal">false</span>);	<span class="comment">// 0</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">&quot;10&quot;</span>);	<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">&quot; 10&quot;</span>);	<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">&quot;10 20&quot;</span>);	<span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">Number</span>(<span class="string">&quot;John&quot;</span>);	<span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

<p>If the number cannot be converted, NaN is  returned.</p>
<p><code>Number()</code> can also convert a date to a number</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Number</span>(<span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">&quot;2016-06-10&quot;</span>);	<span class="comment">// returns the number of milliseconds since 1.1.1970</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>parseFloat()</code></p>
<p>This  method parses its argument and returns a floating point number. Space are allowed.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;10&quot;</span>);			<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;10.33&quot;</span>);		<span class="comment">// 10.33</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;10 20&quot;</span>);		<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;10 years&quot;</span>);		<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseFloat</span>(<span class="string">&quot;years 10&quot;</span>);		<span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>parseInt()</code></p>
<p>This method parsed its argument and returns an integer. Space are allowed.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10&quot;</span>);			<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10.33&quot;</span>);		<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10 20 30&quot;</span>);	<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;10 years&quot;</span>);	<span class="comment">// 10</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="string">&quot;years 10&quot;</span>);	<span class="comment">// NaN</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>Number Properties</strong></p>
<p>Number properties belongs to the JavaScript’s number object wrapper called Number. These properties can only be accessed as <code>Number.propertyName</code> . And these properties cannot be used on variables.</p>
<ul>
<li><p><code>MAX_VALUE</code></p>
<p>Returns the largest number possible in JavaScript</p>
</li>
<li><p><code>MIN_VALUE</code></p>
<p>Returns the smallest number possible in JavaScript</p>
</li>
<li><p><code>NEGATIVE_INFINITY</code></p>
<p>Represents negative infinity (returned on overflow)</p>
</li>
<li><p><code>NaN</code></p>
<p>Represents a “Not-a-Number” value</p>
</li>
<li><p><code>POSITIVE_INFINITY</code></p>
<p>Return infinity (return on overflow)</p>
</li>
</ul>
<h2 id="JavaScript-Arrays"><a href="#JavaScript-Arrays" class="headerlink" title="JavaScript Arrays"></a>JavaScript Arrays</h2><p>JavaScript arrays are used to store multiple values in a single variable. An array can hold many values under a single name, and you can access the values by referring to an index number.</p>
<p><strong>Creating an Array</strong></p>
<p>Using an array litral is the easiest way to create a JavaScript Array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array_name = [item, item, item, ...];</span><br></pre></td></tr></table></figure>

<p>Using the keyword new create an array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array_name = <span class="keyword">new</span> <span class="built_in">Array</span>(item, item, ...);</span><br></pre></td></tr></table></figure>

<p><strong>Accessing the Elements of an Array</strong></p>
<p>You refer to an array element by referring to the index number.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> element = arrayNum[<span class="number">0</span>];		<span class="comment">// element is 1</span></span><br><span class="line">arrayNum[<span class="number">1</span>]	= <span class="number">0</span>;</span><br><span class="line">element = arrayNum[<span class="number">1</span>];			<span class="comment">// element is 0</span></span><br></pre></td></tr></table></figure>

<p><strong>Accessing the Full Array</strong></p>
<p>With JavaScript, the full array can be accessed by referring to the array name.</p>
<p>Arrays are a special type of objects, with numberd indexes. The typeof operator in JavaScript returns “object” for arrays.</p>
<p><strong>How to Recognize an Array?</strong></p>
<ul>
<li><p><code>Array.isArray()</code></p>
</li>
<li><p>Create your own isArray() function</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> arr.constructor.toString().indexOf(<span class="string">&quot;Array&quot;</span>) &gt; -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>instanceof</code> operator</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arrayNum <span class="keyword">instanceof</span> <span class="built_in">Array</span>	<span class="comment">// true</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>JavaScript Array Methods</strong></p>
<ul>
<li><p><code>toString()</code></p>
<p>The  method <code>toString()</code> converts an array to a string of array values.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayStr = [<span class="string">&quot;Hello &quot;</span>, <span class="string">&quot; World&quot;</span>, <span class="string">&quot; !&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> resultStr = arrayStr.toString();	<span class="comment">// result is Hello World !</span></span><br></pre></td></tr></table></figure>

<p>JavaScript automatically converts an array to a comma separated string when a primitive value is expected. This is always the case when you try to output an array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> strArr = [<span class="string">&quot;Apple&quot;</span>, <span class="string">&quot;Google&quot;</span>, <span class="string">&quot;Facebook&quot;</span>, <span class="string">&quot;Twitter&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> result = strArr.toString();	<span class="comment">// result is &quot;Apple&quot;,&quot;Google&quot;,&quot;Facebook&quot;,&quot;Twitter&quot;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>join()</code></p>
<p>The method <code>join()</code> alos joins all array elements into a string. It behaves just like <code>toString()</code>, but in addition you can specify the separator.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> rusultStr = arrayNum.join(<span class="string">&quot;*&quot;</span>); <span class="comment">// resultStr is 1*2*3*4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>pop()</code></p>
<p>The  method <code>pop()</code> removes the last element from an array</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> result = arrayNum.pop();	<span class="comment">//	arrayNum now is [1, 2, 3] and result is 4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>push()</code></p>
<p>The method <code>push()</code> adds a  new element to an array at the end and return the new array length.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> result = arrayNum.push(<span class="number">4</span>);				<span class="comment">// now arrayNum is [1, 2, 3, 4] and result is t</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>shift()</code></p>
<p>The  method <code>shift()</code> removes the first array element and shifts all other elements to a lower index.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> result = arrayNum.shift();	<span class="comment">// arrayNum is [2, 3, 4] and result is 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>unshift()</code></p>
<p>The method <code>unshift()</code> method adds a new element to an array at the beginning and return the new array length</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> result = arrayNum.unshift(<span class="number">0</span>);	<span class="comment">// now arrayNum is [0, 1, 2, 3, 4] and result is 5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>splice()</code></p>
<p>The method <code>splice()</code> method can be used  to add new items to an array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arrayNum.splice(<span class="number">2</span>, <span class="number">0</span>, <span class="number">0.1</span>, <span class="number">0.2</span>);	<span class="comment">// now arrayNum is [1, 2, 0.1, 0.2, 3]</span></span><br></pre></td></tr></table></figure>

<p>Also can be used to remove elements</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayNum = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line">arrayNum.splice(<span class="number">0</span>, <span class="number">1</span>);	<span class="comment">// now arrayNum is [2, 3]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>concat()</code></p>
<p>The  method <code>concat()</code> creates a new arry by merging existing arrays and it can take any number fo array arguments.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arrX = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">let</span> arrY = [<span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="keyword">let</span> result = arrX.concat(arrY);	<span class="comment">// result is [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<p>The <code>concat()</code> method can also take values as arguments.</p>
</li>
<li><p><code>slice()</code></p>
<p>The <code>slice()</code> method slices out a piece of an array into a new array and creates a new array. It does not remove any elements from the source array.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> strArr = [<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> result = strArr.slice(<span class="number">1</span>);	<span class="comment">// result is [&quot;B&quot;, &quot;C&quot;, &quot;D&quot;]</span></span><br><span class="line">result = strArr.slice(<span class="number">1</span>, <span class="number">3</span>);	<span class="comment">// now result is [&quot;B&quot;, &quot;C&quot;]</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>Sorting an Array</strong></p>
<ul>
<li><p><code>sort()</code></p>
<p>The <code>sort()</code> method sorts an array alphabetically</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> strArr = [<span class="string">&quot;b&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line">strArr.sort();	<span class="comment">// now strArr is [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></span><br></pre></td></tr></table></figure>

<p>By default, the <code>sort()</code> function sorts values as strings. Because of this, the <code>sort()</code> method will produce incorrect result when sorting numbers. You can fix this by providing a compare function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">100</span>, <span class="number">20</span>, <span class="number">50</span> <span class="number">10</span>, <span class="number">40</span>];</span><br><span class="line">numArr.sort( <span class="function"><span class="keyword">function</span> (<span class="params">numX, numY</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numX - numY;</span><br><span class="line">&#125;);	<span class="comment">// now numArr is [10, 20, 40, 50, 100]</span></span><br><span class="line">numArr.sort( <span class="function"><span class="keyword">function</span> (<span class="params">numX, numY</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numY - numX;</span><br><span class="line">&#125;);	<span class="comment">// now numArr is [100, 50, 40, 20, 10]</span></span><br></pre></td></tr></table></figure>

<p>The purpose of the compare function is to define an alternative sort order. The compare function should return a negative, zero, or positive value, depending on the arguments.</p>
<p>You can even sorting an array in random order.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">3</span>, -<span class="number">1</span>];</span><br><span class="line">numArr.sort( <span class="function"><span class="keyword">function</span> (<span class="params">numX, numY</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0.5</span> - <span class="built_in">Math</span>.random();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>reverse()</code></p>
<p>The <code>reverse()</code> method reverses the elements in an array. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> strArr = [<span class="string">&quot;b&quot;</span>, <span class="string">&quot;d&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;c&quot;</span>];</span><br><span class="line">strArr.sort();	<span class="comment">// now strArr is [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;]</span></span><br><span class="line">strArr.reverse(); <span class="comment">// now strArr is [&quot;d&quot;, &quot;c&quot;, &quot;b&quot;, &quot;a&quot;]</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>Find the highest (or lowest) array value</p>
<p>There are no built-in functions for finding the max or min value in an array.</p>
<p>However, after you have sorted an array, you can use the index to obtain the highest and lowest values</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">100</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">10</span>, <span class="number">40</span>];</span><br><span class="line">numArr.sort( <span class="function"><span class="keyword">function</span> (<span class="params">numX, numY</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numX - numY;</span><br><span class="line">&#125;);	<span class="comment">// now numArr is [10, 20, 40, 50, 100]</span></span><br><span class="line"><span class="keyword">const</span> minValue = number[<span class="number">0</span>]</span><br><span class="line">numArr.sort( <span class="function"><span class="keyword">function</span> (<span class="params">numX, numY</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numY - numX;</span><br><span class="line">&#125;);	<span class="comment">// now numArr is [100, 50, 40, 20, 10]</span></span><br><span class="line"><span class="keyword">const</span> maxValue = numArr[<span class="number">0</span>];</span><br></pre></td></tr></table></figure>

<p>You can also use <code>Math.max.apply</code> to find the highest number in an array</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">100</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">10</span>, <span class="number">40</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxValueInArr</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max.apply(<span class="literal">null</span>, arr);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> maxValue = maxValueInArr(numArr); <span class="comment">// maxValue is 100</span></span><br></pre></td></tr></table></figure>

<p>Or ues <code>Math.min.apply()</code> to find th lowest number in an array</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">100</span>, <span class="number">20</span>, <span class="number">50</span>, <span class="number">10</span>, <span class="number">40</span>];</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minValueInArr</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.min.apply(<span class="literal">null</span>, arr);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> minValue = minValueInArr(numArr); <span class="comment">// minValue is 100</span></span><br></pre></td></tr></table></figure>

<p>The fastest solution is to use a “home made” method.</p>
<p>The function loops through an array comparing each value with the highest value found.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxValueInArr</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arrLen = arr.length;</span><br><span class="line">    <span class="keyword">let</span> maxValue = - <span class="literal">Infinity</span>;</span><br><span class="line">    <span class="keyword">while</span> (arrLen --) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[arrLen] &gt; max) &#123;</span><br><span class="line">            maxValue = arr[arrLen];</span><br><span class="line">        &#125;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="keyword">return</span> maxValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The function loops through an array comparing each value with lowest value found.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">minValueInArr</span> (<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> arrLen = arr.length;</span><br><span class="line">    <span class="keyword">let</span> minValue = <span class="literal">Infinity</span>;</span><br><span class="line">    <span class="keyword">while</span> (arrLen--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (arr[arrLen] &lt; minValue) &#123;</span><br><span class="line">            minValue = arr[arrLen];</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">    retrun minValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>JavaScript arrays often contain objects. Even if objects have properties of different data types, ther short() method can be used to sort the array. The solution is to write a compare function to compare the property values.</p>
  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> objArr = [&#123;<span class="attr">name</span>:<span class="string">&quot;a&quot;</span>, <span class="attr">age</span>: <span class="number">19</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">&quot;b&quot;</span>, <span class="attr">age</span>: <span class="number">9</span>&#125;, &#123;<span class="attr">name</span>:<span class="string">&quot;ac&quot;</span>, <span class="attr">age</span>: <span class="number">80</span>&#125;];</span><br><span class="line">objArr.sort(<span class="function"><span class="keyword">function</span> <span class="title">sortObjByAge</span> (<span class="params">objX, objY</span>) </span>&#123;</span><br><span class="line"><span class="keyword">let</span> ageX = objX.age;</span><br><span class="line">   <span class="keyword">let</span> ageY = objY.age;</span><br><span class="line">   <span class="keyword">if</span> (ageX &lt; ageY) &#123; <span class="keyword">return</span> -<span class="number">1</span>;&#125;</span><br><span class="line">   <span class="keyword">if</span> (ageX &gt; ageY) &#123;<span class="keyword">return</span> <span class="number">1</span>;&#125;</span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><strong>JavaScript Array Iteration</strong></p>
<p>Array iteration methods operate on every array item.</p>
<ul>
<li><p><code>Array.forEach()</code></p>
<p>The <code>forEach()</code> method calls a function once fro each array element.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> strArr = [<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>];</span><br><span class="line"><span class="keyword">let</span> result = <span class="string">&quot;&quot;</span>;</span><br><span class="line">strArr.forEach( <span class="function"><span class="keyword">function</span> (<span class="params">value, index, arr</span>) </span>&#123;</span><br><span class="line">    result = result + value + <span class="string">&quot;\n&quot;</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.map()</code></p>
<p>The <code>map()</code> method creates a new array by performing a function on each arry element.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">12</span>, <span class="number">2</span>, <span class="number">33</span>, <span class="number">21</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">let</span> newNumArr = numArr.map( <span class="function"><span class="keyword">function</span> (<span class="params">value, index, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> value*<span class="number">2</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.filter()</code></p>
<p>The <code>filter()</code> method creates a new array with array elements that passes a test. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> evenNumArr = numArr.filter( <span class="function"><span class="keyword">function</span> (<span class="params">value, index, arr</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (value % <span class="number">2</span> == <span class="number">0</span>) &#123; <span class="keyword">return</span> value;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.reduce()</code></p>
<p>The <code>reduce()</code> method reduces an array to single variable.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">let</span> result = numArr.reduce( <span class="function">(<span class="params">sum, value</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> sum + value;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.every()</code></p>
<p>The <code>every()</code> method check if all array values pass a test.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">0</span>];</span><br><span class="line"><span class="keyword">let</span> evenNumArr = numArr.every( <span class="function"><span class="keyword">function</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (value % <span class="number">2</span> == <span class="number">0</span>) &#123; <span class="keyword">return</span> value;&#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.indexOf()</code></p>
<p>Search an array for an element value and returns its position.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numArr = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">9</span>];</span><br><span class="line"><span class="keyword">let</span> result = numArr.idnexOf(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Array.lastIndexOf()</code></p>
<p><code>Array.lastIndexOf()</code> is the same as <code>Array.indexOf()</code> , but searches from the end of the array.</p>
</li>
</ul>
<h2 id="JavaScript-Date-Objects"><a href="#JavaScript-Date-Objects" class="headerlink" title="JavaScript Date Objects"></a>JavaScript Date Objects</h2><p>By default, JavaScript will use the browser’s time zone and display a date as a full text string ：</p>
<p><code>Fri Jun 13 2016 14:24:54 GMT+0800 (China Standard Time)</code></p>
<p><strong>Creating Date Objects</strong></p>
<p>Date objects are created with the <code>new Date()</code> constructor.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new Date() create a new date object with current date and time</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"><span class="comment">// new Date(year, month, ...) create a new date object with a specified date and time</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(year, month, day, hours, minutes, seconds, milliseconds);</span><br><span class="line"><span class="comment">// JavaScript store dates as number of milliseconds since January 01, 1970, 00:00:00 UTC</span></span><br><span class="line"><span class="comment">// new Date(milliseconds) creates a new date object as zero time plus milliseconds</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(milliseconds);</span><br><span class="line"><span class="comment">// new Date(date string) creates a new date object from a date string</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>(date string);</span><br></pre></td></tr></table></figure>

<p><strong>Date Methods</strong></p>
<p>When a Date object is created, a number of methods allow you to operate on it.</p>
<ul>
<li><p><code>toString()</code></p>
<p>JavaScript will output dates in full text string format in HTML with the <code>toString()</code> method.</p>
</li>
<li><p><code>toUTCString()</code></p>
<p>The <code>toUTCString()</code> method convert a date to a UTC string</p>
</li>
<li><p><code>toDateString()</code></p>
<p>The <code>toDateString()</code> method converts a date to a ore readable format.</p>
</li>
</ul>
<p><strong>Date Formats</strong></p>
<p>There are generally 3 types of JavaScript date input formats </p>
<ul>
<li><p>ISO Date - “2016-06-10”</p>
<p>The ISO format follows a strict standard in JavaScript. ISO 8601 is the international standard for the representation of date and times. The ISO 8601 syntax (YYYY-MM-DD) is also the preferred JavaScript date format.</p>
<p>The computed date will be relative to your time zone.</p>
</li>
<li><p>Short Date - “06/10/2016”</p>
<p>In some browsers, months or days with no leading zeroes may produce an error.</p>
</li>
<li><p>Long Date - “Jun 10 2016”</p>
<p>Long dates are most often written with a “MMM DD YYYY” syntax like this.</p>
</li>
</ul>
<p><strong>Time Zone</strong></p>
<p>When setting a date, without specifying the time zone, JavaScript will use the browser’s time zone.</p>
<p><strong>Date Input - Parsing Dates</strong></p>
<p>If you have a valid date string, you can use the <code>Date.parse()</code> method to convert it to milliseconds. <code>Date.parse()</code> returns the number of milliseconds between the date and January 1, 1970.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> milliSeconds = <span class="built_in">Date</span>.parse(<span class="string">&quot;Jun 10, 2016&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>You can the use the number of milliseconds to convert it to a date object.</p>
<p><strong>Get Date Methods</strong></p>
<p>These methods can be used for getting information from a date object</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>getFullYear()</code></td>
<td>Get the year as a four digit number (yyyy)</td>
</tr>
<tr>
<td><code>getMonth()</code></td>
<td>Get the month as a number (0-11)</td>
</tr>
<tr>
<td><code>getDate()</code></td>
<td>Get the day as a number(1-31)</td>
</tr>
<tr>
<td><code>getHours()</code></td>
<td>Get the hour(0-23)</td>
</tr>
<tr>
<td><code>getMinutes()</code></td>
<td>Get the minute(0-59)</td>
</tr>
<tr>
<td><code>getSeconds()</code></td>
<td>Get the second(0-59)</td>
</tr>
<tr>
<td><code>getMilliseconds()</code></td>
<td>Get the millisecond(0-999)</td>
</tr>
<tr>
<td><code>getTime()</code></td>
<td>Get the time(milliseconds since January 1, 1970)</td>
</tr>
<tr>
<td><code>getDay()</code></td>
<td>Get the weekday as a number(0-6)</td>
</tr>
</tbody></table>
<p><strong>Set Date Methods</strong></p>
<p>Set date methods let you set date values for a date object</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>setDate()</code></td>
<td>Set the day as a number (1-31)</td>
</tr>
<tr>
<td><code>setFullYear()</code></td>
<td>Set the year</td>
</tr>
<tr>
<td><code>setHours()</code></td>
<td>Set the hour (0-23)</td>
</tr>
<tr>
<td><code>setMilliseconds()</code></td>
<td>Set the milliseconds (0-999)</td>
</tr>
<tr>
<td><code>setMinutes()</code></td>
<td>Set the minutes (0-59)</td>
</tr>
<tr>
<td><code>setMonth()</code></td>
<td>Set the month (0-11)</td>
</tr>
<tr>
<td><code>setSeconds()</code></td>
<td>Set the seconds (0-59)</td>
</tr>
<tr>
<td><code>setTime()</code></td>
<td>Set the time (milliseconds since January 1, 1970)</td>
</tr>
</tbody></table>
<p><strong>Compare Dates</strong></p>
<p>Dates can easily be compared. JavaScript counts months from 0 to 11. January is 0. December is 11.</p>
<h2 id="JavaScript-Math-Object"><a href="#JavaScript-Math-Object" class="headerlink" title="JavaScript Math Object"></a>JavaScript Math Object</h2><p>The JavaScript Math object allows you to perform mathematical tasks on numbers.</p>
<ul>
<li><p><code>Math.round()</code></p>
<p><code>Math.round(x)</code> returns the value of x rounded to its nearest integer</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="built_in">Math</span>.round(<span class="number">4.1</span>); <span class="comment">// result is 4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.pow()</code></p>
<p><code>Math.pow(x, y)</code> returns the value of x to the power of y.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="built_in">Math</span>.pow(<span class="number">2</span>, <span class="number">10</span>);	<span class="comment">// result is 1024</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.sqrt()</code></p>
<p><code>Math.sqrt(x)</code> returns the square root of x</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="built_in">Math</span>.sqrt(<span class="number">64</span>); <span class="comment">// result is 8</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.abs()</code></p>
<p><code>Math.abs(x)</code> returns the absolute values of x</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="built_in">Math</span>.abs(-<span class="number">1</span>); <span class="comment">// result is 1</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.ceil()</code></p>
<p><code>Math.ceil(x)</code> returns the value of x rounded up to its nearest integer</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="built_in">Math</span>.ceil(<span class="number">4.4</span>); <span class="comment">// result is 5</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.floor()</code></p>
<p><code>Math.floor(x)</code>  returns the value of x rounded down to its nearest integer.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="built_in">Math</span>.floor(<span class="number">4.7</span>); <span class="comment">// result is 4</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>Math.sin()</code></p>
</li>
<li><p><code>Math.cos()</code></p>
</li>
<li><p><code>Math.min()</code> and <code>Math.max()</code></p>
<p><code>Math.min()</code> and <code>Math.max()</code> can be used to find lowest or highest value in a list of arguments</p>
</li>
<li><p><code>Math.random()</code></p>
<p><code>Math.random()</code> returns a random number between 0 and 1</p>
</li>
</ul>
<p><strong>Math Properties</strong></p>
<p>JavaScript provides 8 mathematical constants that can be accessed with the Math object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.E 			<span class="comment">// returns Euler&#x27;s number</span></span><br><span class="line"><span class="built_in">Math</span>.PI			<span class="comment">// returns PI</span></span><br><span class="line"><span class="built_in">Math</span>.SQRT2		<span class="comment">// returns the square root of 2</span></span><br><span class="line"><span class="built_in">Math</span>.SQET1_2	<span class="comment">// returns the square root of 1/2</span></span><br><span class="line"><span class="built_in">Math</span>.LN2		<span class="comment">// returns the natural logarithm of 2</span></span><br><span class="line"><span class="built_in">Math</span>.LN10		<span class="comment">// returns the natural logarithm of 10</span></span><br><span class="line"><span class="built_in">Math</span>.LOG2E		<span class="comment">// returns the base 2 logarithm of E</span></span><br><span class="line"><span class="built_in">Math</span>.LOG10E		<span class="comment">// returns the base 10 logarithm of E</span></span><br></pre></td></tr></table></figure>

<p>All methods and properties can be used without creating a Math object first.</p>
<p><strong>Random</strong></p>
<p><code>Math.random()</code> returns a random number between 0(inclusive), and 1(exclusive)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * <span class="number">10</span>);	<span class="comment">// returns a random integer from 0 to 9</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getRandomInteger</span> (<span class="params">min, max</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min)) + min;</span><br><span class="line">&#125;;	<span class="comment">// This function returns a random number min(include) to max(excluded)</span></span><br></pre></td></tr></table></figure>



<h2 id="Booleans"><a href="#Booleans" class="headerlink" title="Booleans"></a>Booleans</h2><p>JavaScript has a Boolean data types. It can only take the values true or false.</p>
<p><strong>The <code>Boolean()</code> Function</strong></p>
<p>You ca use the <code>Boolean()</code> function to find out if an expression is true</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = <span class="built_in">Boolean</span>(-<span class="number">1</span> &gt; <span class="number">0</span>);	<span class="comment">// result is false</span></span><br></pre></td></tr></table></figure>

<p>Everything with a “Value” is true. Everything without a “Value” is false.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// result is true</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">100</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(-<span class="number">100</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">&quot;100&quot;</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">&quot;false&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// result is false</span></span><br><span class="line"><span class="built_in">Boolean</span>(<span class="number">0</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(-<span class="number">0</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">null</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">Boolean</span>(<span class="literal">NaN</span>);</span><br></pre></td></tr></table></figure>

<p>Object can’t be compared.</p>
<h2 id="JavaScript-Comparison-and-Logical-Operators"><a href="#JavaScript-Comparison-and-Logical-Operators" class="headerlink" title="JavaScript Comparison and Logical Operators"></a>JavaScript Comparison and Logical Operators</h2><p>Comparison and Logical operators are used to test for true or false. Comparison operators are used in logical statements to determine equality or difference between variables or values.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>==</code></td>
<td>Equal to</td>
</tr>
<tr>
<td><code>===</code></td>
<td>Equal value and equal type</td>
</tr>
<tr>
<td><code>!=</code></td>
<td>Not equal</td>
</tr>
<tr>
<td><code>!==</code></td>
<td>Not equal value or not equal type</td>
</tr>
<tr>
<td><code>&gt;</code></td>
<td>Greater than</td>
</tr>
<tr>
<td><code>&lt;</code></td>
<td>Less than</td>
</tr>
<tr>
<td><code>&gt;=</code></td>
<td>Greater than or equal to</td>
</tr>
<tr>
<td><code>&lt;=</code></td>
<td>Less than or equal to</td>
</tr>
</tbody></table>
<p>Logical operators are used to determine the logic between variables or values.</p>
<table>
<thead>
<tr>
<th>Operator</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>&amp;&amp;</code></td>
<td>and</td>
</tr>
<tr>
<td>`</td>
<td></td>
</tr>
<tr>
<td><code>!</code></td>
<td>not</td>
</tr>
</tbody></table>
<p>JavaScript also contains a conditionnal operator that assigns a value to a variable based on some condition.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variableName = (condition) ? valueX:valueY;</span><br></pre></td></tr></table></figure>

<p>Comparing data of different types may give unexpected results. To secure a proper result, variables should be converted to the proper type before comparison.</p>
<h2 id="JavaScript-Bitwise-Operators"><a href="#JavaScript-Bitwise-Operators" class="headerlink" title="JavaScript Bitwise Operators"></a>JavaScript Bitwise Operators</h2><table>
<thead>
<tr>
<th>Operator</th>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>&amp;</code></td>
<td>AND</td>
<td>Sets each bit to 1 if both bits are 1</td>
</tr>
<tr>
<td>`</td>
<td>`</td>
<td>OR</td>
</tr>
<tr>
<td><code>^</code></td>
<td>XOR</td>
<td>Sets each bit to 1 only one of two bits is 1</td>
</tr>
<tr>
<td><code>~</code></td>
<td>NOT</td>
<td>Inverts all the bits</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>Zero fill left shift</td>
<td>Shifts left by pushing zeros in from the right and let the leftmost bits fall of</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>Signed right shift</td>
<td>Shifts right by pushing copies of the leftmost bit in from the left, and let the rightmost bits fall off</td>
</tr>
<tr>
<td><code>&gt;&gt;&gt;</code></td>
<td>Zero fill right shift</td>
<td>Shifts right by pushing zeros in from the left, and let the rightmost bits fall off</td>
</tr>
</tbody></table>
<p>JavaScript stores numbers as 64 bits floating point numbers, but all bitwise operations are performed on 32 bits binary numbers. Before a bitwise operation is performed, JavaScript converts numbers to 32 bits signed integers. After the bitwise operation is performed, the result is converted back to 64 bits JavaScript numbers.</p>
<h2 id="JavaScript-Regular-Expressions"><a href="#JavaScript-Regular-Expressions" class="headerlink" title="JavaScript Regular Expressions"></a>JavaScript Regular Expressions</h2><p>A regular expression is a sequence of characters that forms a search pattern. The serarch pattern can be used for text search and tet replace operations.</p>
<p>A regular expression ban be a single character, or more complicated pattern. Regular expression can be used to perform all types of text search and text replace operations.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/pattern/modifiers;</span><br></pre></td></tr></table></figure>

<p><strong>Using string methods</strong></p>
<p>In  JavaScript, regular expressions are often used with the two string methods: <code>search()</code> and <code>replace()</code>. The <code>search()</code> method uses an expression to search for match, and returns the position of the match. The <code>replace()</code> method returns a modified string where the pattern is replaced.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> originStr = <span class="string">&quot;Hello JavaScript!&quot;</span>;</span><br><span class="line"><span class="keyword">let</span> searchResult	= originStr.search(<span class="string">&quot;Hello&quot;</span>);	<span class="comment">// reulst is 0</span></span><br><span class="line"><span class="keyword">let</span> replaceResult	=	originStr.replace(<span class="string">&quot;Hi&quot;</span>, <span class="string">&quot;Hello&quot;</span>);	<span class="comment">// result is Hi JavaScript!</span></span><br><span class="line">repalceResult = originStr.replace(<span class="regexp">/hi/i</span>, <span class="string">&quot;Visit&quot;</span>);	<span class="comment">// result is Visit JavaScript!</span></span><br></pre></td></tr></table></figure>

<p><strong>Regular Expression Modifiers</strong></p>
<table>
<thead>
<tr>
<th>Modifier</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>i</code></td>
<td>Perform case-insensitive matching</td>
</tr>
<tr>
<td><code>g</code></td>
<td>Perform a global match (find all matches rather than stopping after the first match)</td>
</tr>
<tr>
<td><code>m</code></td>
<td>Perform multiline matching</td>
</tr>
</tbody></table>
<p><strong>Regular Expression Patterns</strong></p>
<p>Brackets are used to find a range of characters</p>
<table>
<thead>
<tr>
<th>Expression</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>[a-zA-Z]</td>
<td>Find any of the characters between the brackets</td>
</tr>
<tr>
<td>[0-9]</td>
<td>Find any of the digits between the brackets</td>
</tr>
<tr>
<td>[x|y]</td>
<td>Find any of the alternatives separated with `</td>
</tr>
</tbody></table>
<p><strong>Metacharacters are characters with a special meaning</strong> </p>
<table>
<thead>
<tr>
<th>Metacharacter</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>\d</code></td>
<td>Find a digit</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>Find a whitespace character</td>
</tr>
<tr>
<td><code>\b</code></td>
<td>Find a match at the beginning or at the end of a word</td>
</tr>
<tr>
<td><code>\uxxxx</code></td>
<td>Find the Unicode character specified by the hexadecimal number xxxx</td>
</tr>
</tbody></table>
<p><strong>Quantifiers define quantities</strong></p>
<table>
<thead>
<tr>
<th>Quantifier</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>n+</code></td>
<td>Matches any string that contains at least one n</td>
</tr>
<tr>
<td><code>n*</code></td>
<td>Matches any string that contains zero or more occurrences of n</td>
</tr>
<tr>
<td><code>n?</code></td>
<td>Matches any string that contains zeor or one occurrences of n</td>
</tr>
</tbody></table>
<p><strong>Using <code>test()</code></strong></p>
<p>The <code>test()</code> method is a RegExp expression method. It searches a string for a pattern, and returns true or false, depending on the result. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pattern = <span class="regexp">/e/</span>;</span><br><span class="line">pattern.test(<span class="string">&quot;The best things in life are free!&quot;</span>);	<span class="comment">// return true</span></span><br></pre></td></tr></table></figure>

<p><strong>Using <code>exec()</code></strong></p>
<p>The <code>exec()</code> method is a RegExp expression method. It searches a string for a specified pattern, and returns the found text. If no match is found, it returns <code>null</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/e/.exec(<span class="string">&quot;The best things in life are free!&quot;</span>);	<span class="comment">// return e</span></span><br></pre></td></tr></table></figure>



<h2 id="JavaScript-Errors"><a href="#JavaScript-Errors" class="headerlink" title="JavaScript Errors"></a>JavaScript Errors</h2><p>The <code>try</code> statments lets you test a block of code for errors. The <code>catch</code> statments lets you handle the error. The <code>throw</code> statments lets you create custom errors. The <code>finally</code> statment lets you execute code, after <code>try</code> and <code>catch</code>, regardless of the result.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">	<span class="comment">// Block of code to try</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="comment">// Block of code to handle errors</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="string">&#x27;error&#x27;</span>; <span class="comment">// you can throw a exception</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="comment">// Block of code to handle errors</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// Block of code to try</span></span><br><span class="line">&#125; <span class="keyword">catch</span> () &#123;</span><br><span class="line">    <span class="comment">// Block of code to handle errors</span></span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// Block of code to be executed regardless of the try/catch result</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Ther Error Object</strong></p>
<p>JavaScript has built in error object that provides error information when an error occurs. The error object provides two useful properties: name and message.</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>name</code></td>
<td>Sets or returns an error name</td>
</tr>
<tr>
<td><code>message</code></td>
<td>Sets or returns an error message</td>
</tr>
</tbody></table>
<p><strong>Error Name Values</strong></p>
<table>
<thead>
<tr>
<th>Error Name</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>EvalError</td>
<td>An error has occurred in the <code>eval()</code> function.(Newer versions of JavaScript does not throw an <code>EvalError</code>. Use <code>SyntaxError</code> instead.)</td>
</tr>
<tr>
<td>RangeError</td>
<td>A number “out of range” has occurred</td>
</tr>
<tr>
<td>ReferenceError</td>
<td>An illegal reference has occurred</td>
</tr>
<tr>
<td>SyntaxError</td>
<td>A syntax error has occurred</td>
</tr>
<tr>
<td>TypeError</td>
<td>A type error has occurred</td>
</tr>
<tr>
<td>URIError</td>
<td>An error in encodeURI() has occurred</td>
</tr>
</tbody></table>
<h2 id="JavaScript-Debugging"><a href="#JavaScript-Debugging" class="headerlink" title="JavaScript Debugging"></a>JavaScript Debugging</h2><p>Debuggin is not easy. But fortunately, all modern browsers have a built-in JavaScript devugger. Built-in debugger can be turned on and off, forcing errors to be reported to the user.</p>
<p><strong>The <code>console.log()</code> Method</strong></p>
<p>If your browsers supports debugging, you can use <code>console.log()</code> to display JavaScript values in the debugger window.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">	<span class="built_in">console</span>.log(value);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p><strong>Setting Breakpoints</strong></p>
<p>In the debugger window, you can set breakpoints in the JavaScript code. At each breakpoint, JavaScript will stop execution, and let you examine JavaScript values. After examining values, you can resume the execution of code.</p>
<p><strong>The debugger Keyword</strong></p>
<p>The debugger keyword stops the execution of JavaScript, and calls (if available) the debugging function.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">debugger</span>;</span><br><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;ele_id&quot;</span>).innerHTML = x;</span><br></pre></td></tr></table></figure>



<h2 id="JavaScript-Hoisting"><a href="#JavaScript-Hoisting" class="headerlink" title="JavaScript Hoisting"></a>JavaScript Hoisting</h2><p>Hoisting is JavaScript’s default behavior of moving declarations to the top. In JavaScript, a variable can be declared after it has been used. In others words, a variable can be used before it has been declared.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">numberX = <span class="number">5</span>;</span><br><span class="line">numberX += <span class="number">10</span>;</span><br><span class="line"><span class="keyword">let</span> numberX;</span><br></pre></td></tr></table></figure>

<p>To understand this, you have to understand the term ‘hoisting’. Hoisting is JavaScript’s default behavior of moving all declarations to the top of current scope.</p>
<p>Beware, JavaScript only hoists declarations, not initializations.</p>
<p><strong>Declare your variables at the top</strong></p>
<p>Hoisting is an unknown or overlooked behavior of JavaScript. If a developer doesn’t understand hoisting, programs may contain bugs or errors. To avoid bugs, always declare all variables at the beginning of every scope. Since this is how JavaScript interprets the code, it is always a good rule.</p>
<blockquote>
<p>JavaScript in strict mode does not allow variables to be used if they are not decalred.</p>
</blockquote>
<h2 id="JavaScript-Use-Strict"><a href="#JavaScript-Use-Strict" class="headerlink" title="JavaScript Use Strict"></a>JavaScript Use Strict</h2><p><code>use strict</code>; Defines that JavaScript code should be executed in ‘strict mode’.</p>
<p>The <code>use strict</code> directive was new in ECMAScript version 5. It is not a statment, but a literal expression, ignored by eraily version of JavaScript. The purpose of <code>use strict</code> is to indicate that the code should be executed in ‘strict mode’. With strict mode, you can not, for example, use undeclared variables. </p>
<blockquote>
<p>You can use strict mdoe in all your programs. It helps you to write cleaner code, like preventing you from using undeclared variables.</p>
</blockquote>
<p><strong>Declaring Strict Mode</strong></p>
<p>Strict mode is decalred by adding <code>&quot;use strict&quot;;</code> to the beginning of a script or a function.</p>
<p>Declared at beginning of a script, it has global scope.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line"><span class="meta">&quot;use strict&quot;</span>;</span><br><span class="line">	<span class="comment">// your JavaScript code</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<p>Declared inside a function, it has local scope</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">numberX = <span class="number">3.14</span>;	<span class="comment">// this will not cause an error</span></span><br><span class="line">testFunction();</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testFunction</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">    &quot;use strict&quot;</span>;</span><br><span class="line">    numberY = <span class="number">3.14</span>;	<span class="comment">// this will cause an error</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Why Strict Mode</strong></p>
<p>Strict mdoe makes it easier to write “secure” JavaScript. Strict  mode changes previously accepted “bad syntax” into real errors.</p>
<p><strong>Not allowed in strict mode</strong></p>
<ul>
<li>Usging a variable/object, without declaring it, is not allowed.</li>
<li>Deleting a variable/object/function  is not allowed.</li>
<li>Duplicating a parameter name is not allowed.</li>
<li>Octal numberic literals and octal escape characters are not allowed.</li>
<li>Writing to read-only/get-only propery is not allowed.</li>
<li>Deleting an undeletable property is not allowed.</li>
<li>The string “eval”/“arguments” cannot be used as a variable</li>
<li>The with statment is not allowed</li>
<li>For security reasons, <code>eval()</code> is not allowed to create variables in the scope from which it was called</li>
</ul>
<h2 id="The-JavaScript-this-Keyword"><a href="#The-JavaScript-this-Keyword" class="headerlink" title="The JavaScript this Keyword"></a>The JavaScript <code>this</code> Keyword</h2><p>In a function definition, <code>this</code> refers to the “owner” of the function. </p>
<p><strong>Default Binding</strong></p>
<p>When used along, <code>this</code> refers to the Global object. In a browser the global object is [object Window].</p>
<p>But in strict mode, this will be undefined, because strict mode does not allow default binding.</p>
<h2 id="JavaScript-Style-Guide-and-Coding-Conventions"><a href="#JavaScript-Style-Guide-and-Coding-Conventions" class="headerlink" title="JavaScript Style Guide and Coding Conventions"></a>JavaScript Style Guide and Coding Conventions</h2><p>Always use the same coding conventions for all your JavaScript projects.</p>
<p>JavaScript Coding Conventions</p>
<p>Coding conventions are style guidelines for programming. They typically over:</p>
<ul>
<li>Naming and declaration rules for variables and functions.</li>
<li>Rules for the use of white space, indentation, and comments.</li>
<li>Programming practices and principles.</li>
</ul>
<p>Coding conventions secure quality:</p>
<ul>
<li>Improve code readability</li>
<li>Make code maintenance easier</li>
</ul>
<p>Coding conventions can be documented rules for teams to follow, or just be your individual coding practice.</p>
<h2 id="JavaScript-Best-Practices"><a href="#JavaScript-Best-Practices" class="headerlink" title="JavaScript Best Practices"></a>JavaScript Best Practices</h2><p>Avoid global variables, avoid new, avoid ==, avoid eval()</p>
<p><strong>Avoid Global Variables</strong></p>
<p>Minimize the use of global variables. This inclueds all data types, objects, and functions. Global variables and functions can be overwritten by other scripts. Use local variables instead, and learn how to use closures.</p>
<p><strong>Always Declare Local Variables</strong></p>
<p>All variables used in a function should be declared as local variables.</p>
<p>Local variables must be declared with the var/let keyword, otherwise they will become global variables.</p>
<p><strong>Declarations on Top</strong></p>
<p>It is good coding practice to put all declarations at the top of each script or function.</p>
<p>This will:</p>
<ul>
<li>Give cleaner code</li>
<li>Provide a single place to look for local variables.</li>
<li>Make it easier to avoid unwanted global variables</li>
<li>Reduce the possibility of unwanted re-declarations</li>
</ul>
<p><strong>Initialize Variables</strong></p>
<p>It is good coding practice to initialize variables when you declare them.</p>
<p><strong>Never Declare Number, String, or Boolean Objects</strong></p>
<p>Always treat numbers, strings, or boolean as primitive values. Not as objects.</p>
<p>Declare these types as objects, slow down execution speed, and produces nasty side effects.</p>
<p><strong>Beware of Automatic Type Conversions</strong></p>
<p>Beware that numbers can accidentally be converted to string or NaN. JavaScript is loosely typed. A variable can contain different data types, and a variable can change its data type.</p>
<p><strong>Use === Comparison</strong></p>
<p>The <code>==</code> comparison operator always convert before comparison. The <code>===</code> operator forces comparison of values and type.</p>
<p><strong>Use Parameter Defaults</strong></p>
<p>If a function is called with a missing argument, the value of the missing argument is set to undefined.</p>
<p>Undefined values can break your code. It is a good habit to assign default values to arguments.</p>
<p><strong>End Your Switches with Defaults</strong></p>
<p>Always end your switch statments with a default. Even if you think there is no need fot it.</p>
<p><strong>Avoid Using <code>eval()</code></strong></p>
<p>The <code>eval()</code> function is used to run text as code. In almost all cases, it should not be necessary to use it. Because it allows arbitaray code to be run, it also represents a security problem.</p>
<h2 id="JavaScript-JSON"><a href="#JavaScript-JSON" class="headerlink" title="JavaScript JSON"></a>JavaScript JSON</h2><p>JSON is a format for storing and transporting data. JSON is often used when data is sent from a server to a web page.</p>
<ul>
<li>JSON stands for JavaScript Object Notation</li>
<li>JSON is lightweight data interchange format</li>
<li>JSON is language independent *</li>
<li>JSON is “self-describing” and easy to understand</li>
</ul>
<p>The JSON syntax is derived from JavaScript object notation syntax, but JSON format is text only. Code for reading and generating JSON data can be written in any programming language.</p>
<p>The JSON format is syntactically identical to the code for creating JavaScript objects. Because of this similarity, a JavaScript program can easily convert JSON data into native JavaScript objects.</p>
<p>JSON data is written as name/value pairs, just like JavaScript object properties. A name/value pair consists of a field name, followed by a colon, followed by a value.</p>
<blockquote>
<p>JSON names require double quotes, JavaScript names do not.</p>
</blockquote>
<p><strong>Converting a JSON Text to a JavaScript Object</strong></p>
<p>A common use of JSON is to read data from a web server, and display the data in web page.</p>
<p>For simplicity, this can be demonstrated using a string as input.</p>
<h2 id="JavaScript-Objects"><a href="#JavaScript-Objects" class="headerlink" title="JavaScript Objects"></a>JavaScript Objects</h2><p>In JavaScript, alomost “everything” is an Object.</p>
<p><strong>JavaScript Primitives</strong></p>
<p>A primitive value is a value that has no properties or methods. A primitive data type is data that has a primitive value.</p>
<p>JavaScript defines 5 types of primitive data types:</p>
<ul>
<li>string</li>
<li>number</li>
<li>boolean</li>
<li>null</li>
<li>undefined</li>
</ul>
<p>Primitive values are immutable (they are hardcoded and therefore cannot be changed)</p>
<p><strong>Objects are Variables containing Variables</strong></p>
<p>JavaScript variables can contain single values. Objects are variables too. But objects can contain many values. The values are written as name : pairs.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> objectVar = &#123;</span><br><span class="line">	<span class="attr">key</span>: value,</span><br><span class="line">    <span class="attr">key</span>: value,</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>A JavaScript object is a collection of named values.</p>
</blockquote>
<p><strong>Object Properties</strong></p>
<p>The named values, in JavaScript objects, are called properties.</p>
<p>Object properties can be both primitive values, other objects, and functions.</p>
<p><strong>Object Methods</strong></p>
<p>Methods are actions that can be performed on objects.</p>
<p>An Object method is an object property containing a function definition.</p>
<blockquote>
<p>JavaScript objects are containers for named values, called properties and mthods.</p>
</blockquote>
<p><strong>Creating a JavaScript Object</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Create an object using literal</span></span><br><span class="line"><span class="keyword">let</span> objectByLiteral = &#123;<span class="attr">keyX</span>: <span class="string">&quot;valueX&quot;</span>, <span class="attr">keyY</span>: <span class="string">&quot;valueY&quot;</span>&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Create an object using keyword new</span></span><br><span class="line"><span class="keyword">let</span> objectByNew = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">objectByNew.keyX = <span class="string">&quot;valueX&quot;</span>;</span><br><span class="line">objectByNew.keyY = <span class="string">&quot;valueY&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>JavaScript Objects are Mutable</strong></p>
<p>Objects are mutable: They are addressed by reference, not by value.</p>
<blockquote>
<p>JavaScript variables are not mutable. Only JavaScript objects.</p>
</blockquote>
<h2 id="JavaScript-Object-Properties"><a href="#JavaScript-Object-Properties" class="headerlink" title="JavaScript Object Properties"></a>JavaScript Object Properties</h2><p>Properties are the most important part of any JavaScript object. Properties are the values associated with a JavaScript object. A JavaScript object is a collection of unorderd properties. Properties can usually be changed, added, and deleted, but some are read only.</p>
<p><strong>Accessing JavaScript Properties</strong></p>
<p>The syntax for accessing the property of an object is :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">objectName.propertyName</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">objectName[<span class="string">&quot;property&quot;</span>]</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line">objectName[expression]	<span class="comment">// The expression must be evaluate to a property name</span></span><br></pre></td></tr></table></figure>

<p><strong>JavaScript for…in Loop</strong></p>
<p>The JavaScript for…in statment loops through the properties of an object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (variable <span class="keyword">in</span> object) &#123;</span><br><span class="line">    code to be executed</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>The block of code inside of the for…in loop will be executed once for each property.</p>
<p><strong>Add New Properties</strong></p>
<p>You can add new properties to an existing object by simply giving it a value.</p>
<blockquote>
<p>You cannot use reserved words for property names. JavaScript naming rules apply.</p>
</blockquote>
<p><strong>Deleting Properties</strong></p>
<p>The delete keyword deletes a property from an object.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> objByLiteral = &#123;<span class="attr">keyX</span>: <span class="string">&quot;valueX&quot;</span>&#125;;</span><br><span class="line"><span class="keyword">delete</span> objByLiteral.keyX;</span><br></pre></td></tr></table></figure>

<p>The delete keyword deletes both value of the property and the property itself. After deletion, the property cannot be used before it is added back again. The delete operator is designed to be used on object properties. It has no effect on variables or functions. The delete operator should not be used on predefined JavaScript object propertis. It can crash your application.</p>
<p><strong>Property Attribute</strong></p>
<p>All properties hava a name. In addition they also have a value. The value is one of the property’s attributes.</p>
<p>Other attributes are: enumerable, configurable, and writable. These attributes define how the property can be accessed.</p>
<h2 id="JavaScript-Object-Methods"><a href="#JavaScript-Object-Methods" class="headerlink" title="JavaScript Object Methods"></a>JavaScript Object Methods</h2><p>JavaScript methods are actions that can be performed on objects. A JavaScript method is a property containing a function definition.</p>
<blockquote>
<p>Methods are functions stored as object properties.</p>
</blockquote>
<p><strong>Accessing Object Methods</strong></p>
<p>You access an object method with the following syntax:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">objectName.methodName();</span><br></pre></td></tr></table></figure>

<p>If you access the method property, without <code>()</code> , it will return the function definition.</p>
<p><strong>Adding a method to an Object</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj.methodName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    code to be executed</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="JavaScript-Object-Constructors"><a href="#JavaScript-Object-Constructors" class="headerlink" title="JavaScript Object Constructors"></a>JavaScript Object Constructors</h2><p>It is considered good practice to name constructor functions with an upper-case first letter.</p>
<p>In a constructor function this does not have a value. It is a substitute for the new object. The value of this will become the new object whent a new object is created.</p>
<blockquote>
<p>Note taht <code>this</code> is not a variable. It is a keyword. You cannot change the value of this.</p>
</blockquote>
<h2 id="JavaScript-Prototypes"><a href="#JavaScript-Prototypes" class="headerlink" title="JavaScript Prototypes"></a>JavaScript Prototypes</h2><p>All JavaScript objects inherit properties and methods from a prototype.</p>
<p><strong>Prototype Inheritance</strong></p>
<p>Date objects inherit from Date.prototype. Array objects inherit from Array.prototype. The Object.prototype is on the top of the prototype inheritance chain.</p>
<p><strong>Using the prototype Property</strong></p>
<p>The JavaScript prototype allows you to add new properties to object constructors</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.key = value;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.keyNew = <span class="string">&quot;valueNes&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>The JavaScript prototype proterty also allows you to add new methods to objects constructors:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span> (<span class="params">value</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.key = value;</span><br><span class="line">&#125;</span><br><span class="line">Person.prototype.methodNew = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line"> 	code to be executed</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Only modify your own prototypes. Never modify the prototypes of standard JavaScript objects.</p>
</blockquote>
<h2 id="JavaScript-Function-Definitions"><a href="#JavaScript-Function-Definitions" class="headerlink" title="JavaScript Function Definitions"></a>JavaScript Function Definitions</h2><p>JavaScript functions are defined with the function keyword. You can use a functin declaration or a function expression.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">functionName</span> (<span class="params">parameters</span>) </span>&#123;</span><br><span class="line">    code to be executed</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Declared functions are not executed immediately. They are “saved for later use”, and will be executed later, when they are invoked.</p>
<blockquote>
<p>Semicolons are used to separate executable JavaScript statments. Since a function declaration is not an executable statment, it is not common to end it with a semicolon.</p>
</blockquote>
<p><strong>Function Expressions</strong></p>
<p>A JavaScript function can also be defined using an expression. A function expression can be stored in a variable.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> expressionFun = <span class="function"><span class="keyword">function</span> (<span class="params">parameters</span>) </span>&#123; execuate code &#125;;</span><br></pre></td></tr></table></figure>

<p>After a function expression has been stored in a variable, the variable can be used as a function.</p>
<p>Function stored in variables do not nedd function names. They are always invoked using the variable name.</p>
<p><strong>The Function() Constructor</strong></p>
<p>JavaScript functions are defined with the <code>function</code> keyword.</p>
<p>Functions can also be defined with a built-in JavaScript function consturctor called <code>Function()</code> .</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newFunction = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">&quot;parameterX&quot;</span>, <span class="string">&quot;parameterY&quot;</span>, ... <span class="string">&quot; execuated code&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>You actually don’t have to use the function constructor. Most of time, you can avoid using the new keyword in JavaScript.</p>
<p><strong>Function Hoisting</strong></p>
<p>Hoisting is JavaScript’s default behavior of moving declarations to the top of the current scopt.</p>
<p>Hoisting applies to variable declarations and to function declarations.</p>
<p>Because of this, JavaScript functions can be called before the declared.</p>
<p><strong>Self-Invoking Functions</strong></p>
<p>Function expression can be made “self-invoking”. A “self-invoking” expression is invoked automatically, without being called. Function expression will execute automatically if the expression is followed by ().</p>
<p>You cannot self-invoke a function declaration.</p>
<p>You have to add parentheses around the function to indicate that it is a function expression.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">( <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    executed code</span><br><span class="line">&#125;) ();</span><br></pre></td></tr></table></figure>

<p><strong>Functions Can Be Used as Values</strong></p>
<p>JavaScript functions can be used as values.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">parameterFun</span> (<span class="params">parameters</span>) </span>&#123;</span><br><span class="line">    executed code</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result = parameterFun(parameters);</span><br></pre></td></tr></table></figure>

<p><strong>Functions are Objects</strong></p>
<p>The <code>typeof</code> operator in JavaScirpt returns “function” for functions. But, JavaScript functions can best be descripted as objects. JavaScript functions have both properties and methods.</p>
<h2 id="JavaScript-Function-Parameters"><a href="#JavaScript-Function-Parameters" class="headerlink" title="JavaScript Function Parameters"></a>JavaScript Function Parameters</h2><p>A JavaScript function does not perform any checking on parameter values. Function parameters are the names listed in the function definition. Function arguments are the real values passed to the function.</p>
<p>JavaScript function do not check the number of arguments received.</p>
<p><strong>Parameter Defaults</strong></p>
<p>If a function is called with missing arguments, the missing value are set to <code>undefined</code> . But sometimes it is better to assign a default value to the parameter.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">arguementsMissingFun</span> (<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> ( x === <span class="literal">undefined</span> ) &#123;</span><br><span class="line">        x = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>If a function is called with too many arguments, these arguments can be reached using the arguments object.</p>
<p><strong>The Arguments Object</strong></p>
<p>JavaScirpt functions have a built-in object called the arguments object. The argument object contains an array of the arguments used when the function was called. This way you can simply use a function to find the highest value in a list of numbers.</p>
<p><strong>Arguments are Passed by Value</strong></p>
<p>The parameters, in a function call, are the function’s arguments. JavaScript arguments are passed by value: The function only gets to know the values, not arguments’s locations. If a function changes an argument’s value, it does not change the parameter’s original value. That is, changes to arguments are not visible outside the function.</p>
<p><strong>Objects are Passed by Reference</strong></p>
<p>In JavaScript, object references are values. Because of this, objects will behave like they are passed by reference: If a function changes an object property, it changes the original value. That is, changes to object properties are visible outside the function.</p>
<h2 id="JavaScript-Function-Invocation"><a href="#JavaScript-Function-Invocation" class="headerlink" title="JavaScript Function Invocation"></a>JavaScript Function Invocation</h2><p>The code inside a function is not executed when the function is defined. The code inside a function is executed when the function is invoked. It is common to use the term “call  a function” instead of “invoke a function”. It is also common to say “call upon a function”, “start a function”, or “execute a function”.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">invokeFunction</span> (<span class="params">numX, numY</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> numX * numY;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Invoking a Function as a Function</span></span><br><span class="line">invokeFunction(<span class="number">1</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<p>The function above does not belong to any object. But in JavaScript there is always a default global object. In HTML the default object is the HTML page itself, so the function above “belongs” to the HTML page. In a browser the page object is the browser window. The function above automatically becomes a window function.</p>
<blockquote>
<p>This is a common way to invoke a JavaScript function, but not a very good practice. Global variables, methods, or function can easily create name conflicts and bugs in the global object.</p>
</blockquote>
<p><strong>The <code>this</code> Keyword</strong></p>
<p>In JavaScript, the thing called <code>this</code>,  is the object that “owns” the current code. The value of this, when used in a function, is the object that “owns” the function.</p>
<blockquote>
<p>Note that this is not a variable. It is a keyword. You cannot change the value of this.</p>
</blockquote>
<p><strong>The Global Object</strong></p>
<p>When a function is called without an owner object, the value of this becomes the global object.</p>
<p>In a web browser the global object is the browser window. </p>
<blockquote>
<p>Invoking a function as a global function, causes the value of this to be the global object. Using the window object as a variable can easily crash your program.</p>
</blockquote>
<p><strong>Invoking a Function as a Method</strong></p>
<p>In JavaScript you can define functions as object methods.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> aObject = &#123;</span><br><span class="line">    <span class="attr">propertyX</span>: <span class="string">&quot;valueX&quot;</span>,</span><br><span class="line">    <span class="attr">methodY</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// some execute code</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">aObject.methodY();</span><br></pre></td></tr></table></figure>

<p><strong>Invoking a Function with a Function Constructor</strong></p>
<p>If a function invocation is preceded with the new keyword, it is constructor invocation.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// This is a function constructor</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aFun</span> (<span class="params">argX, argY</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.propertyX = argX;</span><br><span class="line">    <span class="built_in">this</span>.propertyY = argY;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// This create a new object</span></span><br><span class="line"><span class="keyword">let</span> result = <span class="keyword">new</span> aFun(<span class="string">&quot;valueX&quot;</span>, <span class="string">&quot;valueY&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>A counstructor invocation creates a new object. The new object inherits the properties and methods from its constructor.</p>
<blockquote>
<p>The <code>this</code> keyword in the constructor does not have a value. The value of <code>this</code> will be the new object created when the function is invoked.</p>
</blockquote>
<h2 id="JavaScript-Function-Call"><a href="#JavaScript-Function-Call" class="headerlink" title="JavaScript Function Call"></a>JavaScript Function Call</h2><p>With the <code>call()</code> method, you can write a method that can be used on different objects.</p>
<p>In JavaScript all functions are object methods. If a function is not a method of a JavaScript object, it is a function of the global object. </p>
<p><strong>The JavaScript <code>call()</code> Method</strong></p>
<p>The <code>call()</code> method is a predefined JavaScript method. It can be used to invoke a method with an owner object as argument.</p>
<blockquote>
<p>With <code>call()</code>, an object can use a method belonging to another object.</p>
</blockquote>
<h3 id="JavaScript-Function-Apply"><a href="#JavaScript-Function-Apply" class="headerlink" title="JavaScript Function Apply"></a>JavaScript Function Apply</h3><p>With the <code>apply()</code> method, you can write a method that can be used on different objects. The <code>apply()</code> method is similar to the <code>call()</code> method.</p>
<p>The difference Between <code>call()</code> and <code>apply()</code> :</p>
<ul>
<li>The <code>call()</code> method takes arguments separately.</li>
<li>The <code>apply()</code> method takes arguments as an array.</li>
</ul>
<blockquote>
<p>The <code>apply()</code> method is very handy if you want to use an array instead of an argument list.</p>
</blockquote>
<p>The <code>apply()</code> method accepts arguments in an array.</p>
<h3 id="JavaScript-Function-Closures"><a href="#JavaScript-Function-Closures" class="headerlink" title="JavaScript Function Closures"></a>JavaScript Function Closures</h3><p>Global variables live as long as your application lives. Local variables have shourt lives. They are created when the function is invoked, and deleted when the function is finished.</p>
<p>All functions have access to the global scope. In fact, in JavaScript, all functions have access to the scope “above” them. JavaScript supports nested functions. Nested functions have access to the scope “above” them.</p>
<p>JavaScript closures make it possible for a function to have “private” variables.</p>
<blockquote>
<p>A closures is a function having access to the parent scope, even after the parent function has closed.</p>
</blockquote>
<h2 id="JavaScript-HTML-DOM"><a href="#JavaScript-HTML-DOM" class="headerlink" title="JavaScript HTML DOM"></a>JavaScript HTML DOM</h2><p>With the HTML DOM, JavaScript can access and change all the elements of an HTML document.</p>
<p>When a web page is loaded, the browser creates a Document Object Model of the page. The HTML DOM model is constructed as a tree of Objects.</p>
<p>With the object model, JavaScript gets all the power it needs to create dynamic HTML :</p>
<ul>
<li>JavaScript can change all the HTML elements in the page</li>
<li>JavaScript can change all the HTML attributes in the page</li>
<li>JavaScript can change all the CSS styles in the page</li>
<li>JavaScript can remove existing HTML elements and attributes</li>
<li>JavaScript can add new HTML elements and attributes</li>
<li>JavaScript can react to all existing HTML events in the page</li>
<li>JavaScript can create new HTML events in the page</li>
</ul>
<p>The DOM is W3C standard and it defines a standard for accessing documents:</p>
<blockquote>
<p>The W3C Document Object Model is a platform and language-neutral interface that allows programs and scripts to dynamically access and update the content, structure, and style of a document.</p>
</blockquote>
<p>The W3C DOM standard is separated into 3 different parts:</p>
<ul>
<li>Core DOM - standard model for all document types</li>
<li>XML DOM - standard model for XML documents</li>
<li>HTML DOM - standard model for HTML documents</li>
</ul>
<p>The HTML DOM is a standard object model and programming interface for HTML. It defines :</p>
<ul>
<li>The HTML elements as objects</li>
<li>The properties of all HTML elements</li>
<li>The mehtods to access all HTML elements</li>
<li>The events for all HTML elements</li>
</ul>
<p>In other words: The HTML DOM is a standard for how to get, change, add, or delete HTML elements.</p>
<h3 id="JavaScript-HTML-DOM-Methods"><a href="#JavaScript-HTML-DOM-Methods" class="headerlink" title="JavaScript HTML DOM Methods"></a>JavaScript HTML DOM Methods</h3><p>HTML DOM methods are you can perform on HTML elements. HTML DOM properties are values of HTML elements that you can set or change.</p>
<p>The HTML DOM can be accessed with JavaScript. In the DOM, all HTML elements are defined as objects.</p>
<p><strong>The <code>getElementById()</code> method</strong></p>
<p>The most common way to access an HTML element is to use the id of the element.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(<span class="string">&quot;demo&quot;</span>).innerHTML = <span class="string">&quot;Hello DOM!&quot;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>The <code>innerHTML</code> Property</strong></p>
<p>The easiest way to get the content of an element is by using the <code>innerHTML</code> property.</p>
<blockquote>
<p>The innerHTML property can be used to get or change any HTML element, including <html> and <body>.</p>
</blockquote>
<h3 id="JavaScript-HTML-DOM-Document"><a href="#JavaScript-HTML-DOM-Document" class="headerlink" title="JavaScript HTML DOM Document"></a>JavaScript HTML DOM Document</h3><p>The HTML DOM document object is the owner of all other objects in your web page.</p>
<h4 id="Finding-HTML-Elements"><a href="#Finding-HTML-Elements" class="headerlink" title="Finding HTML Elements"></a>Finding HTML Elements</h4><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>document.getElementById(id)</code></td>
<td>Find an element by element id</td>
</tr>
<tr>
<td><code>document.getElementsByTagName(name)</code></td>
<td>Find elements by tag name</td>
</tr>
<tr>
<td><code>document.getElementsByClassName(name)</code></td>
<td>Find elements by class name</td>
</tr>
</tbody></table>
<h3 id="Changing-HTML-Elements"><a href="#Changing-HTML-Elements" class="headerlink" title="Changing HTML Elements"></a>Changing HTML Elements</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>element.innerHTML = new html content</code></td>
<td>Change the inner HTML of an element</td>
</tr>
<tr>
<td><code>element.attribute = new value</code></td>
<td>Change the attribute value of an HTML element</td>
</tr>
<tr>
<td><code>element.setAttribute(attribute, value)</code></td>
<td>Change the attribute value of an HTML element</td>
</tr>
<tr>
<td><code>element.style.property = new style</code></td>
<td>Change the style of an HTML element</td>
</tr>
</tbody></table>
<h3 id="Adding-and-Deleting-Elements"><a href="#Adding-and-Deleting-Elements" class="headerlink" title="Adding and Deleting Elements"></a>Adding and Deleting Elements</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>document.createElement(element)</code></td>
<td>Create an HTML element</td>
</tr>
<tr>
<td><code>document.removeChild(element)</code></td>
<td>Remove an HTML element</td>
</tr>
<tr>
<td><code>document.appendChild(element)</code></td>
<td>Add an HTML element</td>
</tr>
<tr>
<td><code>document.replaceChild(element)</code></td>
<td>Replace an HTML element</td>
</tr>
<tr>
<td><code>document.write(text)</code></td>
<td>Write into the HTML output stream</td>
</tr>
</tbody></table>
<h3 id="Adding-Events-Handlers"><a href="#Adding-Events-Handlers" class="headerlink" title="Adding Events Handlers"></a>Adding Events Handlers</h3><table>
<thead>
<tr>
<th>Method</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>document.getElementById(id).onclick() = function () &#123;code&#125;</code></td>
<td>Add event handler code to an onclick event</td>
</tr>
</tbody></table>
<h3 id="Finding-HTML-Objects"><a href="#Finding-HTML-Objects" class="headerlink" title="Finding HTML Objects"></a>Finding HTML Objects</h3><table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td><code>document.anchors</code></td>
<td>Return all <a> elements that have a name attribute</td>
</tr>
<tr>
<td><code>document.applets</code></td>
<td>Return all <applet> elements (Deprecated in HTML 5)</td>
</tr>
<tr>
<td><code>document.baseURI</code></td>
<td>Return the absolute base URI of the document</td>
</tr>
<tr>
<td><code>document.body</code></td>
<td>Return the <body> element</td>
</tr>
<tr>
<td><code>document.cookie</code></td>
<td>Return the document’s cookie</td>
</tr>
<tr>
<td><code>document.doctype</code></td>
<td>Return the document’s doctype</td>
</tr>
<tr>
<td><code>document.documnetElement</code></td>
<td>Return the <html> element</td>
</tr>
<tr>
<td><code>document.documentMode</code></td>
<td>Return the mode used by the browser</td>
</tr>
<tr>
<td><code>document.documentURL</code></td>
<td>Return the URI of the document</td>
</tr>
<tr>
<td><code>document.domain</code></td>
<td>Return the domain name of the document server</td>
</tr>
<tr>
<td><code>document.domConfig</code></td>
<td>Obsolete. Return the DOM configuration</td>
</tr>
<tr>
<td><code>document.embeds</code></td>
<td>Return all <embed> elements</td>
</tr>
<tr>
<td><code>document.forms</code></td>
<td>Return all <form> elements</td>
</tr>
<tr>
<td><code>document.head</code></td>
<td>Return the <head> element</td>
</tr>
<tr>
<td><code>document.images</code></td>
<td>Return all <img> elements</td>
</tr>
<tr>
<td><code>document.implementation</code></td>
<td>Return the DOM implementation</td>
</tr>
<tr>
<td><code>document.inputEncoding</code></td>
<td>Return the document’s encoding</td>
</tr>
<tr>
<td><code>document.lastModified</code></td>
<td>Return the data and time the document was updated</td>
</tr>
<tr>
<td><code>document.links</code></td>
<td>Return all <area> and <a> elements that have a href attribute</td>
</tr>
<tr>
<td><code>document.readyState</code></td>
<td>Return the status of the document</td>
</tr>
<tr>
<td><code>document.referrer</code></td>
<td>Return the URI of the referrer (the linking document)</td>
</tr>
<tr>
<td><code>document.scripts</code></td>
<td>Return all <script> elements</td>
</tr>
<tr>
<td><code>document.strictErrorChecking</code></td>
<td>Return if error checking is enforced</td>
</tr>
<tr>
<td><code>document.title</code></td>
<td>Returns the <title> element</td>
</tr>
<tr>
<td><code>document.URL</code></td>
<td>Return the complete URL of the document</td>
</tr>
</tbody></table>
<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h3 id="Finding-HTML-Elements-1"><a href="#Finding-HTML-Elements-1" class="headerlink" title="Finding HTML Elements"></a>Finding HTML Elements</h3><ul>
<li><p>The easiest way to find an HTML element in the DOM, is using the element id. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> targetElement = <span class="built_in">document</span>.getElementById(<span class="string">&quot;targetElementId&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>If the element is found, the method will return the element as an object, otherwise <code>null</code> is returned.</p>
</li>
<li><p>You can find HTML elements by tag name</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> targetElement = <span class="built_in">document</span>.getElementByTagName(<span class="string">&quot;targetTagName&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Finding HTML elements by class name</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> targetElement = <span class="built_in">document</span>.getElementByClassName(<span class="string">&quot;targetClassName&quot;</span>)</span><br></pre></td></tr></table></figure>

<p>The <code>getElementsByClassName()</code> method will return a list of all elements with a specified class name.</p>
</li>
<li><p>Finding HTML elements by CSS selectors</p>
<p>If you want to find all HTML elements that matches a specified CSS selector, use the <code>querySelectorAll()</code> method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> targetElements = <span class="built_in">document</span>.querySelectorAll(<span class="string">&quot;targetCSSSelector&quot;</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Finding HTML elements by HTML object collections</p>
</li>
</ul>
<h3 id="JavaScript-HTML-DOM-Changing-HTML"><a href="#JavaScript-HTML-DOM-Changing-HTML" class="headerlink" title="JavaScript HTML DOM - Changing HTML"></a>JavaScript HTML DOM - Changing HTML</h3><p>The HTML DOM allows JavaScript to change the content of HTML elements.</p>
<h4 id="Changing-the-HTML-Output-Stream"><a href="#Changing-the-HTML-Output-Stream" class="headerlink" title="Changing the HTML Output Stream"></a>Changing the HTML Output Stream</h4><p>In JavaScript, <code>document.write()</code> can be used to write directly to the HTML output stream.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    <span class="built_in">document</span>.write(<span class="built_in">Date</span> ());</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>Never use <code>document.write()</code> after the document is loaded. It will overwrite the document.</p>
</blockquote>
<h4 id="Changing-HTML-Content"><a href="#Changing-HTML-Content" class="headerlink" title="Changing HTML Content"></a>Changing HTML Content</h4><p>The easiest way to modify the content of an HTML element is by using the <code>innerHTML</code> property.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(id).innerHTML = <span class="keyword">new</span> HTML</span><br></pre></td></tr></table></figure>

<h4 id="Changing-the-Value-of-an-Attribute"><a href="#Changing-the-Value-of-an-Attribute" class="headerlink" title="Changing the Value of an Attribute"></a>Changing the Value of an Attribute</h4><p>To change the value of an HTML attribute, use this syntax</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(id).attribute = <span class="keyword">new</span> value</span><br></pre></td></tr></table></figure>

<h4 id="Changing-HTML-Style"><a href="#Changing-HTML-Style" class="headerlink" title="Changing HTML Style"></a>Changing HTML Style</h4><p>To change the style of an HTML element, use this syntax</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.getElementById(id).style.property = <span class="keyword">new</span> style</span><br></pre></td></tr></table></figure>

<h4 id="Using-Events"><a href="#Using-Events" class="headerlink" title="Using Events"></a>Using Events</h4><p>The HTML DOM allows you to execute code when an event occurs.</p>
<p>Events are generated by the browser when "things happen" to HTML elements</p>
<ul>
<li>An element is clicked on</li>
<li>The page has loaded</li>
<li>Input fields are changed</li>
</ul>
<h3 id="JavaScript-HTML-DOM-Animation"><a href="#JavaScript-HTML-DOM-Animation" class="headerlink" title="JavaScript HTML DOM Animation"></a>JavaScript HTML DOM Animation</h3><p>All animations should be relative to a container element.</p>
<p>The container element should be created with style = "position: relative".</p>
<p>The animation element should be created with style = "position: absolute".</p>
<p>JavaScript animations are done by programming gradual changes in an element's style. The changes are called by a timer. When the timer interval is small, the animation looks continuous.</p>
<h4 id="Create-the-Animation-Using-JavaScript"><a href="#Create-the-Animation-Using-JavaScript" class="headerlink" title="Create the Animation Using JavaScript"></a>Create the Animation Using JavaScript</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">moveAnimation</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> animateEle = <span class="built_in">document</span>.getElementById(<span class="string">&quot;animate&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> pos = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> id = <span class="built_in">setInterval</span>(frame, <span class="number">5</span>);</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">frame</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (pos == <span class="number">350</span>) &#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(id);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            pos++;</span><br><span class="line">            animateEle.style.top = pos + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">            animateEle.style.left = pos + <span class="string">&#x27;px&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="JavaScript-HTML-DOM-Events"><a href="#JavaScript-HTML-DOM-Events" class="headerlink" title="JavaScript HTML DOM Events"></a>JavaScript HTML DOM Events</h3><p>HTML DOM allows JavaScript to react to HTML events.</p>
<h4 id="Reacting-to-Events"><a href="#Reacting-to-Events" class="headerlink" title="Reacting to Events"></a>Reacting to Events</h4><p>A JavaScript can be executed when an event occurs, like when a user clicks on an HTML element.</p>
<p>To execute code when a user click on an element, add JavaScript code to an HTML event attribute.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">onclick=JavaScript</span><br></pre></td></tr></table></figure>

<h4 id="The-onload-and-onunload-Events"><a href="#The-onload-and-onunload-Events" class="headerlink" title="The onload and onunload Events"></a>The onload and onunload Events</h4><p>The onload and onunload Events are triggered when the user enters or leaves the page. The onload event can be used to check the visitor's browser type and browser version, and load the proper version of the web page based on the information.</p>
<p>The onload and onunload events can be used to deal with cookies.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">&quot;checkCookies()&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="The-onchange-Event"><a href="#The-onchange-Event" class="headerlink" title="The onchange Event"></a>The onchange Event</h4><p>The onchange event is often used  in combination with validation of input fields.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;frame&quot;</span> <span class="attr">onchange</span>=<span class="string">&quot;upperCase()&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="The-onmouseover-and-onmouseout-Events"><a href="#The-onmouseover-and-onmouseout-Events" class="headerlink" title="The onmouseover and onmouseout Events"></a>The onmouseover and onmouseout Events</h4><p>The onmouseover and onmouseout events can be used to trigger a function when the user mouse over, or out of, an HTML element.</p>
<h4 id="The-onmousedown-onmouseup-and-onclick-Events"><a href="#The-onmousedown-onmouseup-and-onclick-Events" class="headerlink" title="The onmousedown, onmouseup and onclick Events"></a>The onmousedown, onmouseup and onclick Events</h4><p>The onmousedown, onmouseup, and onclick events are all parts of a mouse-click. First when a mouse-button is clicked, the onmousedown event is triggered, then, when the mouse-button is released, the onmouseup event is triggered, finally, when the mouse-click is completed, the onclick event is triggered.</p>
<h3 id="JavaScript-HTML-DOM-EventListener"><a href="#JavaScript-HTML-DOM-EventListener" class="headerlink" title="JavaScript HTML DOM EventListener"></a>JavaScript HTML DOM EventListener</h3><p>The <code>addEventListener()</code> method attaches an event handler to the specified element without overwriting existing event handlers. The <code>addEventListener()</code> method makes it easier to control how the event reacts to bubbing.</p>
<p>When using the <code>addEventListener()</code> method, the JavaScript is separated from the HTML markup, for better readability and allows you to add event listeners even when you do not control the HTML markup.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.addEventListener(event, <span class="function"><span class="keyword">function</span>, <span class="title">useCapture</span>)</span></span><br></pre></td></tr></table></figure>

<p>The third parameter is a boolean value specifying whether to use event bubbling or event capture. This parameter is optional.</p>
<blockquote>
<p>Note that you don't use the "on" prefix for the event; use "click" instead of "onclick"</p>
</blockquote>
<h4 id="Add-an-Event-Handler-to-an-Element"><a href="#Add-an-Event-Handler-to-an-Element" class="headerlink" title="Add an Event Handler to an Element"></a>Add an Event Handler to an Element</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">element.addEventListener(&quot;click&quot;, function () &#123;</span><br><span class="line">    executed code</span><br><span class="line">&#125;);</span><br><span class="line">//</span><br><span class="line">element.addEventListener(&quot;click&quot;, aFunction);</span><br><span class="line">function aFunction () &#123;</span><br><span class="line">    executed code</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h4 id="Add-an-Event-Handler-to-the-Window-Object"><a href="#Add-an-Event-Handler-to-the-Window-Object" class="headerlink" title="Add an Event Handler to the Window Object"></a>Add an Event Handler to the Window Object</h4><p>The <code>addEventListener()</code> method allows you to add event listeners on any HTML DOM object as HTML elements, the HTML document, the window object, or other objects that support events.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">&quot;resize&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    executed code</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="Passing-Parameters"><a href="#Passing-Parameters" class="headerlink" title="Passing Parameters"></a>Passing Parameters</h4><p>When passing parameter values, use an "anonymous function" that calls the specified function with the parameter</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">element.addEventListener(<span class="string">&quot;click&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; aFunction(parameter)&#125;);</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">aFunction</span> (<span class="params">parameter</span>) </span>&#123;</span><br><span class="line">    executed code</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Event-Bubbling-or-Event-Capturing"><a href="#Event-Bubbling-or-Event-Capturing" class="headerlink" title="Event Bubbling or Event Capturing"></a>Event Bubbling or Event Capturing</h4><p>There are two ways of event propagation in the HTML DOM, bubbling and capturing. Event propagation is a way of defining the element order when an event occurs.</p>
<p> If you have a <p> element inside a <div> element, and the user clicks on the <p> element, which elements's "click" event should be handled first ?</p>
<p>In bubbling the inner most element's event is handled first and then the outer:  the <p> element's click event is handled first, then the <div> element's click event.</p>
<p>In capturing the outer most element's event is handled first and then the inner: the <div> element's click event will be handled first, the the <p> element's click event.</p>
<p>With the <code>addEventListener()</code> method you can specify the propagation type by using the <code>useCapture</code> parameter.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">addEventListener(event, <span class="function"><span class="keyword">function</span>, <span class="title">useCapture</span>)</span>;</span><br></pre></td></tr></table></figure>

<p>THe default value is false, which will use the bubbling propagation, when the value is set to true, the event uses the capturing propagation.</p>
<h4 id="The-removeEventListener-method"><a href="#The-removeEventListener-method" class="headerlink" title="The removeEventListener() method"></a>The <code>removeEventListener()</code> method</h4><p>The <code>removeEventListener()</code> method removes event handlers that have been attached with the <code>addEventListener()</code> method.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">element.removeEventListener(&quot;mousemove&quot;, aFunction);</span><br></pre></td></tr></table></figure>



<h3 id="JavaScript-HTML-DOM-Navigation"><a href="#JavaScript-HTML-DOM-Navigation" class="headerlink" title="JavaScript HTML DOM Navigation"></a>JavaScript HTML DOM Navigation</h3><p>With the HTML DOM, you can navigate the node tree using node relationships.</p>
<h4 id="DOM-Nodes"><a href="#DOM-Nodes" class="headerlink" title="DOM Nodes"></a>DOM Nodes</h4><p>According to the W3C HTML DOM standard, everything in an HTML document is a node. All node in the node tree can be accessed by JavaScript. New nodes can be created, and all nodes can be modified or deleted.</p>
<h4 id="Node-Relationships"><a href="#Node-Relationships" class="headerlink" title="Node Relationships"></a><strong>Node Relationships</strong></h4><p>The nodes in the node tree have a hierarchical relationship to each other.</p>
<p>The terms parent, child, and sibling are used to describe the relationships.</p>
<ul>
<li>In a node tree, the top node is called the root</li>
<li>Every node has exactly one parent, except the root</li>
<li>A node can have a number of children</li>
<li>Sibling are nodes with the same parent</li>
</ul>
<p><strong>Navigating Between Nodes</strong></p>
<p>You can use the following node properties to navigate between nodes with JavaScript</p>
<ul>
<li><code>parentNode</code></li>
<li><code>childNodes[nodenumber]</code></li>
<li><code>firstChild</code></li>
<li><code>lastChild</code></li>
<li><code>nextChild</code></li>
<li><code>previousSibling</code></li>
</ul>
<h4 id="Child-Nodes-and-Node-Values"><a href="#Child-Nodes-and-Node-Values" class="headerlink" title="Child Nodes and Node Values"></a>Child Nodes and Node Values</h4><blockquote>
<p>A common error in DOM processing is to expect an element node to contain text</p>
</blockquote>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span> JavaScript Tutorial <span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>The element node <title> dose not contain text. It contains a text node with the value "JavaScript Tutorial". The value of the text node can be accessed by the node's <code>innerHTML</code> property.</p>
<h4 id="InnerHTML"><a href="#InnerHTML" class="headerlink" title="InnerHTML"></a>InnerHTML</h4><p>You can retrieve the content of an HTML element. </p>
<h4 id="DOM-Root-Nodes"><a href="#DOM-Root-Nodes" class="headerlink" title="DOM Root Nodes"></a>DOM Root Nodes</h4><p>There are two special properties that allow access to the full document</p>
<ul>
<li><code>document.body</code> - The body of the document</li>
<li><code>document.documentElement</code> - The full document</li>
</ul>
<h4 id="The-nodeName-Property"><a href="#The-nodeName-Property" class="headerlink" title="The nodeName Property"></a>The nodeName Property</h4><p>The nodeName property specifies the name of a node.</p>
<ul>
<li>nodeName is read-only</li>
<li>nodeName of an element node is the same as the tag name</li>
<li>nodeName of an attribute node is the attribute name</li>
<li>nodeName of a text node is always #text</li>
<li>nodeName of the document node is always #document</li>
</ul>
<blockquote>
<p>Note: nodeName always contains the uppercase tag name of an HTML element</p>
</blockquote>
<h4 id="The-nodeValue-Property"><a href="#The-nodeValue-Property" class="headerlink" title="The nodeValue Property"></a>The nodeValue Property</h4><p>The nodeValue property specifies the value of a node.</p>
<ul>
<li>nodeValue for element nodes is undefined</li>
<li>nodeValue for text nodes is text itself</li>
<li>nodeValue for attribute nodes is the attribute value</li>
</ul>
<h4 id="The-nodeType-Property"><a href="#The-nodeType-Property" class="headerlink" title="The nodeType Property"></a>The nodeType Property</h4><p>The nodeType property is read only. It returns the type of a node.</p>
<table>
<thead>
<tr>
<th>Node</th>
<th>Type</th>
<th>Example</th>
</tr>
</thead>
<tbody><tr>
<td>ELEMENT_NODE</td>
<td>1</td>
<td><h1></h1></td>
</tr>
<tr>
<td>ATTRIBUTE_NODE</td>
<td>2</td>
<td><code>class = &quot;&quot;</code></td>
</tr>
<tr>
<td>TEXT_NODE</td>
<td>3</td>
<td>JavaScript Tutorials</td>
</tr>
<tr>
<td>COMMENT_NODE</td>
<td>8</td>
<td><!-- This is a commnet --></td>
</tr>
<tr>
<td>DOCUMENT_NODE</td>
<td>9</td>
<td>The HTML document itself</td>
</tr>
<tr>
<td>DOCUMENT_TYPE_NODE</td>
<td>10</td>
<td><code>&lt;!Doctype html&gt;</code></td>
</tr>
</tbody></table>
<blockquote>
<p>Type 2 is deprecated in the HTML DOM (but works). It is not deprecated in the XML DOM</p>
</blockquote>
<h3 id="JavaScript-HTML-DOM-Elements"><a href="#JavaScript-HTML-DOM-Elements" class="headerlink" title="JavaScript HTML DOM Elements"></a>JavaScript HTML DOM Elements</h3><p>Adding and Removing Nodes.</p>
<p><strong>Creating New HTML Elements</strong></p>
<p>To ad a new element to HTML DOM, u must create the element first, and then append it to an existing element.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.createElement(<span class="string">&quot;elementName&quot;</span>);</span><br><span class="line"><span class="built_in">document</span>.createTextNode(<span class="string">&quot;textContent&quot;</span>);</span><br></pre></td></tr></table></figure>

<h4 id="insertBefore"><a href="#insertBefore" class="headerlink" title="insertBefore()"></a><code>insertBefore()</code></h4><p>The <code>appendChild()</code> method appended the new element as the last child of the parent. If you don't want that you can use the <code>insertBefore()</code> method.</p>
<p><strong>Removing Existing HTML Elements</strong></p>
<p>To remove an HTML element, you must know the parent of the element.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parentElement.removeChild(<span class="string">&quot;childElement&quot;</span>);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>It would be nice to be able to remove an element without referring to the parent. But sorry, the DOM needs to know both the element you want to remove, and its parent.</p>
</blockquote>
<h4 id="Replacing-HTML-Elements"><a href="#Replacing-HTML-Elements" class="headerlink" title="Replacing HTML Elements"></a>Replacing HTML Elements</h4><p>To replace an element to the HTML DOM, use the <code>replaceChild()</code> method.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">parentElement.replaceChild(element, child);</span><br></pre></td></tr></table></figure>



<h3 id="JavaScript-HTML-DOM-Collections"><a href="#JavaScript-HTML-DOM-Collections" class="headerlink" title="JavaScript HTML DOM Collections"></a>JavaScript HTML DOM Collections</h3><p>The <code>getElementsByTagName()</code> method returns an <code>HTMLCollection</code> object. An <code>HTMLCollection</code> object is an array-like list of HTML elements.</p>
<p>The elements in the collection can be accessed by an index number.</p>
<h4 id="HTML-HTMLCollection-Length"><a href="#HTML-HTMLCollection-Length" class="headerlink" title="HTML HTMLCollection Length"></a>HTML HTMLCollection Length</h4><p>The length property defines the number of elements in an <code>HTMLCollction</code>.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pElementsCollectionLength = <span class="built_in">document</span>.getElementsByTagName(<span class="string">&quot;p&quot;</span>).length;</span><br></pre></td></tr></table></figure>

<p>The length property is useful when you want to loop through the elements in a collection.</p>
<blockquote>
<p>An <code>HTMLCollection</code> is not an array.</p>
<p>An <code>HTMLCollection</code> may look like an array, but it is not.</p>
</blockquote>
<h3 id="JavaScript-HTML-DOM-Node-Lists"><a href="#JavaScript-HTML-DOM-Node-Lists" class="headerlink" title="JavaScript HTML DOM Node Lists"></a>JavaScript HTML DOM Node Lists</h3><p>A <code>NodeList</code> object is a list of nodes extracted from a document. A <code>NodeList</code> object is almost the same as an <code>HTMLCollection</code> object.  All browsers return a <code>NodeList</code> object for the property <code>childNodes</code>. Most browsers return a <code>NodeList</code> object for the method <code>querySelectorAll()</code>. </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pNodeList = <span class="built_in">document</span>.querySelectorAll(<span class="string">&quot;p&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>The elements in the <code>NodeList</code> can be accessed by an index number.</p>
<h4 id="HTML-DOM-Node-List-Length"><a href="#HTML-DOM-Node-List-Length" class="headerlink" title="HTML DOM Node List Length"></a>HTML DOM Node List Length</h4><p>The length property defines the number of nodes in a node list.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> pNodeListLength = <span class="built_in">document</span>.querySelectorAll(<span class="string">&quot;p&quot;</span>).length;</span><br></pre></td></tr></table></figure>

<p>The length property is useful when you want to loop through the node in a node list.</p>
<h4 id="The-Difference-Between-an-HTMLCollection-and-NodeList"><a href="#The-Difference-Between-an-HTMLCollection-and-NodeList" class="headerlink" title="The Difference Between an HTMLCollection and NodeList"></a>The Difference Between an HTMLCollection and NodeList</h4><p>An <code>HTMLCollection</code> is a collection of HTML elements. A <code>NodeList</code> is a collection of document nodes. A <code>NodeList</code> and an <code>HTMLCollection</code> is very much the same thing. Both an <code>HTMLCollection</code> object and a <code>NodeList</code> object is an array-like list of objects. Both have a length property defining the number of items in the list. Both provide an index to access each item like an array. <code>HTMLCollection</code> items can be accessed by their name, id, or index number. <code>NodeList</code> items can only be accessed by their index number. Only the <code>NodeList</code> object can contain attribute nodes and text nodes.</p>
<h2 id="JavaScript-Browser-BOM"><a href="#JavaScript-Browser-BOM" class="headerlink" title="JavaScript Browser BOM"></a>JavaScript Browser BOM</h2><p>The browser object model allows JavaScript to "talk to" the browser.</p>
<p>There are no official standards for the Browser Object Model. Since modern browser have implemented the same methods and properties for JavaScript interactivity, it is often referred to, as methods and properties of the BOM.</p>
<h3 id="The-Window-Object"><a href="#The-Window-Object" class="headerlink" title="The Window Object"></a>The Window Object</h3><p>The window object is supported by all browsers. It represents the browser's window.  All global JavaScript objects, functions, and variables automatically become members of the window object.</p>
<p>Global variables are properties of the window object. Global functions are methods of the window object. Even the document object is a property of the window object.</p>
<h4 id="Window-Size"><a href="#Window-Size" class="headerlink" title="Window Size"></a>Window Size</h4><p>Two properties can be used to determine the size of the browser window.</p>
<p>Both properties return the sizes in pixels:</p>
<ul>
<li><code>window.innerHeight</code> - the inner height of the browser window</li>
<li><code>window.innderWidth</code> - the inner width of the browser window</li>
</ul>
<blockquote>
<p>The browser window is not including toolbars and scrollbars</p>
</blockquote>
<h4 id="Other-Window-Methods"><a href="#Other-Window-Methods" class="headerlink" title="Other Window Methods"></a>Other Window Methods</h4><ul>
<li><code>window.open()</code> - open a new window</li>
<li><code>window.close()</code> - close the current window</li>
<li><code>window.moveTo()</code> - move the current window</li>
<li><code>window.resizeTo()</code> - resize the current window</li>
</ul>
<h4 id="Window-Screen"><a href="#Window-Screen" class="headerlink" title="Window Screen"></a>Window Screen</h4><p>The <code>window.screen</code> object can be written without the window prefix.</p>
<ul>
<li><code>screen.width</code> - return the width of the visitor's screen in pixels</li>
<li><code>screen.height</code> - return the height of the visitor's screen in pixels</li>
<li><code>screen.availWidth</code> - return the width of the visitor's, in pixels, minus interface features like the window Taskbar</li>
<li><code>screen.availHeight</code> - return the height of the visitor's, in pixels, minus interface features like the window Taskbar</li>
<li><code>screen.colorDepth</code> - return the number of bits used to display one color</li>
<li><code>screen.pixelDepth</code> - return the pixel depth of the screen</li>
</ul>
<blockquote>
<p>For modern computers, Color Depth and Pixel Depth are equal</p>
</blockquote>
<h4 id="Window-Location"><a href="#Window-Location" class="headerlink" title="Window Location"></a>Window Location</h4><p>The <code>window.location</code> object can be written without the window prefix.</p>
<h5 id="Window-Location-Href"><a href="#Window-Location-Href" class="headerlink" title="Window Location Href"></a>Window Location Href</h5><p>The <code>window.location.href</code> property return the URL of the current page.</p>
<h5 id="Window-Location-Hostname"><a href="#Window-Location-Hostname" class="headerlink" title="Window Location Hostname"></a>Window Location Hostname</h5><p>The <code>window.location.hostname</code> property return the name of the internet host of the current page.</p>
<h5 id="Window-Location-Pathname"><a href="#Window-Location-Pathname" class="headerlink" title="Window Location Pathname"></a>Window Location Pathname</h5><p>The <code>window.location.pathname</code> property return the pathname of the current page.</p>
<h5 id="Window-Location-Protocol"><a href="#Window-Location-Protocol" class="headerlink" title="Window Location Protocol"></a>Window Location Protocol</h5><p>The <code>window.location.protocol</code> property return the web protocol of the page.</p>
<h5 id="Window-Location-Port"><a href="#Window-Location-Port" class="headerlink" title="Window Location Port"></a>Window Location Port</h5><p>The <code>window.location.port</code> property returns the number of the internet host port of the current page.</p>
<blockquote>
<p>Most browsers will not display default port numbers (80 for http and 443 for https)</p>
</blockquote>
<h5 id="Window-Location-Assign"><a href="#Window-Location-Assign" class="headerlink" title="Window Location Assign"></a>Window Location Assign</h5><p>The <code>window.location.assign()</code> method loads a new document.</p>
<h4 id="Window-History"><a href="#Window-History" class="headerlink" title="Window History"></a>Window History</h4><p>The <code>window.history</code> object contains the browsers history. To protext the privacy of the users, there are limitations to how JavaScript can access this object.</p>
<p>Some methods:</p>
<ul>
<li><code>history.back()</code> - same as clicking back in the browser</li>
<li><code>history.forward()</code> - same as clicking forward in the browser</li>
</ul>
<h4 id="Window-Navigator"><a href="#Window-Navigator" class="headerlink" title="Window Navigator"></a>Window Navigator</h4><p>The <code>window.navigator</code> object contains information about the visitor's browser.</p>
<h5 id="Browser-Cookies"><a href="#Browser-Cookies" class="headerlink" title="Browser Cookies"></a>Browser Cookies</h5><p>The <code>cookieEnabled</code> property return true if cookies are enabled, otherwise false</p>
<h5 id="Browser-Application-Name"><a href="#Browser-Application-Name" class="headerlink" title="Browser Application Name"></a>Browser Application Name</h5><p>The <code>appName</code> property return the application name of the browser</p>
<h5 id="Browser-Application-Code-Name"><a href="#Browser-Application-Code-Name" class="headerlink" title="Browser Application Code Name"></a>Browser Application Code Name</h5><p>The <code>appCodeName</code> property return the application code name of the browser</p>
<h5 id="The-Browser-Engine"><a href="#The-Browser-Engine" class="headerlink" title="The Browser Engine"></a>The Browser Engine</h5><p>The <code>product</code> property return the product name of the browser engine.</p>
<h5 id="The-Browser-Version"><a href="#The-Browser-Version" class="headerlink" title="The Browser Version"></a>The Browser Version</h5><p>The <code>appVersion</code> property return version information about the browser.</p>
<h5 id="The-Browser-Agent"><a href="#The-Browser-Agent" class="headerlink" title="The Browser Agent"></a>The Browser Agent</h5><p>The <code>userAgent</code> property returns the user-agent header sent by the browser to the server</p>
<blockquote>
<p>The information from the navigator object can often be misleading, and should not be used to detect browser versions .</p>
</blockquote>
<h5 id="The-Browser-Platform"><a href="#The-Browser-Platform" class="headerlink" title="The Browser Platform"></a>The Browser Platform</h5><p>The <code>platform</code> property return the browser platform.</p>
<h5 id="The-Browser-Language"><a href="#The-Browser-Language" class="headerlink" title="The Browser Language"></a>The Browser Language</h5><p>The <code>language</code> property returns the browser's language.</p>
<h5 id="Is-The-Browser-Online"><a href="#Is-The-Browser-Online" class="headerlink" title="Is The Browser Online?"></a>Is The Browser Online?</h5><p>The <code>online</code> property return true if the browser is online.</p>
<h5 id="Is-Java-Enabled"><a href="#Is-Java-Enabled" class="headerlink" title="Is Java Enabled?"></a>Is Java Enabled?</h5><p>The <code>javaEnabled()</code> method return true if Java is enabled.</p>
<h4 id="Timing-Events"><a href="#Timing-Events" class="headerlink" title="Timing Events"></a>Timing Events</h4><p>The window object allows execution of code at specified time intervals. These time intervals are called timing events.</p>
<ul>
<li><p><code>setTimeout(function, milliseconds)</code></p>
<p>Executes a function, after waitting a specified number of milliseconds</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>, <span class="title">milliseconds</span>)</span>;</span><br><span class="line"><span class="comment">// or</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function"><span class="keyword">function</span>, <span class="title">milliseconds</span>)</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p><code>setInterval(function, milliseconds)</code></p>
<p>Same as <code>setTimeout</code> , but repeats the execution of the function continously.</p>
</li>
</ul>
<h5 id="How-to-stop-the-execution"><a href="#How-to-stop-the-execution" class="headerlink" title="How to stop the execution?"></a>How to stop the execution?</h5><p>The <code>clearTimeout()</code> method stops the execution of the function specified in <code>setTimeout()</code>.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">window.clearTimeout(timeoutVariable);</span><br></pre></td></tr></table></figure>

<p>If the function has not already been executed, you can stop the execution by calling the <code>clearTimeout()</code> method.</p>
<h4 id="Cookies"><a href="#Cookies" class="headerlink" title="Cookies"></a>Cookies</h4><p>Cookies let you store user information in web pages.</p>
<h5 id="What-are-cookies"><a href="#What-are-cookies" class="headerlink" title="What are cookies?"></a>What are cookies?</h5><p>Cookies are data, stored in small text files, on your computer. When a web server has sent a web page to a browser, the connection is shut down, and the server forgets everything about the user. Cookies were invented to solve the problem "how to remember information about the user".</p>
<p>Cookies are saved in name-value pairs like :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">username = Mr Van	</span><br></pre></td></tr></table></figure>

<p>When a browser requests a web page from a server, cookies belonging to the page is added to the request. This way the server gets the necessary data to "remember" information about users.</p>
<blockquote>
<p>None of the examples below will work if your broswer has local cookies support turned off</p>
</blockquote>
<h5 id="Create-a-Cookie-with-JavaScript"><a href="#Create-a-Cookie-with-JavaScript" class="headerlink" title="Create a Cookie with JavaScript"></a>Create a Cookie with JavaScript</h5><p>JavaScript can create, read, and delete cookies with the <code>document.cookie</code> property.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&quot;username=Van&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>You can also add an expiry date in UTC time. By default, the cookie is deleted when the browser is closed.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&quot;username=Van; expires=Wed, 25 July 2016 12:00:00 UTC&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>With a path parameter, you can tell the browser what path the cookie belongs to. By default, the cookies belongs to the current page.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&quot;username=Van; path=/;&quot;</span>;</span><br></pre></td></tr></table></figure>

<h5 id="Read-a-Cookie-with-JavaScript"><a href="#Read-a-Cookie-with-JavaScript" class="headerlink" title="Read a Cookie with JavaScript"></a>Read a Cookie with JavaScript</h5><p>With JavaScript, cookies can be read like this :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> cookie = <span class="built_in">document</span>.cookie;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><code>document.cookie</code> will return all collkies in one string much like: cookie1=value; cookie2=value; cookie3=value;</p>
</blockquote>
<h5 id="Change-a-Cookie-with-JavaScript"><a href="#Change-a-Cookie-with-JavaScript" class="headerlink" title="Change a Cookie with JavaScript"></a>Change a Cookie with JavaScript</h5><p>With JavaScript, you can change a cookie the same way as you create it :</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = <span class="string">&quot;username=HH; path=/;&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>The old cookies is overwritten.</p>
<h5 id="Delete-a-cookie-with-JavaScript"><a href="#Delete-a-cookie-with-JavaScript" class="headerlink" title="Delete a cookie with JavaScript"></a>Delete a cookie with JavaScript</h5><p>Deleting a cookie is very simple. You don't have to specify a cookie value when you delete a cookie.</p>
<p>Just set the expires parameter to a passed date :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.cookie = &quot;username=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;&quot;;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>You should define the cookie path to ensure that you delete the right cookie.</p>
<p>Some browser will not let you delete a cookie if you don't spcify the path.</p>
</blockquote>
<h5 id="The-Cookie-String"><a href="#The-Cookie-String" class="headerlink" title="The Cookie String"></a>The Cookie String</h5><p>The <code>document.cookie</code> property looks like a normal text string. But it is not.</p>
<p>Even if you write a whole cookie string to <code>document.cookie</code>, when you read it out again, you can only see the name-value pair of it.</p>
<p>If you set a new cookie, older cookies are not overwritten. The new cookie is added to <code>document.cookie</code>.</p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/categories/JavaScript/">上一页</a></div><div class="pagination-next is-invisible is-hidden-mobile"><a href="/categories/JavaScript/page/3/">下一页</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/categories/JavaScript/">1</a></li><li><a class="pagination-link is-current" href="/categories/JavaScript/page/2/">2</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="LeiTech"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">LeiTech</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">54</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">10</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">4</p></a></div></div></nav><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="/"><i class="fab fa-github"></i></a></div></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">归档</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">五月 2021</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">一月 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">十二月 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">六月 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">九月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">六月 2019</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">四月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">三月 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/02/"><span class="level-start"><span class="level-item">二月 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/12/"><span class="level-start"><span class="level-item">十二月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/09/"><span class="level-start"><span class="level-item">九月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">七月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">六月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">五月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">四月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">三月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">二月 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">一月 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/05/"><span class="level-start"><span class="level-item">五月 2017</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/04/"><span class="level-start"><span class="level-item">四月 2017</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/06/"><span class="level-start"><span class="level-item">六月 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/04/"><span class="level-start"><span class="level-item">四月 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/03/"><span class="level-start"><span class="level-item">三月 2016</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/02/"><span class="level-start"><span class="level-item">二月 2016</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2016/01/"><span class="level-start"><span class="level-item">一月 2016</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/12/"><span class="level-start"><span class="level-item">十二月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/11/"><span class="level-start"><span class="level-item">十一月 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/10/"><span class="level-start"><span class="level-item">十月 2015</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2015/09/"><span class="level-start"><span class="level-item">九月 2015</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/CS/"><span class="level-start"><span class="level-item">CS</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Git/"><span class="level-start"><span class="level-item">Git</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/GoLang/"><span class="level-start"><span class="level-item">GoLang</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">19</span></span></a></li><li><a class="level is-mobile" href="/categories/Mac/"><span class="level-start"><span class="level-item">Mac</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/TypeScript/"><span class="level-start"><span class="level-item">TypeScript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Vue/"><span class="level-start"><span class="level-item">Vue</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Web/"><span class="level-start"><span class="level-item">Web</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/iOS/"><span class="level-start"><span class="level-item">iOS</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/%E5%A4%A7%E5%89%8D%E7%AB%AF/"><span class="level-start"><span class="level-item">大前端</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-16T16:00:00.000Z">2021-05-17</time></p><p class="title"><a href="/2021/05/17/Vue%20%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90/">Vue 3 源码解析</a></p><p class="categories"><a href="/categories/Vue/">Vue</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-14T16:00:00.000Z">2021-05-15</time></p><p class="title"><a href="/2021/05/15/golang-channel/">GoLang Channel and</a></p><p class="categories"><a href="/categories/GoLang/">GoLang</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-12T16:00:00.000Z">2021-05-13</time></p><p class="title"><a href="/2021/05/13/golang-road-map/">GoLang Developer Road Map</a></p><p class="categories"><a href="/categories/GoLang/">GoLang</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-05-12T16:00:00.000Z">2021-05-13</time></p><p class="title"><a href="/2021/05/13/golang-basic/">GoLang Basic Knowledge</a></p><p class="categories"><a href="/categories/GoLang/">GoLang</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-08T08:15:01.381Z">2021-01-08</time></p><p class="title"><a href="/2021/01/08/Web%20%E5%8A%A0%E5%AF%86%E5%92%8C%E8%A7%A3%E5%AF%86/"> </a></p></div></article></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/GoLang/"><span class="tag">GoLang</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web/"><span class="tag">Web</span><span class="tag">3</span></a></div></div></div></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="关于代码的碎碎念" height="28"></a><p class="is-size-7"><span>&copy; 2022 Y2hlbmdsZWk=</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>